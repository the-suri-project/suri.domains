import{aj as ge,a_ as no,al as Lf,am as Pf,b0 as Ga,ah as Ff,b1 as fi}from"./index.da45a023.js";import{e as io,r as Ya}from"./___vite-browser-external_commonjs-proxy.183608e3.js";var Pn={exports:{}};(function(t){var e,r,n,i,o,a,s,f,p,d,E,T,I,x,U,R,B,m,S,v,D,C,c,_,W;(function(V){var re=typeof ge=="object"?ge:typeof self=="object"?self:typeof this=="object"?this:{};V(ne(re,ne(t.exports)));function ne(L,y){return L!==re&&(typeof Object.create=="function"?Object.defineProperty(L,"__esModule",{value:!0}):L.__esModule=!0),function(A,z){return L[A]=y?y(A,z):z}}})(function(V){var re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,y){L.__proto__=y}||function(L,y){for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(L[A]=y[A])};e=function(L,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");re(L,y);function A(){this.constructor=L}L.prototype=y===null?Object.create(y):(A.prototype=y.prototype,new A)},r=Object.assign||function(L){for(var y,A=1,z=arguments.length;A<z;A++){y=arguments[A];for(var K in y)Object.prototype.hasOwnProperty.call(y,K)&&(L[K]=y[K])}return L},n=function(L,y){var A={};for(var z in L)Object.prototype.hasOwnProperty.call(L,z)&&y.indexOf(z)<0&&(A[z]=L[z]);if(L!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,z=Object.getOwnPropertySymbols(L);K<z.length;K++)y.indexOf(z[K])<0&&Object.prototype.propertyIsEnumerable.call(L,z[K])&&(A[z[K]]=L[z[K]]);return A},i=function(L,y,A,z){var K=arguments.length,F=K<3?y:z===null?z=Object.getOwnPropertyDescriptor(y,A):z,k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(L,y,A,z);else for(var G=L.length-1;G>=0;G--)(k=L[G])&&(F=(K<3?k(F):K>3?k(y,A,F):k(y,A))||F);return K>3&&F&&Object.defineProperty(y,A,F),F},o=function(L,y){return function(A,z){y(A,z,L)}},a=function(L,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(L,y)},s=function(L,y,A,z){function K(F){return F instanceof A?F:new A(function(k){k(F)})}return new(A||(A=Promise))(function(F,k){function G(X){try{Q(z.next(X))}catch(he){k(he)}}function Y(X){try{Q(z.throw(X))}catch(he){k(he)}}function Q(X){X.done?F(X.value):K(X.value).then(G,Y)}Q((z=z.apply(L,y||[])).next())})},f=function(L,y){var A={label:0,sent:function(){if(F[0]&1)throw F[1];return F[1]},trys:[],ops:[]},z,K,F,k;return k={next:G(0),throw:G(1),return:G(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function G(Q){return function(X){return Y([Q,X])}}function Y(Q){if(z)throw new TypeError("Generator is already executing.");for(;A;)try{if(z=1,K&&(F=Q[0]&2?K.return:Q[0]?K.throw||((F=K.return)&&F.call(K),0):K.next)&&!(F=F.call(K,Q[1])).done)return F;switch(K=0,F&&(Q=[Q[0]&2,F.value]),Q[0]){case 0:case 1:F=Q;break;case 4:return A.label++,{value:Q[1],done:!1};case 5:A.label++,K=Q[1],Q=[0];continue;case 7:Q=A.ops.pop(),A.trys.pop();continue;default:if(F=A.trys,!(F=F.length>0&&F[F.length-1])&&(Q[0]===6||Q[0]===2)){A=0;continue}if(Q[0]===3&&(!F||Q[1]>F[0]&&Q[1]<F[3])){A.label=Q[1];break}if(Q[0]===6&&A.label<F[1]){A.label=F[1],F=Q;break}if(F&&A.label<F[2]){A.label=F[2],A.ops.push(Q);break}F[2]&&A.ops.pop(),A.trys.pop();continue}Q=y.call(L,A)}catch(X){Q=[6,X],K=0}finally{z=F=0}if(Q[0]&5)throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}},p=function(L,y){for(var A in L)A!=="default"&&!Object.prototype.hasOwnProperty.call(y,A)&&W(y,L,A)},W=Object.create?function(L,y,A,z){z===void 0&&(z=A);var K=Object.getOwnPropertyDescriptor(y,A);(!K||("get"in K?!y.__esModule:K.writable||K.configurable))&&(K={enumerable:!0,get:function(){return y[A]}}),Object.defineProperty(L,z,K)}:function(L,y,A,z){z===void 0&&(z=A),L[z]=y[A]},d=function(L){var y=typeof Symbol=="function"&&Symbol.iterator,A=y&&L[y],z=0;if(A)return A.call(L);if(L&&typeof L.length=="number")return{next:function(){return L&&z>=L.length&&(L=void 0),{value:L&&L[z++],done:!L}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},E=function(L,y){var A=typeof Symbol=="function"&&L[Symbol.iterator];if(!A)return L;var z=A.call(L),K,F=[],k;try{for(;(y===void 0||y-- >0)&&!(K=z.next()).done;)F.push(K.value)}catch(G){k={error:G}}finally{try{K&&!K.done&&(A=z.return)&&A.call(z)}finally{if(k)throw k.error}}return F},T=function(){for(var L=[],y=0;y<arguments.length;y++)L=L.concat(E(arguments[y]));return L},I=function(){for(var L=0,y=0,A=arguments.length;y<A;y++)L+=arguments[y].length;for(var z=Array(L),K=0,y=0;y<A;y++)for(var F=arguments[y],k=0,G=F.length;k<G;k++,K++)z[K]=F[k];return z},x=function(L,y,A){if(A||arguments.length===2)for(var z=0,K=y.length,F;z<K;z++)(F||!(z in y))&&(F||(F=Array.prototype.slice.call(y,0,z)),F[z]=y[z]);return L.concat(F||Array.prototype.slice.call(y))},U=function(L){return this instanceof U?(this.v=L,this):new U(L)},R=function(L,y,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z=A.apply(L,y||[]),K,F=[];return K={},k("next"),k("throw"),k("return"),K[Symbol.asyncIterator]=function(){return this},K;function k(ee){z[ee]&&(K[ee]=function(de){return new Promise(function(j,$){F.push([ee,de,j,$])>1||G(ee,de)})})}function G(ee,de){try{Y(z[ee](de))}catch(j){he(F[0][3],j)}}function Y(ee){ee.value instanceof U?Promise.resolve(ee.value.v).then(Q,X):he(F[0][2],ee)}function Q(ee){G("next",ee)}function X(ee){G("throw",ee)}function he(ee,de){ee(de),F.shift(),F.length&&G(F[0][0],F[0][1])}},B=function(L){var y,A;return y={},z("next"),z("throw",function(K){throw K}),z("return"),y[Symbol.iterator]=function(){return this},y;function z(K,F){y[K]=L[K]?function(k){return(A=!A)?{value:U(L[K](k)),done:K==="return"}:F?F(k):k}:F}},m=function(L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=L[Symbol.asyncIterator],A;return y?y.call(L):(L=typeof d=="function"?d(L):L[Symbol.iterator](),A={},z("next"),z("throw"),z("return"),A[Symbol.asyncIterator]=function(){return this},A);function z(F){A[F]=L[F]&&function(k){return new Promise(function(G,Y){k=L[F](k),K(G,Y,k.done,k.value)})}}function K(F,k,G,Y){Promise.resolve(Y).then(function(Q){F({value:Q,done:G})},k)}},S=function(L,y){return Object.defineProperty?Object.defineProperty(L,"raw",{value:y}):L.raw=y,L};var ne=Object.create?function(L,y){Object.defineProperty(L,"default",{enumerable:!0,value:y})}:function(L,y){L.default=y};v=function(L){if(L&&L.__esModule)return L;var y={};if(L!=null)for(var A in L)A!=="default"&&Object.prototype.hasOwnProperty.call(L,A)&&W(y,L,A);return ne(y,L),y},D=function(L){return L&&L.__esModule?L:{default:L}},C=function(L,y,A,z){if(A==="a"&&!z)throw new TypeError("Private accessor was defined without a getter");if(typeof y=="function"?L!==y||!z:!y.has(L))throw new TypeError("Cannot read private member from an object whose class did not declare it");return A==="m"?z:A==="a"?z.call(L):z?z.value:y.get(L)},c=function(L,y,A,z,K){if(z==="m")throw new TypeError("Private method is not writable");if(z==="a"&&!K)throw new TypeError("Private accessor was defined without a setter");if(typeof y=="function"?L!==y||!K:!y.has(L))throw new TypeError("Cannot write private member to an object whose class did not declare it");return z==="a"?K.call(L,A):K?K.value=A:y.set(L,A),A},_=function(L,y){if(y===null||typeof y!="object"&&typeof y!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof L=="function"?y===L:L.has(y)},V("__extends",e),V("__assign",r),V("__rest",n),V("__decorate",i),V("__param",o),V("__metadata",a),V("__awaiter",s),V("__generator",f),V("__exportStar",p),V("__createBinding",W),V("__values",d),V("__read",E),V("__spread",T),V("__spreadArrays",I),V("__spreadArray",x),V("__await",U),V("__asyncGenerator",R),V("__asyncDelegator",B),V("__asyncValues",m),V("__makeTemplateObject",S),V("__importStar",v),V("__importDefault",D),V("__classPrivateFieldGet",C),V("__classPrivateFieldSet",c),V("__classPrivateFieldIn",_)})})(Pn);var oo={},Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});var Ja=Oe.getLocalStorage=ic=Oe.getLocalStorageOrThrow=nc=Oe.getCrypto=rc=Oe.getCryptoOrThrow=ao=Oe.getLocation=tc=Oe.getLocationOrThrow=Fn=Oe.getNavigator=ec=Oe.getNavigatorOrThrow=so=Oe.getDocument=Za=Oe.getDocumentOrThrow=Qa=Oe.getFromWindowOrThrow=Xa=Oe.getFromWindow=void 0;function fr(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}var Xa=Oe.getFromWindow=fr;function Nr(t){const e=fr(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}var Qa=Oe.getFromWindowOrThrow=Nr;function Mf(){return Nr("document")}var Za=Oe.getDocumentOrThrow=Mf;function Uf(){return fr("document")}var so=Oe.getDocument=Uf;function Bf(){return Nr("navigator")}var ec=Oe.getNavigatorOrThrow=Bf;function $f(){return fr("navigator")}var Fn=Oe.getNavigator=$f;function jf(){return Nr("location")}var tc=Oe.getLocationOrThrow=jf;function zf(){return fr("location")}var ao=Oe.getLocation=zf;function kf(){return Nr("crypto")}var rc=Oe.getCryptoOrThrow=kf;function Kf(){return fr("crypto")}var nc=Oe.getCrypto=Kf;function Hf(){return Nr("localStorage")}var ic=Oe.getLocalStorageOrThrow=Hf;function Vf(){return fr("localStorage")}Ja=Oe.getLocalStorage=Vf;Object.defineProperty(oo,"__esModule",{value:!0});var co=oo.getWindowMetadata=void 0;const us=Oe;function qf(){let t,e;try{t=us.getDocumentOrThrow(),e=us.getLocationOrThrow()}catch{return null}function r(){const E=t.getElementsByTagName("link"),T=[];for(let I=0;I<E.length;I++){const x=E[I],U=x.getAttribute("rel");if(U&&U.toLowerCase().indexOf("icon")>-1){const R=x.getAttribute("href");if(R)if(R.toLowerCase().indexOf("https:")===-1&&R.toLowerCase().indexOf("http:")===-1&&R.indexOf("//")!==0){let B=e.protocol+"//"+e.host;if(R.indexOf("/")===0)B+=R;else{const m=e.pathname.split("/");m.pop(),B+=m.join("/")+"/"+R}T.push(B)}else if(R.indexOf("//")===0){const B=e.protocol+R;T.push(B)}else T.push(R)}}return T}function n(...E){const T=t.getElementsByTagName("meta");for(let I=0;I<T.length;I++){const x=T[I],U=["itemprop","property","name"].map(R=>x.getAttribute(R)).filter(R=>R?E.includes(R):!1);if(U.length&&U){const R=x.getAttribute("content");if(R)return R}}return""}function i(){let E=n("name","og:site_name","og:title","twitter:title");return E||(E=t.title),E}function o(){return n("description","og:description","twitter:description","keywords")}const a=i(),s=o(),f=e.origin,p=r();return{description:s,url:f,icons:p,name:a}}co=oo.getWindowMetadata=qf;var Wf=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n},Gf=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),Yf=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),Jf=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),Xf=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Qf=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Zf=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,eh=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ls=3,th=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",Zf]],fs=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function rh(t){return t?hs(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Qf:typeof navigator<"u"?hs(navigator.userAgent):oh()}function nh(t){return t!==""&&th.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var o=i.exec(t);return!!o&&[n,o]},!1)}function hs(t){var e=nh(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new Xf;var i=n[1]&&n[1].split(/[._]/).slice(0,3);i?i.length<ls&&(i=Wf(i,sh(ls-i.length))):i=[];var o=i.join("."),a=ih(t),s=eh.exec(t);return s&&s[1]?new Jf(r,o,a,s[1]):new Gf(r,o,a)}function ih(t){for(var e=0,r=fs.length;e<r;e++){var n=fs[e],i=n[0],o=n[1],a=o.exec(t);if(a)return i}return null}function oh(){var t=typeof process<"u"&&process.version;return t?new Yf(process.version.slice(1)):null}function sh(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}function uo(t){return rh(t)}function Mn(){const t=uo();return t&&t.os?t.os:void 0}function oc(){const t=Mn();return t?t.toLowerCase().includes("android"):!1}function sc(){const t=Mn();return t?t.toLowerCase().includes("ios")||t.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function ah(){return Mn()?oc()||sc():!1}function ac(){const t=uo();return t&&t.name?t.name.toLowerCase()==="node":!1}function ch(){return!ac()&&!!cc()}const uh=Xa,lh=Qa,fh=Za,hh=so,dh=ec,cc=Fn,ph=tc,gh=ao,_h=rc,vh=nc,yh=ic,Un=Ja;function mh(){return co()}function lo(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}function Bn(t){return typeof t=="string"?t:JSON.stringify(t)}const uc=lo,lc=Bn;function fc(t,e){const r=lc(e),n=Un();n&&n.setItem(t,r)}function wh(t){let e=null,r=null;const n=Un();return n&&(r=n.getItem(t)),e=r&&uc(r),e}function bh(t){const e=Un();e&&e.removeItem(t)}const hc="WALLETCONNECT_DEEPLINK_CHOICE";function Eh(t,e){const r=encodeURIComponent(t);return e.universalLink?`${e.universalLink}/wc?uri=${r}`:e.deepLink?`${e.deepLink}${e.deepLink.endsWith(":")?"//":"/"}wc?uri=${r}`:""}function xh(t){const e=t.href.split("?")[0];fc(hc,Object.assign(Object.assign({},t),{href:e}))}function dc(t,e){return t.filter(r=>r.name.toLowerCase().includes(e.toLowerCase()))[0]}function Dh(t,e){let r=t;return e&&(r=e.map(n=>dc(t,n)).filter(Boolean)),r}const pc="https://registry.walletconnect.com";function Sh(){return pc+"/api/v2/wallets"}function Ch(){return pc+"/api/v2/dapps"}function gc(t,e="mobile"){var r;return{name:t.name||"",shortName:t.metadata.shortName||"",color:t.metadata.colors.primary||"",logo:(r=t.image_url.sm)!==null&&r!==void 0?r:"",universalLink:t[e].universal||"",deepLink:t[e].native||""}}function Ah(t,e="mobile"){return Object.values(t).filter(r=>!!r[e].universal||!!r[e].native).map(r=>gc(r,e))}var Ih=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:uo,detectOS:Mn,isAndroid:oc,isIOS:sc,isMobile:ah,isNode:ac,isBrowser:ch,getFromWindow:uh,getFromWindowOrThrow:lh,getDocumentOrThrow:fh,getDocument:hh,getNavigatorOrThrow:dh,getNavigator:cc,getLocationOrThrow:ph,getLocation:gh,getCryptoOrThrow:_h,getCrypto:vh,getLocalStorageOrThrow:yh,getLocalStorage:Un,getClientMeta:mh,safeJsonParse:uc,safeJsonStringify:lc,setLocal:fc,getLocal:wh,removeLocal:bh,mobileLinkChoiceKey:hc,formatIOSMobile:Eh,saveMobileLinkInfo:xh,getMobileRegistryEntry:dc,getMobileLinkRegistry:Dh,getWalletRegistryUrl:Sh,getDappRegistryUrl:Ch,formatMobileRegistryEntry:gc,formatMobileRegistry:Ah},Symbol.toStringTag,{value:"Module"})),Oh=no(Ih),Zr={},Th=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},_c={},Zt={},Nh={}.toString,fo=Array.isArray||function(t){return Nh.call(t)=="[object Array]"},Rh=fo;function Lh(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},t.foo()===42}catch{return!1}}Ee.TYPED_ARRAY_SUPPORT=Lh();var ds=Ee.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function Ee(t,e,r){return!Ee.TYPED_ARRAY_SUPPORT&&!(this instanceof Ee)?new Ee(t,e,r):typeof t=="number"?vc(this,t):jh(this,t,e,r)}Ee.TYPED_ARRAY_SUPPORT&&(Ee.prototype.__proto__=Uint8Array.prototype,Ee.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Ee[Symbol.species]===Ee&&Object.defineProperty(Ee,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function ho(t){if(t>=ds)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ds.toString(16)+" bytes");return t|0}function Ph(t){return t!==t}function br(t,e){var r;return Ee.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e),r.__proto__=Ee.prototype):(r=t,r===null&&(r=new Ee(e)),r.length=e),r}function vc(t,e){var r=br(t,e<0?0:ho(e)|0);if(!Ee.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)r[n]=0;return r}function Fh(t,e){var r=mc(e)|0,n=br(t,r),i=n.write(e);return i!==r&&(n=n.slice(0,i)),n}function Ii(t,e){for(var r=e.length<0?0:ho(e.length)|0,n=br(t,r),i=0;i<r;i+=1)n[i]=e[i]&255;return n}function Mh(t,e,r,n){if(r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");var i;return r===void 0&&n===void 0?i=new Uint8Array(e):n===void 0?i=new Uint8Array(e,r):i=new Uint8Array(e,r,n),Ee.TYPED_ARRAY_SUPPORT?i.__proto__=Ee.prototype:i=Ii(t,i),i}function Uh(t,e){if(Ee.isBuffer(e)){var r=ho(e.length)|0,n=br(t,r);return n.length===0||e.copy(n,0,0,r),n}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||Ph(e.length)?br(t,0):Ii(t,e);if(e.type==="Buffer"&&Array.isArray(e.data))return Ii(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function yc(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function mc(t){if(Ee.isBuffer(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var e=t.length;return e===0?0:yc(t).length}function Bh(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function $h(t,e,r,n){return Bh(yc(e,t.length-r),t,r,n)}function jh(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?Mh(t,e,r,n):typeof e=="string"?Fh(t,e):Uh(t,e)}Ee.prototype.write=function(e,r,n){r===void 0?(n=this.length,r=0):n===void 0&&typeof r=="string"?(n=this.length,r=0):isFinite(r)&&(r=r|0,isFinite(n)?n=n|0:n=void 0);var i=this.length-r;if((n===void 0||n>i)&&(n=i),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");return $h(this,e,r,n)};Ee.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i;if(Ee.TYPED_ARRAY_SUPPORT)i=this.subarray(e,r),i.__proto__=Ee.prototype;else{var o=r-e;i=new Ee(o,void 0);for(var a=0;a<o;++a)i[a]=this[a+e]}return i};Ee.prototype.copy=function(e,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var o=i-n,a;if(this===e&&n<r&&r<i)for(a=o-1;a>=0;--a)e[a+r]=this[a+n];else if(o<1e3||!Ee.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)e[a+r]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),r);return o};Ee.prototype.fill=function(e,r,n){if(typeof e=="string"){if(typeof r=="string"?(r=0,n=this.length):typeof n=="string"&&(n=this.length),e.length===1){var i=e.charCodeAt(0);i<256&&(e=i)}}else typeof e=="number"&&(e=e&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{var a=Ee.isBuffer(e)?e:new Ee(e),s=a.length;for(o=0;o<n-r;++o)this[o+r]=a[o%s]}return this};Ee.concat=function(e,r){if(!Rh(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return br(null,0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=vc(null,r),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!Ee.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i};Ee.byteLength=mc;Ee.prototype._isBuffer=!0;Ee.isBuffer=function(e){return!!(e!=null&&e._isBuffer)};Zt.alloc=function(t){var e=new Ee(t);return e.fill(0),e};Zt.from=function(t){return new Ee(t)};var mt={},po,zh=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];mt.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};mt.getSymbolTotalCodewords=function(e){return zh[e]};mt.getBCHDigit=function(t){for(var e=0;t!==0;)e++,t>>>=1;return e};mt.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');po=e};mt.isKanjiModeEnabled=function(){return typeof po<"u"};mt.toSJIS=function(e){return po(e)};var $n={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");var n=r.toLowerCase();switch(n){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})($n);function wc(){this.buffer=[],this.length=0}wc.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var kh=wc,ps=Zt;function en(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=ps.alloc(t*t),this.reservedBit=ps.alloc(t*t)}en.prototype.set=function(t,e,r,n){var i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};en.prototype.get=function(t,e){return this.data[t*this.size+e]};en.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};en.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Kh=en,bc={};(function(t){var e=mt.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];for(var i=Math.floor(n/7)+2,o=e(n),a=o===145?26:Math.ceil((o-13)/(2*i-2))*2,s=[o-7],f=1;f<i-1;f++)s[f]=s[f-1]-a;return s.push(6),s.reverse()},t.getPositions=function(n){for(var i=[],o=t.getRowColCoords(n),a=o.length,s=0;s<a;s++)for(var f=0;f<a;f++)s===0&&f===0||s===0&&f===a-1||s===a-1&&f===0||i.push([o[s],o[f]]);return i}})(bc);var Ec={},Hh=mt.getSymbolSize,gs=7;Ec.getPositions=function(e){var r=Hh(e);return[[0,0],[r-gs,0],[0,r-gs]]};var xc={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){for(var o=i.size,a=0,s=0,f=0,p=null,d=null,E=0;E<o;E++){s=f=0,p=d=null;for(var T=0;T<o;T++){var I=i.get(E,T);I===p?s++:(s>=5&&(a+=e.N1+(s-5)),p=I,s=1),I=i.get(T,E),I===d?f++:(f>=5&&(a+=e.N1+(f-5)),d=I,f=1)}s>=5&&(a+=e.N1+(s-5)),f>=5&&(a+=e.N1+(f-5))}return a},t.getPenaltyN2=function(i){for(var o=i.size,a=0,s=0;s<o-1;s++)for(var f=0;f<o-1;f++){var p=i.get(s,f)+i.get(s,f+1)+i.get(s+1,f)+i.get(s+1,f+1);(p===4||p===0)&&a++}return a*e.N2},t.getPenaltyN3=function(i){for(var o=i.size,a=0,s=0,f=0,p=0;p<o;p++){s=f=0;for(var d=0;d<o;d++)s=s<<1&2047|i.get(p,d),d>=10&&(s===1488||s===93)&&a++,f=f<<1&2047|i.get(d,p),d>=10&&(f===1488||f===93)&&a++}return a*e.N3},t.getPenaltyN4=function(i){for(var o=0,a=i.data.length,s=0;s<a;s++)o+=i.data[s];var f=Math.abs(Math.ceil(o*100/a/5)-10);return f*e.N4};function r(n,i,o){switch(n){case t.Patterns.PATTERN000:return(i+o)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(i+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return i*o%2+i*o%3===0;case t.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case t.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,o){for(var a=o.size,s=0;s<a;s++)for(var f=0;f<a;f++)o.isReserved(f,s)||o.xor(f,s,r(i,f,s))},t.getBestMask=function(i,o){for(var a=Object.keys(t.Patterns).length,s=0,f=1/0,p=0;p<a;p++){o(p),t.applyMask(p,i);var d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(p,i),d<f&&(f=d,s=p)}return s}})(xc);var jn={},Yt=$n,mn=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],wn=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];jn.getBlocksCount=function(e,r){switch(r){case Yt.L:return mn[(e-1)*4+0];case Yt.M:return mn[(e-1)*4+1];case Yt.Q:return mn[(e-1)*4+2];case Yt.H:return mn[(e-1)*4+3];default:return}};jn.getTotalCodewordsCount=function(e,r){switch(r){case Yt.L:return wn[(e-1)*4+0];case Yt.M:return wn[(e-1)*4+1];case Yt.Q:return wn[(e-1)*4+2];case Yt.H:return wn[(e-1)*4+3];default:return}};var Dc={},zn={},Sc=Zt,kr=Sc.alloc(512),Sn=Sc.alloc(256);(function(){for(var e=1,r=0;r<255;r++)kr[r]=e,Sn[e]=r,e<<=1,e&256&&(e^=285);for(r=255;r<512;r++)kr[r]=kr[r-255]})();zn.log=function(e){if(e<1)throw new Error("log("+e+")");return Sn[e]};zn.exp=function(e){return kr[e]};zn.mul=function(e,r){return e===0||r===0?0:kr[Sn[e]+Sn[r]]};(function(t){var e=Zt,r=zn;t.mul=function(i,o){for(var a=e.alloc(i.length+o.length-1),s=0;s<i.length;s++)for(var f=0;f<o.length;f++)a[s+f]^=r.mul(i[s],o[f]);return a},t.mod=function(i,o){for(var a=e.from(i);a.length-o.length>=0;){for(var s=a[0],f=0;f<o.length;f++)a[f]^=r.mul(o[f],s);for(var p=0;p<a.length&&a[p]===0;)p++;a=a.slice(p)}return a},t.generateECPolynomial=function(i){for(var o=e.from([1]),a=0;a<i;a++)o=t.mul(o,[1,r.exp(a)]);return o}})(Dc);var Cc={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=Lf,r=Pf,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var g=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(g,l),g.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.byteOffset}});function a(g){if(g>i)throw new RangeError('The value "'+g+'" is invalid for option "size"');var l=new Uint8Array(g);return Object.setPrototypeOf(l,s.prototype),l}function s(g,l,h){if(typeof g=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(g)}return f(g,l,h)}s.poolSize=8192;function f(g,l,h){if(typeof g=="string")return T(g,l);if(ArrayBuffer.isView(g))return x(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(te(g,ArrayBuffer)||g&&te(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(te(g,SharedArrayBuffer)||g&&te(g.buffer,SharedArrayBuffer)))return U(g,l,h);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var b=g.valueOf&&g.valueOf();if(b!=null&&b!==g)return s.from(b,l,h);var N=R(g);if(N)return N;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return s.from(g[Symbol.toPrimitive]("string"),l,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}s.from=function(g,l,h){return f(g,l,h)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function p(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function d(g,l,h){return p(g),g<=0?a(g):l!==void 0?typeof h=="string"?a(g).fill(l,h):a(g).fill(l):a(g)}s.alloc=function(g,l,h){return d(g,l,h)};function E(g){return p(g),a(g<0?0:B(g)|0)}s.allocUnsafe=function(g){return E(g)},s.allocUnsafeSlow=function(g){return E(g)};function T(g,l){if((typeof l!="string"||l==="")&&(l="utf8"),!s.isEncoding(l))throw new TypeError("Unknown encoding: "+l);var h=S(g,l)|0,b=a(h),N=b.write(g,l);return N!==h&&(b=b.slice(0,N)),b}function I(g){for(var l=g.length<0?0:B(g.length)|0,h=a(l),b=0;b<l;b+=1)h[b]=g[b]&255;return h}function x(g){if(te(g,Uint8Array)){var l=new Uint8Array(g);return U(l.buffer,l.byteOffset,l.byteLength)}return I(g)}function U(g,l,h){if(l<0||g.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<l+(h||0))throw new RangeError('"length" is outside of buffer bounds');var b;return l===void 0&&h===void 0?b=new Uint8Array(g):h===void 0?b=new Uint8Array(g,l):b=new Uint8Array(g,l,h),Object.setPrototypeOf(b,s.prototype),b}function R(g){if(s.isBuffer(g)){var l=B(g.length)|0,h=a(l);return h.length===0||g.copy(h,0,0,l),h}if(g.length!==void 0)return typeof g.length!="number"||we(g.length)?a(0):I(g);if(g.type==="Buffer"&&Array.isArray(g.data))return I(g.data)}function B(g){if(g>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return g|0}function m(g){return+g!=g&&(g=0),s.alloc(+g)}s.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==s.prototype},s.compare=function(l,h){if(te(l,Uint8Array)&&(l=s.from(l,l.offset,l.byteLength)),te(h,Uint8Array)&&(h=s.from(h,h.offset,h.byteLength)),!s.isBuffer(l)||!s.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===h)return 0;for(var b=l.length,N=h.length,H=0,q=Math.min(b,N);H<q;++H)if(l[H]!==h[H]){b=l[H],N=h[H];break}return b<N?-1:N<b?1:0},s.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(l,h){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return s.alloc(0);var b;if(h===void 0)for(h=0,b=0;b<l.length;++b)h+=l[b].length;var N=s.allocUnsafe(h),H=0;for(b=0;b<l.length;++b){var q=l[b];if(te(q,Uint8Array))H+q.length>N.length?s.from(q).copy(N,H):Uint8Array.prototype.set.call(N,q,H);else if(s.isBuffer(q))q.copy(N,H);else throw new TypeError('"list" argument must be an Array of Buffers');H+=q.length}return N};function S(g,l){if(s.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||te(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);var h=g.length,b=arguments.length>2&&arguments[2]===!0;if(!b&&h===0)return 0;for(var N=!1;;)switch(l){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return $(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return O(g).length;default:if(N)return b?-1:$(g).length;l=(""+l).toLowerCase(),N=!0}}s.byteLength=S;function v(g,l,h){var b=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,l>>>=0,h<=l))return"";for(g||(g="utf8");;)switch(g){case"hex":return k(this,l,h);case"utf8":case"utf-8":return y(this,l,h);case"ascii":return K(this,l,h);case"latin1":case"binary":return F(this,l,h);case"base64":return L(this,l,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,l,h);default:if(b)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),b=!0}}s.prototype._isBuffer=!0;function D(g,l,h){var b=g[l];g[l]=g[h],g[h]=b}s.prototype.swap16=function(){var l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var h=0;h<l;h+=2)D(this,h,h+1);return this},s.prototype.swap32=function(){var l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var h=0;h<l;h+=4)D(this,h,h+3),D(this,h+1,h+2);return this},s.prototype.swap64=function(){var l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var h=0;h<l;h+=8)D(this,h,h+7),D(this,h+1,h+6),D(this,h+2,h+5),D(this,h+3,h+4);return this},s.prototype.toString=function(){var l=this.length;return l===0?"":arguments.length===0?y(this,0,l):v.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(l){if(!s.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:s.compare(this,l)===0},s.prototype.inspect=function(){var l="",h=t.INSPECT_MAX_BYTES;return l=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(l+=" ... "),"<Buffer "+l+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(l,h,b,N,H){if(te(l,Uint8Array)&&(l=s.from(l,l.offset,l.byteLength)),!s.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(h===void 0&&(h=0),b===void 0&&(b=l?l.length:0),N===void 0&&(N=0),H===void 0&&(H=this.length),h<0||b>l.length||N<0||H>this.length)throw new RangeError("out of range index");if(N>=H&&h>=b)return 0;if(N>=H)return-1;if(h>=b)return 1;if(h>>>=0,b>>>=0,N>>>=0,H>>>=0,this===l)return 0;for(var q=H-N,ie=b-h,ae=Math.min(q,ie),le=this.slice(N,H),fe=l.slice(h,b),ce=0;ce<ae;++ce)if(le[ce]!==fe[ce]){q=le[ce],ie=fe[ce];break}return q<ie?-1:ie<q?1:0};function C(g,l,h,b,N){if(g.length===0)return-1;if(typeof h=="string"?(b=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,we(h)&&(h=N?0:g.length-1),h<0&&(h=g.length+h),h>=g.length){if(N)return-1;h=g.length-1}else if(h<0)if(N)h=0;else return-1;if(typeof l=="string"&&(l=s.from(l,b)),s.isBuffer(l))return l.length===0?-1:c(g,l,h,b,N);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?N?Uint8Array.prototype.indexOf.call(g,l,h):Uint8Array.prototype.lastIndexOf.call(g,l,h):c(g,[l],h,b,N);throw new TypeError("val must be string, number or Buffer")}function c(g,l,h,b,N){var H=1,q=g.length,ie=l.length;if(b!==void 0&&(b=String(b).toLowerCase(),b==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(g.length<2||l.length<2)return-1;H=2,q/=2,ie/=2,h/=2}function ae(be,_e){return H===1?be[_e]:be.readUInt16BE(_e*H)}var le;if(N){var fe=-1;for(le=h;le<q;le++)if(ae(g,le)===ae(l,fe===-1?0:le-fe)){if(fe===-1&&(fe=le),le-fe+1===ie)return fe*H}else fe!==-1&&(le-=le-fe),fe=-1}else for(h+ie>q&&(h=q-ie),le=h;le>=0;le--){for(var ce=!0,ye=0;ye<ie;ye++)if(ae(g,le+ye)!==ae(l,ye)){ce=!1;break}if(ce)return le}return-1}s.prototype.includes=function(l,h,b){return this.indexOf(l,h,b)!==-1},s.prototype.indexOf=function(l,h,b){return C(this,l,h,b,!0)},s.prototype.lastIndexOf=function(l,h,b){return C(this,l,h,b,!1)};function _(g,l,h,b){h=Number(h)||0;var N=g.length-h;b?(b=Number(b),b>N&&(b=N)):b=N;var H=l.length;b>H/2&&(b=H/2);for(var q=0;q<b;++q){var ie=parseInt(l.substr(q*2,2),16);if(we(ie))return q;g[h+q]=ie}return q}function W(g,l,h,b){return Z($(l,g.length-h),g,h,b)}function V(g,l,h,b){return Z(P(l),g,h,b)}function re(g,l,h,b){return Z(O(l),g,h,b)}function ne(g,l,h,b){return Z(u(l,g.length-h),g,h,b)}s.prototype.write=function(l,h,b,N){if(h===void 0)N="utf8",b=this.length,h=0;else if(b===void 0&&typeof h=="string")N=h,b=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(b)?(b=b>>>0,N===void 0&&(N="utf8")):(N=b,b=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var H=this.length-h;if((b===void 0||b>H)&&(b=H),l.length>0&&(b<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");N||(N="utf8");for(var q=!1;;)switch(N){case"hex":return _(this,l,h,b);case"utf8":case"utf-8":return W(this,l,h,b);case"ascii":case"latin1":case"binary":return V(this,l,h,b);case"base64":return re(this,l,h,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,l,h,b);default:if(q)throw new TypeError("Unknown encoding: "+N);N=(""+N).toLowerCase(),q=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(g,l,h){return l===0&&h===g.length?e.fromByteArray(g):e.fromByteArray(g.slice(l,h))}function y(g,l,h){h=Math.min(g.length,h);for(var b=[],N=l;N<h;){var H=g[N],q=null,ie=H>239?4:H>223?3:H>191?2:1;if(N+ie<=h){var ae,le,fe,ce;switch(ie){case 1:H<128&&(q=H);break;case 2:ae=g[N+1],(ae&192)===128&&(ce=(H&31)<<6|ae&63,ce>127&&(q=ce));break;case 3:ae=g[N+1],le=g[N+2],(ae&192)===128&&(le&192)===128&&(ce=(H&15)<<12|(ae&63)<<6|le&63,ce>2047&&(ce<55296||ce>57343)&&(q=ce));break;case 4:ae=g[N+1],le=g[N+2],fe=g[N+3],(ae&192)===128&&(le&192)===128&&(fe&192)===128&&(ce=(H&15)<<18|(ae&63)<<12|(le&63)<<6|fe&63,ce>65535&&ce<1114112&&(q=ce))}}q===null?(q=65533,ie=1):q>65535&&(q-=65536,b.push(q>>>10&1023|55296),q=56320|q&1023),b.push(q),N+=ie}return z(b)}var A=4096;function z(g){var l=g.length;if(l<=A)return String.fromCharCode.apply(String,g);for(var h="",b=0;b<l;)h+=String.fromCharCode.apply(String,g.slice(b,b+=A));return h}function K(g,l,h){var b="";h=Math.min(g.length,h);for(var N=l;N<h;++N)b+=String.fromCharCode(g[N]&127);return b}function F(g,l,h){var b="";h=Math.min(g.length,h);for(var N=l;N<h;++N)b+=String.fromCharCode(g[N]);return b}function k(g,l,h){var b=g.length;(!l||l<0)&&(l=0),(!h||h<0||h>b)&&(h=b);for(var N="",H=l;H<h;++H)N+=xe[g[H]];return N}function G(g,l,h){for(var b=g.slice(l,h),N="",H=0;H<b.length-1;H+=2)N+=String.fromCharCode(b[H]+b[H+1]*256);return N}s.prototype.slice=function(l,h){var b=this.length;l=~~l,h=h===void 0?b:~~h,l<0?(l+=b,l<0&&(l=0)):l>b&&(l=b),h<0?(h+=b,h<0&&(h=0)):h>b&&(h=b),h<l&&(h=l);var N=this.subarray(l,h);return Object.setPrototypeOf(N,s.prototype),N};function Y(g,l,h){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+l>h)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(l,h,b){l=l>>>0,h=h>>>0,b||Y(l,h,this.length);for(var N=this[l],H=1,q=0;++q<h&&(H*=256);)N+=this[l+q]*H;return N},s.prototype.readUintBE=s.prototype.readUIntBE=function(l,h,b){l=l>>>0,h=h>>>0,b||Y(l,h,this.length);for(var N=this[l+--h],H=1;h>0&&(H*=256);)N+=this[l+--h]*H;return N},s.prototype.readUint8=s.prototype.readUInt8=function(l,h){return l=l>>>0,h||Y(l,1,this.length),this[l]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(l,h){return l=l>>>0,h||Y(l,2,this.length),this[l]|this[l+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(l,h){return l=l>>>0,h||Y(l,2,this.length),this[l]<<8|this[l+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(l,h){return l=l>>>0,h||Y(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(l,h){return l=l>>>0,h||Y(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},s.prototype.readIntLE=function(l,h,b){l=l>>>0,h=h>>>0,b||Y(l,h,this.length);for(var N=this[l],H=1,q=0;++q<h&&(H*=256);)N+=this[l+q]*H;return H*=128,N>=H&&(N-=Math.pow(2,8*h)),N},s.prototype.readIntBE=function(l,h,b){l=l>>>0,h=h>>>0,b||Y(l,h,this.length);for(var N=h,H=1,q=this[l+--N];N>0&&(H*=256);)q+=this[l+--N]*H;return H*=128,q>=H&&(q-=Math.pow(2,8*h)),q},s.prototype.readInt8=function(l,h){return l=l>>>0,h||Y(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},s.prototype.readInt16LE=function(l,h){l=l>>>0,h||Y(l,2,this.length);var b=this[l]|this[l+1]<<8;return b&32768?b|4294901760:b},s.prototype.readInt16BE=function(l,h){l=l>>>0,h||Y(l,2,this.length);var b=this[l+1]|this[l]<<8;return b&32768?b|4294901760:b},s.prototype.readInt32LE=function(l,h){return l=l>>>0,h||Y(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},s.prototype.readInt32BE=function(l,h){return l=l>>>0,h||Y(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},s.prototype.readFloatLE=function(l,h){return l=l>>>0,h||Y(l,4,this.length),r.read(this,l,!0,23,4)},s.prototype.readFloatBE=function(l,h){return l=l>>>0,h||Y(l,4,this.length),r.read(this,l,!1,23,4)},s.prototype.readDoubleLE=function(l,h){return l=l>>>0,h||Y(l,8,this.length),r.read(this,l,!0,52,8)},s.prototype.readDoubleBE=function(l,h){return l=l>>>0,h||Y(l,8,this.length),r.read(this,l,!1,52,8)};function Q(g,l,h,b,N,H){if(!s.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>N||l<H)throw new RangeError('"value" argument is out of bounds');if(h+b>g.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(l,h,b,N){if(l=+l,h=h>>>0,b=b>>>0,!N){var H=Math.pow(2,8*b)-1;Q(this,l,h,b,H,0)}var q=1,ie=0;for(this[h]=l&255;++ie<b&&(q*=256);)this[h+ie]=l/q&255;return h+b},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(l,h,b,N){if(l=+l,h=h>>>0,b=b>>>0,!N){var H=Math.pow(2,8*b)-1;Q(this,l,h,b,H,0)}var q=b-1,ie=1;for(this[h+q]=l&255;--q>=0&&(ie*=256);)this[h+q]=l/ie&255;return h+b},s.prototype.writeUint8=s.prototype.writeUInt8=function(l,h,b){return l=+l,h=h>>>0,b||Q(this,l,h,1,255,0),this[h]=l&255,h+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(l,h,b){return l=+l,h=h>>>0,b||Q(this,l,h,2,65535,0),this[h]=l&255,this[h+1]=l>>>8,h+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(l,h,b){return l=+l,h=h>>>0,b||Q(this,l,h,2,65535,0),this[h]=l>>>8,this[h+1]=l&255,h+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(l,h,b){return l=+l,h=h>>>0,b||Q(this,l,h,4,4294967295,0),this[h+3]=l>>>24,this[h+2]=l>>>16,this[h+1]=l>>>8,this[h]=l&255,h+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(l,h,b){return l=+l,h=h>>>0,b||Q(this,l,h,4,4294967295,0),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4},s.prototype.writeIntLE=function(l,h,b,N){if(l=+l,h=h>>>0,!N){var H=Math.pow(2,8*b-1);Q(this,l,h,b,H-1,-H)}var q=0,ie=1,ae=0;for(this[h]=l&255;++q<b&&(ie*=256);)l<0&&ae===0&&this[h+q-1]!==0&&(ae=1),this[h+q]=(l/ie>>0)-ae&255;return h+b},s.prototype.writeIntBE=function(l,h,b,N){if(l=+l,h=h>>>0,!N){var H=Math.pow(2,8*b-1);Q(this,l,h,b,H-1,-H)}var q=b-1,ie=1,ae=0;for(this[h+q]=l&255;--q>=0&&(ie*=256);)l<0&&ae===0&&this[h+q+1]!==0&&(ae=1),this[h+q]=(l/ie>>0)-ae&255;return h+b},s.prototype.writeInt8=function(l,h,b){return l=+l,h=h>>>0,b||Q(this,l,h,1,127,-128),l<0&&(l=255+l+1),this[h]=l&255,h+1},s.prototype.writeInt16LE=function(l,h,b){return l=+l,h=h>>>0,b||Q(this,l,h,2,32767,-32768),this[h]=l&255,this[h+1]=l>>>8,h+2},s.prototype.writeInt16BE=function(l,h,b){return l=+l,h=h>>>0,b||Q(this,l,h,2,32767,-32768),this[h]=l>>>8,this[h+1]=l&255,h+2},s.prototype.writeInt32LE=function(l,h,b){return l=+l,h=h>>>0,b||Q(this,l,h,4,2147483647,-2147483648),this[h]=l&255,this[h+1]=l>>>8,this[h+2]=l>>>16,this[h+3]=l>>>24,h+4},s.prototype.writeInt32BE=function(l,h,b){return l=+l,h=h>>>0,b||Q(this,l,h,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4};function X(g,l,h,b,N,H){if(h+b>g.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function he(g,l,h,b,N){return l=+l,h=h>>>0,N||X(g,l,h,4),r.write(g,l,h,b,23,4),h+4}s.prototype.writeFloatLE=function(l,h,b){return he(this,l,h,!0,b)},s.prototype.writeFloatBE=function(l,h,b){return he(this,l,h,!1,b)};function ee(g,l,h,b,N){return l=+l,h=h>>>0,N||X(g,l,h,8),r.write(g,l,h,b,52,8),h+8}s.prototype.writeDoubleLE=function(l,h,b){return ee(this,l,h,!0,b)},s.prototype.writeDoubleBE=function(l,h,b){return ee(this,l,h,!1,b)},s.prototype.copy=function(l,h,b,N){if(!s.isBuffer(l))throw new TypeError("argument should be a Buffer");if(b||(b=0),!N&&N!==0&&(N=this.length),h>=l.length&&(h=l.length),h||(h=0),N>0&&N<b&&(N=b),N===b||l.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("sourceEnd out of bounds");N>this.length&&(N=this.length),l.length-h<N-b&&(N=l.length-h+b);var H=N-b;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,b,N):Uint8Array.prototype.set.call(l,this.subarray(b,N),h),H},s.prototype.fill=function(l,h,b,N){if(typeof l=="string"){if(typeof h=="string"?(N=h,h=0,b=this.length):typeof b=="string"&&(N=b,b=this.length),N!==void 0&&typeof N!="string")throw new TypeError("encoding must be a string");if(typeof N=="string"&&!s.isEncoding(N))throw new TypeError("Unknown encoding: "+N);if(l.length===1){var H=l.charCodeAt(0);(N==="utf8"&&H<128||N==="latin1")&&(l=H)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(h<0||this.length<h||this.length<b)throw new RangeError("Out of range index");if(b<=h)return this;h=h>>>0,b=b===void 0?this.length:b>>>0,l||(l=0);var q;if(typeof l=="number")for(q=h;q<b;++q)this[q]=l;else{var ie=s.isBuffer(l)?l:s.from(l,N),ae=ie.length;if(ae===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(q=0;q<b-h;++q)this[q+h]=ie[q%ae]}return this};var de=/[^+/0-9A-Za-z-_]/g;function j(g){if(g=g.split("=")[0],g=g.trim().replace(de,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function $(g,l){l=l||1/0;for(var h,b=g.length,N=null,H=[],q=0;q<b;++q){if(h=g.charCodeAt(q),h>55295&&h<57344){if(!N){if(h>56319){(l-=3)>-1&&H.push(239,191,189);continue}else if(q+1===b){(l-=3)>-1&&H.push(239,191,189);continue}N=h;continue}if(h<56320){(l-=3)>-1&&H.push(239,191,189),N=h;continue}h=(N-55296<<10|h-56320)+65536}else N&&(l-=3)>-1&&H.push(239,191,189);if(N=null,h<128){if((l-=1)<0)break;H.push(h)}else if(h<2048){if((l-=2)<0)break;H.push(h>>6|192,h&63|128)}else if(h<65536){if((l-=3)<0)break;H.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((l-=4)<0)break;H.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return H}function P(g){for(var l=[],h=0;h<g.length;++h)l.push(g.charCodeAt(h)&255);return l}function u(g,l){for(var h,b,N,H=[],q=0;q<g.length&&!((l-=2)<0);++q)h=g.charCodeAt(q),b=h>>8,N=h%256,H.push(N),H.push(b);return H}function O(g){return e.toByteArray(j(g))}function Z(g,l,h,b){for(var N=0;N<b&&!(N+h>=l.length||N>=g.length);++N)l[N+h]=g[N];return N}function te(g,l){return g instanceof l||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===l.name}function we(g){return g!==g}var xe=function(){for(var g="0123456789abcdef",l=new Array(256),h=0;h<16;++h)for(var b=h*16,N=0;N<16;++N)l[b+N]=g[h]+g[N];return l}()})(Cc);var _s=Zt,Ac=Dc,Vh=Cc.Buffer;function go(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}go.prototype.initialize=function(e){this.degree=e,this.genPoly=Ac.generateECPolynomial(this.degree)};go.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var r=_s.alloc(this.degree),n=Vh.concat([e,r],e.length+this.degree),i=Ac.mod(n,this.genPoly),o=this.degree-i.length;if(o>0){var a=_s.alloc(this.degree);return i.copy(a,o),a}return i};var qh=go,Ic={},er={},_o={};_o.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Pt={},Oc="[0-9]+",Wh="[A-Z $%*+\\-./:]+",qr="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";qr=qr.replace(/u/g,"\\u");var Gh="(?:(?![A-Z0-9 $%*+\\-./:]|"+qr+`)(?:.|[\r
]))+`;Pt.KANJI=new RegExp(qr,"g");Pt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Pt.BYTE=new RegExp(Gh,"g");Pt.NUMERIC=new RegExp(Oc,"g");Pt.ALPHANUMERIC=new RegExp(Wh,"g");var Yh=new RegExp("^"+qr+"$"),Jh=new RegExp("^"+Oc+"$"),Xh=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Pt.testKanji=function(e){return Yh.test(e)};Pt.testNumeric=function(e){return Jh.test(e)};Pt.testAlphanumeric=function(e){return Xh.test(e)};(function(t){var e=_o,r=Pt;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,a){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?o.ccBits[0]:a<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return r.testNumeric(o)?t.NUMERIC:r.testAlphanumeric(o)?t.ALPHANUMERIC:r.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");var o=i.toLowerCase();switch(o){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(o,a){if(t.isValid(o))return o;try{return n(o)}catch{return a}}})(er);(function(t){var e=mt,r=jn,n=$n,i=er,o=_o,a=fo,s=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,f=e.getBCHDigit(s);function p(I,x,U){for(var R=1;R<=40;R++)if(x<=t.getCapacity(R,U,I))return R}function d(I,x){return i.getCharCountIndicator(I,x)+4}function E(I,x){var U=0;return I.forEach(function(R){var B=d(R.mode,x);U+=B+R.getBitsLength()}),U}function T(I,x){for(var U=1;U<=40;U++){var R=E(I,U);if(R<=t.getCapacity(U,x,i.MIXED))return U}}t.from=function(x,U){return o.isValid(x)?parseInt(x,10):U},t.getCapacity=function(x,U,R){if(!o.isValid(x))throw new Error("Invalid QR Code version");typeof R>"u"&&(R=i.BYTE);var B=e.getSymbolTotalCodewords(x),m=r.getTotalCodewordsCount(x,U),S=(B-m)*8;if(R===i.MIXED)return S;var v=S-d(R,x);switch(R){case i.NUMERIC:return Math.floor(v/10*3);case i.ALPHANUMERIC:return Math.floor(v/11*2);case i.KANJI:return Math.floor(v/13);case i.BYTE:default:return Math.floor(v/8)}},t.getBestVersionForData=function(x,U){var R,B=n.from(U,n.M);if(a(x)){if(x.length>1)return T(x,B);if(x.length===0)return 1;R=x[0]}else R=x;return p(R.mode,R.getLength(),B)},t.getEncodedBits=function(x){if(!o.isValid(x)||x<7)throw new Error("Invalid QR Code version");for(var U=x<<12;e.getBCHDigit(U)-f>=0;)U^=s<<e.getBCHDigit(U)-f;return x<<12|U}})(Ic);var Tc={},Oi=mt,Nc=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,Qh=1<<14|1<<12|1<<10|1<<4|1<<1,vs=Oi.getBCHDigit(Nc);Tc.getEncodedBits=function(e,r){for(var n=e.bit<<3|r,i=n<<10;Oi.getBCHDigit(i)-vs>=0;)i^=Nc<<Oi.getBCHDigit(i)-vs;return(n<<10|i)^Qh};var Rc={},Zh=er;function Er(t){this.mode=Zh.NUMERIC,this.data=t.toString()}Er.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Er.prototype.getLength=function(){return this.data.length};Er.prototype.getBitsLength=function(){return Er.getBitsLength(this.data.length)};Er.prototype.write=function(e){var r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);var o=this.data.length-r;o>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,o*3+1))};var ed=Er,td=er,hi=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function xr(t){this.mode=td.ALPHANUMERIC,this.data=t}xr.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};xr.prototype.getLength=function(){return this.data.length};xr.prototype.getBitsLength=function(){return xr.getBitsLength(this.data.length)};xr.prototype.write=function(e){var r;for(r=0;r+2<=this.data.length;r+=2){var n=hi.indexOf(this.data[r])*45;n+=hi.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(hi.indexOf(this.data[r]),6)};var rd=xr,nd=Zt,id=er;function Dr(t){this.mode=id.BYTE,this.data=nd.from(t)}Dr.getBitsLength=function(e){return e*8};Dr.prototype.getLength=function(){return this.data.length};Dr.prototype.getBitsLength=function(){return Dr.getBitsLength(this.data.length)};Dr.prototype.write=function(t){for(var e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var od=Dr,sd=er,ad=mt;function Sr(t){this.mode=sd.KANJI,this.data=t}Sr.getBitsLength=function(e){return e*13};Sr.prototype.getLength=function(){return this.data.length};Sr.prototype.getBitsLength=function(){return Sr.getBitsLength(this.data.length)};Sr.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var r=ad.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var cd=Sr,Lc={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var o={},a={};a[n]=0;var s=e.PriorityQueue.make();s.push(n,0);for(var f,p,d,E,T,I,x,U,R;!s.empty();){f=s.pop(),p=f.value,E=f.cost,T=r[p]||{};for(d in T)T.hasOwnProperty(d)&&(I=T[d],x=E+I,U=a[d],R=typeof a[d]>"u",(R||U>x)&&(a[d]=x,s.push(d,x),o[d]=p))}if(typeof i<"u"&&typeof a[i]>"u"){var B=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(B)}return o},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],o=n;o;)i.push(o),r[o],o=r[o];return i.reverse(),i},find_path:function(r,n,i){var o=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},o;r=r||{};for(o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Lc);(function(t){var e=er,r=ed,n=rd,i=od,o=cd,a=Pt,s=mt,f=Lc.exports;function p(B){return unescape(encodeURIComponent(B)).length}function d(B,m,S){for(var v=[],D;(D=B.exec(S))!==null;)v.push({data:D[0],index:D.index,mode:m,length:D[0].length});return v}function E(B){var m=d(a.NUMERIC,e.NUMERIC,B),S=d(a.ALPHANUMERIC,e.ALPHANUMERIC,B),v,D;s.isKanjiModeEnabled()?(v=d(a.BYTE,e.BYTE,B),D=d(a.KANJI,e.KANJI,B)):(v=d(a.BYTE_KANJI,e.BYTE,B),D=[]);var C=m.concat(S,v,D);return C.sort(function(c,_){return c.index-_.index}).map(function(c){return{data:c.data,mode:c.mode,length:c.length}})}function T(B,m){switch(m){case e.NUMERIC:return r.getBitsLength(B);case e.ALPHANUMERIC:return n.getBitsLength(B);case e.KANJI:return o.getBitsLength(B);case e.BYTE:return i.getBitsLength(B)}}function I(B){return B.reduce(function(m,S){var v=m.length-1>=0?m[m.length-1]:null;return v&&v.mode===S.mode?(m[m.length-1].data+=S.data,m):(m.push(S),m)},[])}function x(B){for(var m=[],S=0;S<B.length;S++){var v=B[S];switch(v.mode){case e.NUMERIC:m.push([v,{data:v.data,mode:e.ALPHANUMERIC,length:v.length},{data:v.data,mode:e.BYTE,length:v.length}]);break;case e.ALPHANUMERIC:m.push([v,{data:v.data,mode:e.BYTE,length:v.length}]);break;case e.KANJI:m.push([v,{data:v.data,mode:e.BYTE,length:p(v.data)}]);break;case e.BYTE:m.push([{data:v.data,mode:e.BYTE,length:p(v.data)}])}}return m}function U(B,m){for(var S={},v={start:{}},D=["start"],C=0;C<B.length;C++){for(var c=B[C],_=[],W=0;W<c.length;W++){var V=c[W],re=""+C+W;_.push(re),S[re]={node:V,lastCount:0},v[re]={};for(var ne=0;ne<D.length;ne++){var L=D[ne];S[L]&&S[L].node.mode===V.mode?(v[L][re]=T(S[L].lastCount+V.length,V.mode)-T(S[L].lastCount,V.mode),S[L].lastCount+=V.length):(S[L]&&(S[L].lastCount=V.length),v[L][re]=T(V.length,V.mode)+4+e.getCharCountIndicator(V.mode,m))}}D=_}for(ne=0;ne<D.length;ne++)v[D[ne]].end=0;return{map:v,table:S}}function R(B,m){var S,v=e.getBestModeForData(B);if(S=e.from(m,v),S!==e.BYTE&&S.bit<v.bit)throw new Error('"'+B+'" cannot be encoded with mode '+e.toString(S)+`.
 Suggested mode is: `+e.toString(v));switch(S===e.KANJI&&!s.isKanjiModeEnabled()&&(S=e.BYTE),S){case e.NUMERIC:return new r(B);case e.ALPHANUMERIC:return new n(B);case e.KANJI:return new o(B);case e.BYTE:return new i(B)}}t.fromArray=function(m){return m.reduce(function(S,v){return typeof v=="string"?S.push(R(v,null)):v.data&&S.push(R(v.data,v.mode)),S},[])},t.fromString=function(m,S){for(var v=E(m,s.isKanjiModeEnabled()),D=x(v),C=U(D,S),c=f.find_path(C.map,"start","end"),_=[],W=1;W<c.length-1;W++)_.push(C.table[c[W]].node);return t.fromArray(I(_))},t.rawSplit=function(m){return t.fromArray(E(m,s.isKanjiModeEnabled()))}})(Rc);var ys=Zt,kn=mt,di=$n,ud=kh,ld=Kh,fd=bc,hd=Ec,Ti=xc,Ni=jn,dd=qh,Cn=Ic,pd=Tc,gd=er,pi=Rc,_d=fo;function vd(t,e){for(var r=t.size,n=hd.getPositions(e),i=0;i<n.length;i++)for(var o=n[i][0],a=n[i][1],s=-1;s<=7;s++)if(!(o+s<=-1||r<=o+s))for(var f=-1;f<=7;f++)a+f<=-1||r<=a+f||(s>=0&&s<=6&&(f===0||f===6)||f>=0&&f<=6&&(s===0||s===6)||s>=2&&s<=4&&f>=2&&f<=4?t.set(o+s,a+f,!0,!0):t.set(o+s,a+f,!1,!0))}function yd(t){for(var e=t.size,r=8;r<e-8;r++){var n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function md(t,e){for(var r=fd.getPositions(e),n=0;n<r.length;n++)for(var i=r[n][0],o=r[n][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)a===-2||a===2||s===-2||s===2||a===0&&s===0?t.set(i+a,o+s,!0,!0):t.set(i+a,o+s,!1,!0)}function wd(t,e){for(var r=t.size,n=Cn.getEncodedBits(e),i,o,a,s=0;s<18;s++)i=Math.floor(s/3),o=s%3+r-8-3,a=(n>>s&1)===1,t.set(i,o,a,!0),t.set(o,i,a,!0)}function gi(t,e,r){var n=t.size,i=pd.getEncodedBits(e,r),o,a;for(o=0;o<15;o++)a=(i>>o&1)===1,o<6?t.set(o,8,a,!0):o<8?t.set(o+1,8,a,!0):t.set(n-15+o,8,a,!0),o<8?t.set(8,n-o-1,a,!0):o<9?t.set(8,15-o-1+1,a,!0):t.set(8,15-o-1,a,!0);t.set(n-8,8,1,!0)}function bd(t,e){for(var r=t.size,n=-1,i=r-1,o=7,a=0,s=r-1;s>0;s-=2)for(s===6&&s--;;){for(var f=0;f<2;f++)if(!t.isReserved(i,s-f)){var p=!1;a<e.length&&(p=(e[a]>>>o&1)===1),t.set(i,s-f,p),o--,o===-1&&(a++,o=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function Ed(t,e,r){var n=new ud;r.forEach(function(p){n.put(p.mode.bit,4),n.put(p.getLength(),gd.getCharCountIndicator(p.mode,t)),p.write(n)});var i=kn.getSymbolTotalCodewords(t),o=Ni.getTotalCodewordsCount(t,e),a=(i-o)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);for(var s=(a-n.getLengthInBits())/8,f=0;f<s;f++)n.put(f%2?17:236,8);return xd(n,t,e)}function xd(t,e,r){for(var n=kn.getSymbolTotalCodewords(e),i=Ni.getTotalCodewordsCount(e,r),o=n-i,a=Ni.getBlocksCount(e,r),s=n%a,f=a-s,p=Math.floor(n/a),d=Math.floor(o/a),E=d+1,T=p-d,I=new dd(T),x=0,U=new Array(a),R=new Array(a),B=0,m=ys.from(t.buffer),S=0;S<a;S++){var v=S<f?d:E;U[S]=m.slice(x,x+v),R[S]=I.encode(U[S]),x+=v,B=Math.max(B,v)}var D=ys.alloc(n),C=0,c,_;for(c=0;c<B;c++)for(_=0;_<a;_++)c<U[_].length&&(D[C++]=U[_][c]);for(c=0;c<T;c++)for(_=0;_<a;_++)D[C++]=R[_][c];return D}function Dd(t,e,r,n){var i;if(_d(t))i=pi.fromArray(t);else if(typeof t=="string"){var o=e;if(!o){var a=pi.rawSplit(t);o=Cn.getBestVersionForData(a,r)}i=pi.fromString(t,o||40)}else throw new Error("Invalid data");var s=Cn.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);var f=Ed(e,r,i),p=kn.getSymbolSize(e),d=new ld(p);return vd(d,e),yd(d),md(d,e),gi(d,r,0),e>=7&&wd(d,e),bd(d,f),isNaN(n)&&(n=Ti.getBestMask(d,gi.bind(null,d,r))),Ti.applyMask(n,d),gi(d,r,n),{modules:d,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}_c.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");var n=di.M,i,o;return typeof r<"u"&&(n=di.from(r.errorCorrectionLevel,di.M),i=Cn.from(r.version),o=Ti.from(r.maskPattern),r.toSJISFunc&&kn.setToSJISFunction(r.toSJISFunc)),Dd(e,i,n,o)};var Pc={},vo={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");var n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(o){return[o,o]}))),n.length===6&&n.push("F","F");var i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});var i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,o=n.width&&n.width>=21?n.width:void 0,a=n.scale||4;return{width:o,scale:o?4:a,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){var o=t.getScale(n,i);return Math.floor((n+i.margin*2)*o)},t.qrToImageData=function(n,i,o){for(var a=i.modules.size,s=i.modules.data,f=t.getScale(a,o),p=Math.floor((a+o.margin*2)*f),d=o.margin*f,E=[o.color.light,o.color.dark],T=0;T<p;T++)for(var I=0;I<p;I++){var x=(T*p+I)*4,U=o.color.light;if(T>=d&&I>=d&&T<p-d&&I<p-d){var R=Math.floor((T-d)/f),B=Math.floor((I-d)/f);U=E[s[R*a+B]?1:0]}n[x++]=U.r,n[x++]=U.g,n[x++]=U.b,n[x]=U.a}}})(vo);(function(t){var e=vo;function r(i,o,a){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=a,o.width=a,o.style.height=a+"px",o.style.width=a+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,a,s){var f=s,p=a;typeof f>"u"&&(!a||!a.getContext)&&(f=a,a=void 0),a||(p=n()),f=e.getOptions(f);var d=e.getImageWidth(o.modules.size,f),E=p.getContext("2d"),T=E.createImageData(d,d);return e.qrToImageData(T.data,o,f),r(E,p,d),E.putImageData(T,0,0),p},t.renderToDataURL=function(o,a,s){var f=s;typeof f>"u"&&(!a||!a.getContext)&&(f=a,a=void 0),f||(f={});var p=t.render(o,a,f),d=f.type||"image/png",E=f.rendererOpts||{};return p.toDataURL(d,E.quality)}})(Pc);var Fc={},Sd=vo;function ms(t,e){var r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function _i(t,e,r){var n=t+e;return typeof r<"u"&&(n+=" "+r),n}function Cd(t,e,r){for(var n="",i=0,o=!1,a=0,s=0;s<t.length;s++){var f=Math.floor(s%e),p=Math.floor(s/e);!f&&!o&&(o=!0),t[s]?(a++,s>0&&f>0&&t[s-1]||(n+=o?_i("M",f+r,.5+p+r):_i("m",i,0),i=0,o=!1),f+1<e&&t[s+1]||(n+=_i("h",a),a=0)):i++}return n}Fc.render=function(e,r,n){var i=Sd.getOptions(r),o=e.modules.size,a=e.modules.data,s=o+i.margin*2,f=i.color.light.a?"<path "+ms(i.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",p="<path "+ms(i.color.dark,"stroke")+' d="'+Cd(a,o,i.margin)+'"/>',d='viewBox="0 0 '+s+" "+s+'"',E=i.width?'width="'+i.width+'" height="'+i.width+'" ':"",T='<svg xmlns="http://www.w3.org/2000/svg" '+E+d+' shape-rendering="crispEdges">'+f+p+`</svg>
`;return typeof n=="function"&&n(null,T),T};var Ad=Th,Ri=_c,Mc=Pc,Id=Fc;function yo(t,e,r,n,i){var o=[].slice.call(arguments,1),a=o.length,s=typeof o[a-1]=="function";if(!s&&!Ad())throw new Error("Callback required as last argument");if(s){if(a<2)throw new Error("Too few arguments provided");a===2?(i=r,r=e,e=n=void 0):a===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(r=e,e=n=void 0):a===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(p,d){try{var E=Ri.create(r,n);p(t(E,e,n))}catch(T){d(T)}})}try{var f=Ri.create(r,n);i(null,t(f,e,n))}catch(p){i(p)}}Zr.create=Ri.create;Zr.toCanvas=yo.bind(null,Mc.render);Zr.toDataURL=yo.bind(null,Mc.renderToDataURL);Zr.toString=yo.bind(null,function(t,e,r){return Id.render(t,r)});var Od=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],n=0;n<t.rangeCount;n++)r.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||r.forEach(function(i){t.addRange(i)}),e&&e.focus()}},Td=Od,ws={"text/plain":"Text","text/html":"Url",default:"Text"},Nd="Copy to clipboard: #{key}, Enter";function Rd(t){var e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function Ld(t,e){var r,n,i,o,a,s,f=!1;e||(e={}),r=e.debug||!1;try{i=Td(),o=document.createRange(),a=document.getSelection(),s=document.createElement("span"),s.textContent=t,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(d){if(d.stopPropagation(),e.format)if(d.preventDefault(),typeof d.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var E=ws[e.format]||ws.default;window.clipboardData.setData(E,t)}else d.clipboardData.clearData(),d.clipboardData.setData(e.format,t);e.onCopy&&(d.preventDefault(),e.onCopy(d.clipboardData))}),document.body.appendChild(s),o.selectNodeContents(s),a.addRange(o);var p=document.execCommand("copy");if(!p)throw new Error("copy command was unsuccessful");f=!0}catch(d){r&&console.error("unable to copy using execCommand: ",d),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),f=!0}catch(E){r&&console.error("unable to copy using clipboardData: ",E),r&&console.error("falling back to prompt"),n=Rd("message"in e?e.message:Nd),window.prompt(n,t)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(o):a.removeAllRanges()),s&&document.body.removeChild(s),i()}return f}var Pd=Ld,pe,Kr,mo,Uc,bs,wo,Bc,kt={},Kn=[],Fd=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function zt(t,e){for(var r in e)t[r]=e[r];return t}function $c(t){var e=t.parentNode;e&&e.removeChild(t)}function Kt(t,e,r){var n,i=arguments,o={};for(n in e)n!=="key"&&n!=="ref"&&(o[n]=e[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(i[n]);if(r!=null&&(o.children=r),typeof t=="function"&&t.defaultProps!=null)for(n in t.defaultProps)o[n]===void 0&&(o[n]=t.defaultProps[n]);return An(t,o,e&&e.key,e&&e.ref,null)}function An(t,e,r,n,i){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i};return i==null&&(o.__v=o),pe.vnode&&pe.vnode(o),o}function jc(){return{}}function tn(t){return t.children}function It(t,e){this.props=t,this.context=e}function Wr(t,e){if(e==null)return t.__?Wr(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Wr(t):null}function zc(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return zc(t)}}function Dn(t){(!t.__d&&(t.__d=!0)&&Kr.push(t)&&!mo++||bs!==pe.debounceRendering)&&((bs=pe.debounceRendering)||Uc)(Md)}function Md(){for(var t;mo=Kr.length;)t=Kr.sort(function(e,r){return e.__v.__b-r.__v.__b}),Kr=[],t.some(function(e){var r,n,i,o,a,s,f;e.__d&&(s=(a=(r=e).__v).__e,(f=r.__P)&&(n=[],(i=zt({},a)).__v=i,o=bo(f,a,i,r.__n,f.ownerSVGElement!==void 0,null,n,s??Wr(a)),Kc(n,a),o!=s&&zc(a)))})}function kc(t,e,r,n,i,o,a,s,f){var p,d,E,T,I,x,U,R=r&&r.__k||Kn,B=R.length;if(s==kt&&(s=o!=null?o[0]:B?Wr(r,0):null),p=0,e.__k=Jt(e.__k,function(m){if(m!=null){if(m.__=e,m.__b=e.__b+1,(E=R[p])===null||E&&m.key==E.key&&m.type===E.type)R[p]=void 0;else for(d=0;d<B;d++){if((E=R[d])&&m.key==E.key&&m.type===E.type){R[d]=void 0;break}E=null}if(T=bo(t,m,E=E||kt,n,i,o,a,s,f),(d=m.ref)&&E.ref!=d&&(U||(U=[]),E.ref&&U.push(E.ref,null,m),U.push(d,m.__c||T,m)),T!=null){var S;if(x==null&&(x=T),m.__d!==void 0)S=m.__d,m.__d=void 0;else if(o==E||T!=s||T.parentNode==null){e:if(s==null||s.parentNode!==t)t.appendChild(T),S=null;else{for(I=s,d=0;(I=I.nextSibling)&&d<B;d+=2)if(I==T)break e;t.insertBefore(T,s),S=s}e.type=="option"&&(t.value="")}s=S!==void 0?S:T.nextSibling,typeof e.type=="function"&&(e.__d=s)}else s&&E.__e==s&&s.parentNode!=t&&(s=Wr(E))}return p++,m}),e.__e=x,o!=null&&typeof e.type!="function")for(p=o.length;p--;)o[p]!=null&&$c(o[p]);for(p=B;p--;)R[p]!=null&&Hr(R[p],R[p]);if(U)for(p=0;p<U.length;p++)Hc(U[p],U[++p],U[++p])}function Jt(t,e,r){if(r==null&&(r=[]),t==null||typeof t=="boolean")e&&r.push(e(null));else if(Array.isArray(t))for(var n=0;n<t.length;n++)Jt(t[n],e,r);else r.push(e?e(typeof t=="string"||typeof t=="number"?An(null,t,null,null,t):t.__e!=null||t.__c!=null?An(t.type,t.props,t.key,null,t.__v):t):t);return r}function Ud(t,e,r,n,i){var o;for(o in r)o==="children"||o==="key"||o in e||In(t,o,null,r[o],n);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||r[o]===e[o]||In(t,o,e[o],r[o],n)}function Es(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=typeof r=="number"&&Fd.test(e)===!1?r+"px":r??""}function In(t,e,r,n,i){var o,a,s,f,p;if(i?e==="className"&&(e="class"):e==="class"&&(e="className"),e==="style")if(o=t.style,typeof r=="string")o.cssText=r;else{if(typeof n=="string"&&(o.cssText="",n=null),n)for(f in n)r&&f in r||Es(o,f,"");if(r)for(p in r)n&&r[p]===n[p]||Es(o,p,r[p])}else e[0]==="o"&&e[1]==="n"?(a=e!==(e=e.replace(/Capture$/,"")),s=e.toLowerCase(),e=(s in t?s:e).slice(2),r?(n||t.addEventListener(e,xs,a),(t.l||(t.l={}))[e]=r):t.removeEventListener(e,xs,a)):e!=="list"&&e!=="tagName"&&e!=="form"&&e!=="type"&&e!=="size"&&!i&&e in t?t[e]=r??"":typeof r!="function"&&e!=="dangerouslySetInnerHTML"&&(e!==(e=e.replace(/^xlink:?/,""))?r==null||r===!1?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):r==null||r===!1&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,r))}function xs(t){this.l[t.type](pe.event?pe.event(t):t)}function bo(t,e,r,n,i,o,a,s,f){var p,d,E,T,I,x,U,R,B,m,S=e.type;if(e.constructor!==void 0)return null;(p=pe.__b)&&p(e);try{e:if(typeof S=="function"){if(R=e.props,B=(p=S.contextType)&&n[p.__c],m=p?B?B.props.value:p.__:n,r.__c?U=(d=e.__c=r.__c).__=d.__E:("prototype"in S&&S.prototype.render?e.__c=d=new S(R,m):(e.__c=d=new It(R,m),d.constructor=S,d.render=$d),B&&B.sub(d),d.props=R,d.state||(d.state={}),d.context=m,d.__n=n,E=d.__d=!0,d.__h=[]),d.__s==null&&(d.__s=d.state),S.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=zt({},d.__s)),zt(d.__s,S.getDerivedStateFromProps(R,d.__s))),T=d.props,I=d.state,E)S.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(S.getDerivedStateFromProps==null&&R!==T&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(R,m),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(R,d.__s,m)===!1||e.__v===r.__v&&!d.__){for(d.props=R,d.state=d.__s,e.__v!==r.__v&&(d.__d=!1),d.__v=e,e.__e=r.__e,e.__k=r.__k,d.__h.length&&a.push(d),p=0;p<e.__k.length;p++)e.__k[p]&&(e.__k[p].__=e);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(R,d.__s,m),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(T,I,x)})}d.context=m,d.props=R,d.state=d.__s,(p=pe.__r)&&p(e),d.__d=!1,d.__v=e,d.__P=t,p=d.render(d.props,d.state,d.context),e.__k=p!=null&&p.type==tn&&p.key==null?p.props.children:Array.isArray(p)?p:[p],d.getChildContext!=null&&(n=zt(zt({},n),d.getChildContext())),E||d.getSnapshotBeforeUpdate==null||(x=d.getSnapshotBeforeUpdate(T,I)),kc(t,e,r,n,i,o,a,s,f),d.base=e.__e,d.__h.length&&a.push(d),U&&(d.__E=d.__=null),d.__e=!1}else o==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=Bd(r.__e,e,r,n,i,o,a,f);(p=pe.diffed)&&p(e)}catch(v){e.__v=null,pe.__e(v,e,r)}return e.__e}function Kc(t,e){pe.__c&&pe.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){pe.__e(n,r.__v)}})}function Bd(t,e,r,n,i,o,a,s){var f,p,d,E,T,I=r.props,x=e.props;if(i=e.type==="svg"||i,o!=null){for(f=0;f<o.length;f++)if((p=o[f])!=null&&((e.type===null?p.nodeType===3:p.localName===e.type)||t==p)){t=p,o[f]=null;break}}if(t==null){if(e.type===null)return document.createTextNode(x);t=i?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,x.is&&{is:x.is}),o=null,s=!1}if(e.type===null)I!==x&&t.data!=x&&(t.data=x);else{if(o!=null&&(o=Kn.slice.call(t.childNodes)),d=(I=r.props||kt).dangerouslySetInnerHTML,E=x.dangerouslySetInnerHTML,!s){if(I===kt)for(I={},T=0;T<t.attributes.length;T++)I[t.attributes[T].name]=t.attributes[T].value;(E||d)&&(E&&d&&E.__html==d.__html||(t.innerHTML=E&&E.__html||""))}Ud(t,x,I,i,s),E?e.__k=[]:(e.__k=e.props.children,kc(t,e,r,n,e.type!=="foreignObject"&&i,o,a,kt,s)),s||("value"in x&&(f=x.value)!==void 0&&f!==t.value&&In(t,"value",f,I.value,!1),"checked"in x&&(f=x.checked)!==void 0&&f!==t.checked&&In(t,"checked",f,I.checked,!1))}return t}function Hc(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){pe.__e(n,r)}}function Hr(t,e,r){var n,i,o;if(pe.unmount&&pe.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Hc(n,null,e)),r||typeof t.type=="function"||(r=(i=t.__e)!=null),t.__e=t.__d=void 0,(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){pe.__e(a,e)}n.base=n.__P=null}if(n=t.__k)for(o=0;o<n.length;o++)n[o]&&Hr(n[o],e,r);i!=null&&$c(i)}function $d(t,e,r){return this.constructor(t,r)}function Gr(t,e,r){var n,i,o;pe.__&&pe.__(t,e),i=(n=r===wo)?null:r&&r.__k||e.__k,t=Kt(tn,null,[t]),o=[],bo(e,(n?e:r||e).__k=t,i||kt,kt,e.ownerSVGElement!==void 0,r&&!n?[r]:i?null:Kn.slice.call(e.childNodes),o,r||kt,n),Kc(o,t)}function Vc(t,e){Gr(t,e,wo)}function jd(t,e){var r,n;for(n in e=zt(zt({},t.props),e),arguments.length>2&&(e.children=Kn.slice.call(arguments,2)),r={},e)n!=="key"&&n!=="ref"&&(r[n]=e[n]);return An(t.type,r,e.key||t.key,e.ref||t.ref,null)}function qc(t){var e={},r={__c:"__cC"+Bc++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,o=this;return this.getChildContext||(i=[],this.getChildContext=function(){return e[r.__c]=o,e},this.shouldComponentUpdate=function(a){o.props.value!==a.value&&i.some(function(s){s.context=a.value,Dn(s)})},this.sub=function(a){i.push(a);var s=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),s&&s.call(a)}}),n.children}};return r.Consumer.contextType=r,r.Provider.__=r,r}pe={__e:function(t,e){for(var r,n;e=e.__;)if((r=e.__c)&&!r.__)try{if(r.constructor&&r.constructor.getDerivedStateFromError!=null&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(t))),r.componentDidCatch!=null&&(n=!0,r.componentDidCatch(t)),n)return Dn(r.__E=r)}catch(i){t=i}throw t}},It.prototype.setState=function(t,e){var r;r=this.__s!==this.state?this.__s:this.__s=zt({},this.state),typeof t=="function"&&(t=t(r,this.props)),t&&zt(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),Dn(this))},It.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Dn(this))},It.prototype.render=tn,Kr=[],mo=0,Uc=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,wo=kt,Bc=0;var hr,dt,Ds,Cr=0,Li=[],Ss=pe.__r,Cs=pe.diffed,As=pe.__c,Is=pe.unmount;function Rr(t,e){pe.__h&&pe.__h(dt,t,Cr||e),Cr=0;var r=dt.__H||(dt.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function Eo(t){return Cr=1,xo(Zc,t)}function xo(t,e,r){var n=Rr(hr++,2);return n.__c||(n.__c=dt,n.__=[r?r(e):Zc(void 0,e),function(i){var o=t(n.__[0],i);n.__[0]!==o&&(n.__[0]=o,n.__c.setState({}))}]),n.__}function Wc(t,e){var r=Rr(hr++,3);!pe.__s&&So(r.__H,e)&&(r.__=t,r.__H=e,dt.__H.__h.push(r))}function Do(t,e){var r=Rr(hr++,4);!pe.__s&&So(r.__H,e)&&(r.__=t,r.__H=e,dt.__h.push(r))}function Gc(t){return Cr=5,Hn(function(){return{current:t}},[])}function Yc(t,e,r){Cr=6,Do(function(){typeof t=="function"?t(e()):t&&(t.current=e())},r==null?r:r.concat(t))}function Hn(t,e){var r=Rr(hr++,7);return So(r.__H,e)?(r.__H=e,r.__h=t,r.__=t()):r.__}function Jc(t,e){return Cr=8,Hn(function(){return t},e)}function Xc(t){var e=dt.context[t.__c],r=Rr(hr++,9);return r.__c=t,e?(r.__==null&&(r.__=!0,e.sub(dt)),e.props.value):t.__}function Qc(t,e){pe.useDebugValue&&pe.useDebugValue(e?e(t):t)}function zd(t){var e=Rr(hr++,10),r=Eo();return e.__=t,dt.componentDidCatch||(dt.componentDidCatch=function(n){e.__&&e.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}function kd(){Li.some(function(t){if(t.__P)try{t.__H.__h.forEach(Pi),t.__H.__h.forEach(Fi),t.__H.__h=[]}catch(e){return t.__H.__h=[],pe.__e(e,t.__v),!0}}),Li=[]}function Pi(t){t.t&&t.t()}function Fi(t){var e=t.__();typeof e=="function"&&(t.t=e)}function So(t,e){return!t||e.some(function(r,n){return r!==t[n]})}function Zc(t,e){return typeof e=="function"?e(t):e}pe.__r=function(t){Ss&&Ss(t),hr=0,(dt=t.__c).__H&&(dt.__H.__h.forEach(Pi),dt.__H.__h.forEach(Fi),dt.__H.__h=[])},pe.diffed=function(t){Cs&&Cs(t);var e=t.__c;if(e){var r=e.__H;r&&r.__h.length&&(Li.push(e)!==1&&Ds===pe.requestAnimationFrame||((Ds=pe.requestAnimationFrame)||function(n){var i,o=function(){clearTimeout(a),cancelAnimationFrame(i),setTimeout(n)},a=setTimeout(o,100);typeof window<"u"&&(i=requestAnimationFrame(o))})(kd))}},pe.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Pi),r.__h=r.__h.filter(function(n){return!n.__||Fi(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],pe.__e(n,r.__v)}}),As&&As(t,e)},pe.unmount=function(t){Is&&Is(t);var e=t.__c;if(e){var r=e.__H;if(r)try{r.__.forEach(function(n){return n.t&&n.t()})}catch(n){pe.__e(n,e.__v)}}};function Co(t,e){for(var r in e)t[r]=e[r];return t}function Mi(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}var eu=function(t){var e,r;function n(i){var o;return(o=t.call(this,i)||this).isPureReactComponent=!0,o}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.shouldComponentUpdate=function(i,o){return Mi(this.props,i)||Mi(this.state,o)},n}(It);function tu(t,e){function r(i){var o=this.props.ref,a=o==i.ref;return!a&&o&&(o.call?o(null):o.current=null),e?!e(this.props,i)||!a:Mi(this.props,i)}function n(i){return this.shouldComponentUpdate=r,Kt(t,Co({},i))}return n.prototype.isReactComponent=!0,n.displayName="Memo("+(t.displayName||t.name)+")",n.t=!0,n}var Os=pe.__b;function ru(t){function e(r){var n=Co({},r);return delete n.ref,t(n,r.ref)}return e.prototype.isReactComponent=e.t=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}pe.__b=function(t){t.type&&t.type.t&&t.ref&&(t.props.ref=t.ref,t.ref=null),Os&&Os(t)};var Ts=function(t,e){return t?Jt(t).reduce(function(r,n,i){return r.concat(e(n,i))},[]):null},nu={map:Ts,forEach:Ts,count:function(t){return t?Jt(t).length:0},only:function(t){if((t=Jt(t)).length!==1)throw new Error("Children.only() expects only one child.");return t[0]},toArray:Jt},Kd=pe.__e;function iu(t){return t&&((t=Co({},t)).__c=null,t.__k=t.__k&&t.__k.map(iu)),t}function On(){this.__u=0,this.o=null,this.__b=null}function ou(t){var e=t.__.__c;return e&&e.u&&e.u(t)}function su(t){var e,r,n;function i(o){if(e||(e=t()).then(function(a){r=a.default||a},function(a){n=a}),n)throw n;if(!r)throw e;return Kt(r,o)}return i.displayName="Lazy",i.t=!0,i}function yr(){this.i=null,this.l=null}pe.__e=function(t,e,r){if(t.then){for(var n,i=e;i=i.__;)if((n=i.__c)&&n.__c)return n.__c(t,e.__c)}Kd(t,e,r)},(On.prototype=new It).__c=function(t,e){var r=this;r.o==null&&(r.o=[]),r.o.push(e);var n=ou(r.__v),i=!1,o=function(){i||(i=!0,n?n(a):a())};e.__c=e.componentWillUnmount,e.componentWillUnmount=function(){o(),e.__c&&e.__c()};var a=function(){var s;if(!--r.__u)for(r.__v.__k[0]=r.state.u,r.setState({u:r.__b=null});s=r.o.pop();)s.forceUpdate()};r.__u++||r.setState({u:r.__b=r.__v.__k[0]}),t.then(o,o)},On.prototype.render=function(t,e){return this.__b&&(this.__v.__k[0]=iu(this.__b),this.__b=null),[Kt(It,null,e.u?null:t.children),e.u&&t.fallback]};var Ns=function(t,e,r){if(++r[1]===r[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(r=t.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.i=r=r[2]}};(yr.prototype=new It).u=function(t){var e=this,r=ou(e.__v),n=e.l.get(t);return n[0]++,function(i){var o=function(){e.props.revealOrder?(n.push(i),Ns(e,t,n)):i()};r?r(o):o()}},yr.prototype.render=function(t){this.i=null,this.l=new Map;var e=Jt(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.l.set(e[r],this.i=[1,0,this.i]);return t.children},yr.prototype.componentDidUpdate=yr.prototype.componentDidMount=function(){var t=this;t.l.forEach(function(e,r){Ns(t,r,e)})};var Hd=function(){function t(){}var e=t.prototype;return e.getChildContext=function(){return this.props.context},e.render=function(r){return r.children},t}();function Vd(t){var e=this,r=t.container,n=Kt(Hd,{context:e.context},t.vnode);return e.s&&e.s!==r&&(e.v.parentNode&&e.s.removeChild(e.v),Hr(e.h),e.p=!1),t.vnode?e.p?(r.__k=e.__k,Gr(n,r),e.__k=r.__k):(e.v=document.createTextNode(""),Vc("",r),r.appendChild(e.v),e.p=!0,e.s=r,Gr(n,r,e.v),e.__k=e.v.__k):e.p&&(e.v.parentNode&&e.s.removeChild(e.v),Hr(e.h)),e.h=n,e.componentWillUnmount=function(){e.v.parentNode&&e.s.removeChild(e.v),Hr(e.h)},null}function au(t,e){return Kt(Vd,{vnode:t,container:e})}var Rs=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;It.prototype.isReactComponent={};var cu=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function Ui(t,e,r){if(e.__k==null)for(;e.firstChild;)e.removeChild(e.firstChild);return Gr(t,e),typeof r=="function"&&r(),t?t.__c:null}function qd(t,e,r){return Vc(t,e),typeof r=="function"&&r(),t?t.__c:null}var Ls=pe.event;function vi(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(r){this["UNSAFE_"+e]=r}})}pe.event=function(t){Ls&&(t=Ls(t)),t.persist=function(){};var e=!1,r=!1,n=t.stopPropagation;t.stopPropagation=function(){n.call(t),e=!0};var i=t.preventDefault;return t.preventDefault=function(){i.call(t),r=!0},t.isPropagationStopped=function(){return e},t.isDefaultPrevented=function(){return r},t.nativeEvent=t};var Ps={configurable:!0,get:function(){return this.class}},Fs=pe.vnode;pe.vnode=function(t){t.$$typeof=cu;var e=t.type,r=t.props;if(e){if(r.class!=r.className&&(Ps.enumerable="className"in r,r.className!=null&&(r.class=r.className),Object.defineProperty(r,"className",Ps)),typeof e!="function"){var n,i,o;for(o in r.defaultValue&&r.value!==void 0&&(r.value||r.value===0||(r.value=r.defaultValue),delete r.defaultValue),Array.isArray(r.value)&&r.multiple&&e==="select"&&(Jt(r.children).forEach(function(a){r.value.indexOf(a.props.value)!=-1&&(a.props.selected=!0)}),delete r.value),r)if(n=Rs.test(o))break;if(n)for(o in i=t.props={},r)i[Rs.test(o)?o.replace(/[A-Z0-9]/,"-$&").toLowerCase():o]=r[o]}(function(a){var s=t.type,f=t.props;if(f&&typeof s=="string"){var p={};for(var d in f)/^on(Ani|Tra|Tou)/.test(d)&&(f[d.toLowerCase()]=f[d],delete f[d]),p[d.toLowerCase()]=d;if(p.ondoubleclick&&(f.ondblclick=f[p.ondoubleclick],delete f[p.ondoubleclick]),p.onbeforeinput&&(f.onbeforeinput=f[p.onbeforeinput],delete f[p.onbeforeinput]),p.onchange&&(s==="textarea"||s.toLowerCase()==="input"&&!/^fil|che|ra/i.test(f.type))){var E=p.oninput||"oninput";f[E]||(f[E]=f[p.onchange],delete f[p.onchange])}}})(),typeof e=="function"&&!e.m&&e.prototype&&(vi(e.prototype,"componentWillMount"),vi(e.prototype,"componentWillReceiveProps"),vi(e.prototype,"componentWillUpdate"),e.m=!0)}Fs&&Fs(t)};var Wd="16.8.0";function uu(t){return Kt.bind(null,t)}function Ao(t){return!!t&&t.$$typeof===cu}function lu(t){return Ao(t)?jd.apply(null,arguments):t}function fu(t){return!!t.__k&&(Gr(null,t),!0)}function hu(t){return t&&(t.base||t.nodeType===1&&t)||null}var du=function(t,e){return t(e)},Gd={useState:Eo,useReducer:xo,useEffect:Wc,useLayoutEffect:Do,useRef:Gc,useImperativeHandle:Yc,useMemo:Hn,useCallback:Jc,useContext:Xc,useDebugValue:Qc,version:"16.8.0",Children:nu,render:Ui,hydrate:Ui,unmountComponentAtNode:fu,createPortal:au,createElement:Kt,createContext:qc,createFactory:uu,cloneElement:lu,createRef:jc,Fragment:tn,isValidElement:Ao,findDOMNode:hu,Component:It,PureComponent:eu,memo:tu,forwardRef:ru,unstable_batchedUpdates:du,Suspense:On,SuspenseList:yr,lazy:su},Yd=Object.freeze(Object.defineProperty({__proto__:null,default:Gd,version:Wd,Children:nu,render:Ui,hydrate:qd,unmountComponentAtNode:fu,createPortal:au,createFactory:uu,cloneElement:lu,isValidElement:Ao,findDOMNode:hu,PureComponent:eu,memo:tu,forwardRef:ru,unstable_batchedUpdates:du,Suspense:On,SuspenseList:yr,lazy:su,createElement:Kt,createContext:qc,createRef:jc,Fragment:tn,Component:It,useState:Eo,useReducer:xo,useEffect:Wc,useLayoutEffect:Do,useRef:Gc,useImperativeHandle:Yc,useMemo:Hn,useCallback:Jc,useContext:Xc,useDebugValue:Qc,useErrorBoundary:zd},Symbol.toStringTag,{value:"Module"})),Jd=no(Yd);function pu(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var ut=Oh,gu=pu(Zr),Xd=pu(Pd),oe=Jd;function Qd(t){gu.toString(t,{type:"terminal"}).then(console.log)}var Zd=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function e0(t,e){try{var r=t()}catch(n){return e(n)}return r&&r.then?r.then(void 0,e):r}var t0="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",r0="WalletConnect",n0=300,i0="rgb(64, 153, 255)",_u="walletconnect-wrapper",Ms="walletconnect-style-sheet",vu="walletconnect-qrcode-modal",o0="walletconnect-qrcode-close",yu="walletconnect-qrcode-text",s0="walletconnect-connect-button";function a0(t){return oe.createElement("div",{className:"walletconnect-modal__header"},oe.createElement("img",{src:t0,className:"walletconnect-modal__headerLogo"}),oe.createElement("p",null,r0),oe.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:t.onClose},oe.createElement("div",{id:o0,className:"walletconnect-modal__close__icon"},oe.createElement("div",{className:"walletconnect-modal__close__line1"}),oe.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function c0(t){return oe.createElement("a",{className:"walletconnect-connect__button",href:t.href,id:s0+"-"+t.name,onClick:t.onClick,rel:"noopener noreferrer",style:{backgroundColor:t.color},target:"_blank"},t.name)}var u0="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function l0(t){var e=t.color,r=t.href,n=t.name,i=t.logo,o=t.onClick;return oe.createElement("a",{className:"walletconnect-modal__base__row",href:r,onClick:o,rel:"noopener noreferrer",target:"_blank"},oe.createElement("h3",{className:"walletconnect-modal__base__row__h3"},n),oe.createElement("div",{className:"walletconnect-modal__base__row__right"},oe.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+i+"') "+e,backgroundSize:"100%"}}),oe.createElement("img",{src:u0,className:"walletconnect-modal__base__row__right__caret"})))}function f0(t){var e=t.color,r=t.href,n=t.name,i=t.logo,o=t.onClick,a=window.innerWidth<768?(n.length>8?2.5:2.7)+"vw":"inherit";return oe.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:r,onClick:o,rel:"noopener noreferrer",target:"_blank"},oe.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+i+"') "+e,backgroundSize:"100%"}}),oe.createElement("div",{style:{fontSize:a},className:"walletconnect-connect__button__text"},n))}var h0=5,yi=12;function d0(t){var e=ut.isAndroid(),r=oe.useState(""),n=r[0],i=r[1],o=oe.useState(""),a=o[0],s=o[1],f=oe.useState(1),p=f[0],d=f[1],E=a?t.links.filter(function(v){return v.name.toLowerCase().includes(a.toLowerCase())}):t.links,T=t.errorMessage,I=a||E.length>h0,x=Math.ceil(E.length/yi),U=[(p-1)*yi+1,p*yi],R=E.length?E.filter(function(v,D){return D+1>=U[0]&&D+1<=U[1]}):[],B=!e&&x>1,m=void 0;function S(v){i(v.target.value),clearTimeout(m),v.target.value?m=setTimeout(function(){s(v.target.value),d(1)},1e3):(i(""),s(""),d(1))}return oe.createElement("div",null,oe.createElement("p",{id:yu,className:"walletconnect-qrcode__text"},e?t.text.connect_mobile_wallet:t.text.choose_preferred_wallet),!e&&oe.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:n,onChange:S}),oe.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(e?"__android":I&&E.length?"__wrap":"")},e?oe.createElement(c0,{name:t.text.connect,color:i0,href:t.uri,onClick:oe.useCallback(function(){ut.saveMobileLinkInfo({name:"Unknown",href:t.uri})},[])}):R.length?R.map(function(v){var D=v.color,C=v.name,c=v.shortName,_=v.logo,W=ut.formatIOSMobile(t.uri,v),V=oe.useCallback(function(){ut.saveMobileLinkInfo({name:C,href:W})},[R]);return I?oe.createElement(f0,{color:D,href:W,name:c||C,logo:_,onClick:V}):oe.createElement(l0,{color:D,href:W,name:C,logo:_,onClick:V})}):oe.createElement(oe.Fragment,null,oe.createElement("p",null,T.length?t.errorMessage:!!t.links.length&&!E.length?t.text.no_wallets_found:t.text.loading))),B&&oe.createElement("div",{className:"walletconnect-modal__footer"},Array(x).fill(0).map(function(v,D){var C=D+1,c=p===C;return oe.createElement("a",{style:{margin:"auto 10px",fontWeight:c?"bold":"normal"},onClick:function(){return d(C)}},C)})))}function p0(t){var e=!!t.message.trim();return oe.createElement("div",{className:"walletconnect-qrcode__notification"+(e?" notification__show":"")},t.message)}var g0=function(t){try{var e="";return Promise.resolve(gu.toString(t,{margin:0,type:"svg"})).then(function(r){return typeof r=="string"&&(e=r.replace("<svg",'<svg class="walletconnect-qrcode__image"')),e})}catch(r){return Promise.reject(r)}};function _0(t){var e=oe.useState(""),r=e[0],n=e[1],i=oe.useState(""),o=i[0],a=i[1];oe.useEffect(function(){try{return Promise.resolve(g0(t.uri)).then(function(f){a(f)})}catch(f){Promise.reject(f)}},[]);var s=function(){var f=Xd(t.uri);f?(n(t.text.copied_to_clipboard),setInterval(function(){return n("")},1200)):(n("Error"),setInterval(function(){return n("")},1200))};return oe.createElement("div",null,oe.createElement("p",{id:yu,className:"walletconnect-qrcode__text"},t.text.scan_qrcode_with_wallet),oe.createElement("div",{dangerouslySetInnerHTML:{__html:o}}),oe.createElement("div",{className:"walletconnect-modal__footer"},oe.createElement("a",{onClick:s},t.text.copy_to_clipboard)),oe.createElement(p0,{message:r}))}function v0(t){var e=ut.isAndroid(),r=ut.isMobile(),n=r?t.qrcodeModalOptions&&t.qrcodeModalOptions.mobileLinks?t.qrcodeModalOptions.mobileLinks:void 0:t.qrcodeModalOptions&&t.qrcodeModalOptions.desktopLinks?t.qrcodeModalOptions.desktopLinks:void 0,i=oe.useState(!1),o=i[0],a=i[1],s=oe.useState(!1),f=s[0],p=s[1],d=oe.useState(!r),E=d[0],T=d[1],I={mobile:r,text:t.text,uri:t.uri,qrcodeModalOptions:t.qrcodeModalOptions},x=oe.useState(""),U=x[0],R=x[1],B=oe.useState(!1),m=B[0],S=B[1],v=oe.useState([]),D=v[0],C=v[1],c=oe.useState(""),_=c[0],W=c[1],V=function(){f||o||n&&!n.length||D.length>0||oe.useEffect(function(){var ne=function(){try{if(e)return Promise.resolve();a(!0);var L=e0(function(){var y=t.qrcodeModalOptions&&t.qrcodeModalOptions.registryUrl?t.qrcodeModalOptions.registryUrl:ut.getWalletRegistryUrl();return Promise.resolve(fetch(y)).then(function(A){return Promise.resolve(A.json()).then(function(z){var K=z.listings,F=r?"mobile":"desktop",k=ut.getMobileLinkRegistry(ut.formatMobileRegistry(K,F),n);a(!1),p(!0),W(k.length?"":t.text.no_supported_wallets),C(k);var G=k.length===1;G&&(R(ut.formatIOSMobile(t.uri,k[0])),T(!0)),S(G)})})},function(y){a(!1),p(!0),W(t.text.something_went_wrong),console.error(y)});return Promise.resolve(L&&L.then?L.then(function(){}):void 0)}catch(y){return Promise.reject(y)}};ne()})};V();var re=r?E:!E;return oe.createElement("div",{id:vu,className:"walletconnect-qrcode__base animated fadeIn"},oe.createElement("div",{className:"walletconnect-modal__base"},oe.createElement(a0,{onClose:t.onClose}),m&&E?oe.createElement("div",{className:"walletconnect-modal__single_wallet"},oe.createElement("a",{onClick:function(){return ut.saveMobileLinkInfo({name:D[0].name,href:U})},href:U,rel:"noopener noreferrer",target:"_blank"},t.text.connect_with+" "+(m?D[0].name:"")+" \u203A")):e||o||!o&&D.length?oe.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(re?" right__selected":"")},oe.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),r?oe.createElement(oe.Fragment,null,oe.createElement("a",{onClick:function(){return T(!1),V()}},t.text.mobile),oe.createElement("a",{onClick:function(){return T(!0)}},t.text.qrcode)):oe.createElement(oe.Fragment,null,oe.createElement("a",{onClick:function(){return T(!0)}},t.text.qrcode),oe.createElement("a",{onClick:function(){return T(!1),V()}},t.text.desktop))):null,oe.createElement("div",null,E||!e&&!o&&!D.length?oe.createElement(_0,Object.assign({},I)):oe.createElement(d0,Object.assign({},I,{links:D,errorMessage:_})))))}var y0={choose_preferred_wallet:"W\xE4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xFCtzten Wallet",no_wallets_found:"keine Wallet gefunden"},m0={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},w0={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xF3vil",scan_qrcode_with_wallet:"Escanea el c\xF3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xF3 mal",no_supported_wallets:"Todav\xEDa no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},b0={choose_preferred_wallet:"Choisissez votre portefeuille pr\xE9f\xE9r\xE9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xE9!",connect_with:"Connectez-vous \xE0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xE9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xE9"},E0={choose_preferred_wallet:"\uC6D0\uD558\uB294 \uC9C0\uAC11\uC744 \uC120\uD0DD\uD558\uC138\uC694",connect_mobile_wallet:"\uBAA8\uBC14\uC77C \uC9C0\uAC11\uACFC \uC5F0\uACB0",scan_qrcode_with_wallet:"WalletConnect \uC9C0\uC6D0 \uC9C0\uAC11\uC5D0\uC11C QR\uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694",connect:"\uC5F0\uACB0",qrcode:"QR \uCF54\uB4DC",mobile:"\uBAA8\uBC14\uC77C",desktop:"\uB370\uC2A4\uD06C\uD0D1",copy_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC",copied_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!",connect_with:"\uC640 \uC5F0\uACB0\uD558\uB2E4",loading:"\uB85C\uB4DC \uC911...",something_went_wrong:"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.",no_supported_wallets:"\uC544\uC9C1 \uC9C0\uC6D0\uB418\uB294 \uC9C0\uAC11\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",no_wallets_found:"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},x0={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xE0 carteira m\xF3vel",scan_qrcode_with_wallet:"Ler o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xE3o h\xE1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},D0={choose_preferred_wallet:"\u9009\u62E9\u4F60\u7684\u94B1\u5305",connect_mobile_wallet:"\u8FDE\u63A5\u81F3\u79FB\u52A8\u7AEF\u94B1\u5305",scan_qrcode_with_wallet:"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF\u4E8C\u7EF4\u7801",connect:"\u8FDE\u63A5",qrcode:"\u4E8C\u7EF4\u7801",mobile:"\u79FB\u52A8",desktop:"\u684C\u9762",copy_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F",copied_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F\u6210\u529F\uFF01",connect_with:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u8FDE\u63A5",loading:"\u6B63\u5728\u52A0\u8F7D...",something_went_wrong:"\u51FA\u4E86\u95EE\u9898",no_supported_wallets:"\u76EE\u524D\u8FD8\u6CA1\u6709\u652F\u6301\u7684\u94B1\u5305",no_wallets_found:"\u6CA1\u6709\u627E\u5230\u94B1\u5305"},S0={choose_preferred_wallet:"\u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",connect_mobile_wallet:"\u0628\u0647 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0648\u0635\u0644 \u0634\u0648\u06CC\u062F",scan_qrcode_with_wallet:"\u06A9\u062F QR \u0631\u0627 \u0628\u0627 \u06CC\u06A9 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0633\u0627\u0632\u06AF\u0627\u0631 \u0628\u0627 WalletConnect \u0627\u0633\u06A9\u0646 \u06A9\u0646\u06CC\u062F",connect:"\u0627\u062A\u0635\u0627\u0644",qrcode:"\u06A9\u062F QR",mobile:"\u0633\u06CC\u0627\u0631",desktop:"\u062F\u0633\u06A9\u062A\u0627\u067E",copy_to_clipboard:"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F",copied_to_clipboard:"\u062F\u0631 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F \u06A9\u067E\u06CC \u0634\u062F!",connect_with:"\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627",loading:"...\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",something_went_wrong:"\u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F",no_supported_wallets:"\u0647\u0646\u0648\u0632 \u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0634\u062F\u0647 \u0627\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F",no_wallets_found:"\u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644\u06CC \u067E\u06CC\u062F\u0627 \u0646\u0634\u062F"},Us={de:y0,en:m0,es:w0,fr:b0,ko:E0,pt:x0,zh:D0,fa:S0};function C0(){var t=ut.getDocumentOrThrow(),e=t.getElementById(Ms);e&&t.head.removeChild(e);var r=t.createElement("style");r.setAttribute("id",Ms),r.innerText=Zd,t.head.appendChild(r)}function A0(){var t=ut.getDocumentOrThrow(),e=t.createElement("div");return e.setAttribute("id",_u),t.body.appendChild(e),e}function mu(){var t=ut.getDocumentOrThrow(),e=t.getElementById(vu);e&&(e.className=e.className.replace("fadeIn","fadeOut"),setTimeout(function(){var r=t.getElementById(_u);r&&t.body.removeChild(r)},n0))}function I0(t){return function(){mu(),t&&t()}}function O0(){var t=ut.getNavigatorOrThrow().language.split("-")[0]||"en";return Us[t]||Us.en}function T0(t,e,r){C0();var n=A0();oe.render(oe.createElement(v0,{text:O0(),uri:t,onClose:I0(e),qrcodeModalOptions:r}),n)}function N0(){mu()}var wu=function(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"};function R0(t,e,r){console.log(t),wu()?Qd(t):T0(t,e,r)}function L0(){wu()||N0()}var P0={open:R0,close:L0},Bs=P0;function F0(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var M0=U0;function U0(t,e,r){var n=r&&r.stringify||F0,i=1;if(typeof t=="object"&&t!==null){var o=e.length+i;if(o===1)return t;var a=new Array(o);a[0]=n(t);for(var s=1;s<o;s++)a[s]=n(e[s]);return a.join(" ")}if(typeof t!="string")return t;var f=e.length;if(f===0)return t;for(var p="",d=1-i,E=-1,T=t&&t.length||0,I=0;I<T;){if(t.charCodeAt(I)===37&&I+1<T){switch(E=E>-1?E:0,t.charCodeAt(I+1)){case 100:case 102:if(d>=f||e[d]==null)break;E<I&&(p+=t.slice(E,I)),p+=Number(e[d]),E=I+2,I++;break;case 105:if(d>=f||e[d]==null)break;E<I&&(p+=t.slice(E,I)),p+=Math.floor(Number(e[d])),E=I+2,I++;break;case 79:case 111:case 106:if(d>=f||e[d]===void 0)break;E<I&&(p+=t.slice(E,I));var x=typeof e[d];if(x==="string"){p+="'"+e[d]+"'",E=I+2,I++;break}if(x==="function"){p+=e[d].name||"<anonymous>",E=I+2,I++;break}p+=n(e[d]),E=I+2,I++;break;case 115:if(d>=f)break;E<I&&(p+=t.slice(E,I)),p+=String(e[d]),E=I+2,I++;break;case 37:E<I&&(p+=t.slice(E,I)),p+="%",E=I+2,I++,d--;break}++d}++I}return E===-1?t:(E<T&&(p+=t.slice(E)),p)}var $s=M0,Io=Rt,Yr=q0().console||{},B0={mapHttpRequest:bn,mapHttpResponse:bn,wrapRequestSerializer:mi,wrapResponseSerializer:mi,wrapErrorSerializer:mi,req:bn,res:bn,err:k0};function Rt(t){t=t||{},t.browser=t.browser||{};var e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");var r=t.browser.write||Yr;t.browser.write&&(t.browser.asObject=!0);var n=t.serializers||{},i=Array.isArray(t.browser.serialize)?t.browser.serialize.filter(function(x){return x!=="!stdSerializers.err"}):t.browser.serialize===!0?Object.keys(n):!1,o=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(o=!1);var a=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");var s=t.level||"info",f=Object.create(r);f.log||(f.log=Jr),Object.defineProperty(f,"levelVal",{get:d}),Object.defineProperty(f,"level",{get:E,set:T});var p={transmit:e,serialize:i,asObject:t.browser.asObject,levels:a,timestamp:K0(t)};f.levels=Rt.levels,f.level=s,f.setMaxListeners=f.getMaxListeners=f.emit=f.addListener=f.on=f.prependListener=f.once=f.prependOnceListener=f.removeListener=f.removeAllListeners=f.listeners=f.listenerCount=f.eventNames=f.write=f.flush=Jr,f.serializers=n,f._serialize=i,f._stdErrSerialize=o,f.child=I,e&&(f._logEvent=Bi());function d(){return this.level==="silent"?1/0:this.levels.values[this.level]}function E(){return this._level}function T(x){if(x!=="silent"&&!this.levels.values[x])throw Error("unknown level "+x);this._level=x,gr(p,f,"error","log"),gr(p,f,"fatal","error"),gr(p,f,"warn","error"),gr(p,f,"info","log"),gr(p,f,"debug","log"),gr(p,f,"trace","log")}function I(x){if(!x)throw new Error("missing bindings for child Pino");var U=x.serializers;if(i&&U){var R=Object.assign({},n,U),B=t.browser.serialize===!0?Object.keys(R):i;delete x.serializers,Vn([x],B,R,this._stdErrSerialize)}function m(S){this._childLevel=(S._childLevel|0)+1,this.error=_r(S,x,"error"),this.fatal=_r(S,x,"fatal"),this.warn=_r(S,x,"warn"),this.info=_r(S,x,"info"),this.debug=_r(S,x,"debug"),this.trace=_r(S,x,"trace"),R&&(this.serializers=R,this._serialize=B),e&&(this._logEvent=Bi([].concat(S._logEvent.bindings,x)))}return m.prototype=this,new m(this)}return f}Rt.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Rt.stdSerializers=B0;Rt.stdTimeFunctions=Object.assign({},{nullTime:bu,epochTime:Eu,unixTime:H0,isoTime:V0});function gr(t,e,r,n){var i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?Jr:i[r]?i[r]:Yr[r]||Yr[n]||Jr,$0(t,e,r)}function $0(t,e,r){!t.transmit&&e[r]===Jr||(e[r]=function(n){return function(){for(var o=t.timestamp(),a=new Array(arguments.length),s=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Yr?Yr:this,f=0;f<a.length;f++)a[f]=arguments[f];if(t.serialize&&!t.asObject&&Vn(a,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(s,j0(this,r,a,o)):n.apply(s,a),t.transmit){var p=t.transmit.level||e.level,d=Rt.levels.values[p],E=Rt.levels.values[r];if(E<d)return;z0(this,{ts:o,methodLevel:r,methodValue:E,transmitLevel:p,transmitValue:Rt.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},a)}}}(e[r]))}function j0(t,e,r,n){t._serialize&&Vn(r,t._serialize,t.serializers,t._stdErrSerialize);var i=r.slice(),o=i[0],a={};n&&(a.time=n),a.level=Rt.levels.values[e];var s=(t._childLevel|0)+1;if(s<1&&(s=1),o!==null&&typeof o=="object"){for(;s--&&typeof i[0]=="object";)Object.assign(a,i.shift());o=i.length?$s(i.shift(),i):void 0}else typeof o=="string"&&(o=$s(i.shift(),i));return o!==void 0&&(a.msg=o),a}function Vn(t,e,r,n){for(var i in t)if(n&&t[i]instanceof Error)t[i]=Rt.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(var o in t[i])e&&e.indexOf(o)>-1&&o in r&&(t[i][o]=r[o](t[i][o]))}function _r(t,e,r){return function(){var n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function z0(t,e,r){var n=e.send,i=e.ts,o=e.methodLevel,a=e.methodValue,s=e.val,f=t._logEvent.bindings;Vn(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(p){return f.indexOf(p)===-1}),t._logEvent.level.label=o,t._logEvent.level.value=a,n(o,t._logEvent,s),t._logEvent=Bi(f)}function Bi(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function k0(t){var e={type:t.constructor.name,msg:t.message,stack:t.stack};for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}function K0(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?bu:Eu}function bn(){return{}}function mi(t){return t}function Jr(){}function bu(){return!1}function Eu(){return Date.now()}function H0(){return Math.round(Date.now()/1e3)}function V0(){return new Date(Date.now()).toISOString()}function q0(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}var qn={},$i={exports:{}};(function(){var t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){var r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),ge.localStorage?$i.exports=localStorage:$i.exports=new e})();var rn={};Object.defineProperty(rn,"__esModule",{value:!0});function W0(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}rn.safeJsonParse=W0;function G0(t){return typeof t=="string"?t:JSON.stringify(t,(e,r)=>typeof r>"u"?null:r)}rn.safeJsonStringify=G0;var xu={},Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.IKeyValueStorage=void 0;class Y0{}Wn.IKeyValueStorage=Y0;var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.parseEntry=void 0;const J0=rn;function X0(t){var e;return[t[0],J0.safeJsonParse((e=t[1])!==null&&e!==void 0?e:"")]}Gn.parseEntry=X0;(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Pn.exports;e.__exportStar(Wn,t),e.__exportStar(Gn,t)})(xu);Object.defineProperty(qn,"__esModule",{value:!0});qn.KeyValueStorage=void 0;const vr=Pn.exports,Q0=vr.__importDefault($i.exports),js=rn,Z0=xu;class Du{constructor(){this.localStorage=Q0.default}getKeys(){return vr.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return vr.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(Z0.parseEntry)})}getItem(e){return vr.__awaiter(this,void 0,void 0,function*(){const r=this.localStorage.getItem(e);if(r!==null)return js.safeJsonParse(r)})}setItem(e,r){return vr.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,js.safeJsonStringify(r))})}removeItem(e){return vr.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}}qn.KeyValueStorage=Du;var ep=qn.default=Du,nn={},Yn={},Pe={},Su={},Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.delay=void 0;function tp(t){return new Promise(e=>{setTimeout(()=>{e(!0)},t)})}Jn.delay=tp;var Ar={},Oo={},Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.ONE_THOUSAND=Ir.ONE_HUNDRED=void 0;Ir.ONE_HUNDRED=100;Ir.ONE_THOUSAND=1e3;var Cu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(Cu);(function(t){var e=ge&&ge.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=ge&&ge.__exportStar||function(n,i){for(var o in n)o!=="default"&&!i.hasOwnProperty(o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ir,t),r(Cu,t)})(Oo);Object.defineProperty(Ar,"__esModule",{value:!0});Ar.fromMiliseconds=Ar.toMiliseconds=void 0;const Au=Oo;function rp(t){return t*Au.ONE_THOUSAND}Ar.toMiliseconds=rp;function np(t){return Math.floor(t/Au.ONE_THOUSAND)}Ar.fromMiliseconds=np;(function(t){var e=ge&&ge.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=ge&&ge.__exportStar||function(n,i){for(var o in n)o!=="default"&&!i.hasOwnProperty(o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Jn,t),r(Ar,t)})(Su);var on={};Object.defineProperty(on,"__esModule",{value:!0});on.Watch=void 0;class Iu{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){const r=this.get(e);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${e}`);const n=Date.now()-r.started;this.timestamps.set(e,{started:r.started,elapsed:n})}get(e){const r=this.timestamps.get(e);if(typeof r>"u")throw new Error(`No timestamp found for label: ${e}`);return r}elapsed(e){const r=this.get(e);return r.elapsed||Date.now()-r.started}}on.Watch=Iu;on.default=Iu;var Ou={},Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.IWatch=void 0;class ip{}Xn.IWatch=ip;(function(t){var e=ge&&ge.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=ge&&ge.__exportStar||function(n,i){for(var o in n)o!=="default"&&!i.hasOwnProperty(o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Xn,t)})(Ou);(function(t){var e=ge&&ge.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=ge&&ge.__exportStar||function(n,i){for(var o in n)o!=="default"&&!i.hasOwnProperty(o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Su,t),r(on,t),r(Ou,t),r(Oo,t)})(Pe);var To={},Qn={};class dr{}var op=Object.freeze(Object.defineProperty({__proto__:null,IEvents:dr},Symbol.toStringTag,{value:"Module"})),sp=no(op);Object.defineProperty(Qn,"__esModule",{value:!0});Qn.IHeartBeat=void 0;const ap=sp;class cp extends ap.IEvents{constructor(e){super()}}Qn.IHeartBeat=cp;(function(t){var e=ge&&ge.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=ge&&ge.__exportStar||function(n,i){for(var o in n)o!=="default"&&!i.hasOwnProperty(o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Qn,t)})(To);var No={},Or={};Object.defineProperty(Or,"__esModule",{value:!0});Or.HEARTBEAT_EVENTS=Or.HEARTBEAT_INTERVAL=void 0;const up=Pe;Or.HEARTBEAT_INTERVAL=up.FIVE_SECONDS;Or.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"};(function(t){var e=ge&&ge.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=ge&&ge.__exportStar||function(n,i){for(var o in n)o!=="default"&&!i.hasOwnProperty(o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Or,t)})(No);var wi=ge&&ge.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(d){try{p(n.next(d))}catch(E){a(E)}}function f(d){try{p(n.throw(d))}catch(E){a(E)}}function p(d){d.done?o(d.value):i(d.value).then(s,f)}p((n=n.apply(t,e||[])).next())})};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.HeartBeat=void 0;const lp=io.exports,fp=Pe,hp=To,bi=No;class Ro extends hp.IHeartBeat{constructor(e){super(e),this.events=new lp.EventEmitter,this.interval=bi.HEARTBEAT_INTERVAL,this.interval=e?.interval||bi.HEARTBEAT_INTERVAL}static init(e){return wi(this,void 0,void 0,function*(){const r=new Ro(e);return yield r.init(),r})}init(){return wi(this,void 0,void 0,function*(){yield this.initialize()})}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}initialize(){return wi(this,void 0,void 0,function*(){setInterval(()=>this.pulse(),fp.toMiliseconds(this.interval))})}pulse(){this.events.emit(bi.HEARTBEAT_EVENTS.pulse)}}Yn.HeartBeat=Ro;(function(t){var e=ge&&ge.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=ge&&ge.__exportStar||function(n,i){for(var o in n)o!=="default"&&!i.hasOwnProperty(o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Yn,t),r(To,t),r(No,t)})(nn);var Te={},lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.PINO_CUSTOM_CONTEXT_KEY=lr.PINO_LOGGER_DEFAULTS=void 0;lr.PINO_LOGGER_DEFAULTS={level:"info"};lr.PINO_CUSTOM_CONTEXT_KEY="custom_context";var ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.generateChildLogger=ht.formatChildLoggerContext=ht.getLoggerContext=ht.setBrowserLoggerContext=ht.getBrowserLoggerContext=ht.getDefaultLoggerOptions=void 0;const Lr=lr;function dp(t){return Object.assign(Object.assign({},t),{level:t?.level||Lr.PINO_LOGGER_DEFAULTS.level})}ht.getDefaultLoggerOptions=dp;function Tu(t,e=Lr.PINO_CUSTOM_CONTEXT_KEY){return t[e]||""}ht.getBrowserLoggerContext=Tu;function Nu(t,e,r=Lr.PINO_CUSTOM_CONTEXT_KEY){return t[r]=e,t}ht.setBrowserLoggerContext=Nu;function Ru(t,e=Lr.PINO_CUSTOM_CONTEXT_KEY){let r="";return typeof t.bindings>"u"?r=Tu(t,e):r=t.bindings().context||"",r}ht.getLoggerContext=Ru;function Lu(t,e,r=Lr.PINO_CUSTOM_CONTEXT_KEY){const n=Ru(t,r);return n.trim()?`${n}/${e}`:e}ht.formatChildLoggerContext=Lu;function pp(t,e,r=Lr.PINO_CUSTOM_CONTEXT_KEY){const n=Lu(t,e,r),i=t.child({context:n});return Nu(i,n,r)}ht.generateChildLogger=pp;(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Pn.exports;e.__exportStar(lr,t),e.__exportStar(ht,t)})(Te);class gp extends dr{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class _p extends dr{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}}class vp{constructor(e,r){this.logger=e,this.core=r}}class yp extends dr{constructor(e,r){super(),this.relayer=e,this.logger=r}}class mp extends dr{constructor(e){super()}}class wp{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}}class bp extends dr{constructor(e,r){super(),this.relayer=e,this.logger=r}}function Ze(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var Ep=Ze;Ze.EventEmitter=Ze,Ze.prototype._events=void 0,Ze.prototype._maxListeners=void 0,Ze.defaultMaxListeners=10,Ze.prototype.setMaxListeners=function(t){if(!xp(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},Ze.prototype.emit=function(t){var e,r,n,i,o,a;if(this._events||(this._events={}),t==="error"&&(!this._events.error||Ur(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var s=new Error('Uncaught, unspecified "error" event. ('+e+")");throw s.context=e,s}if(r=this._events[t],zs(r))return!1;if(Ut(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(Ur(r))for(i=Array.prototype.slice.call(arguments,1),a=r.slice(),n=a.length,o=0;o<n;o++)a[o].apply(this,i);return!0},Ze.prototype.addListener=function(t,e){var r;if(!Ut(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,Ut(e.listener)?e.listener:e),this._events[t]?Ur(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,Ur(this._events[t])&&!this._events[t].warned&&(zs(this._maxListeners)?r=Ze.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),typeof console.trace=="function"&&console.trace())),this},Ze.prototype.on=Ze.prototype.addListener,Ze.prototype.once=function(t,e){if(!Ut(e))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}return n.listener=e,this.on(t,n),this},Ze.prototype.removeListener=function(t,e){var r,n,i,o;if(!Ut(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],i=r.length,n=-1,r===e||Ut(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(Ur(r)){for(o=i;o-- >0;)if(r[o]===e||r[o].listener&&r[o].listener===e){n=o;break}if(n<0)return this;r.length===1?(r.length=0,delete this._events[t]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},Ze.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[t]&&delete this._events[t],this;if(arguments.length===0){for(e in this._events)e!=="removeListener"&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],Ut(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},Ze.prototype.listeners=function(t){var e;return!this._events||!this._events[t]?e=[]:Ut(this._events[t])?e=[this._events[t]]:e=this._events[t].slice(),e},Ze.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(Ut(e))return 1;if(e)return e.length}return 0},Ze.listenerCount=function(t,e){return t.listenerCount(e)};function Ut(t){return typeof t=="function"}function xp(t){return typeof t=="number"}function Ur(t){return typeof t=="object"&&t!==null}function zs(t){return t===void 0}class Dp{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}class Rw extends Ep.EventEmitter{constructor(){super()}}class Sp{constructor(e){this.client=e}}class Cp extends dr{constructor(e,r){super(),this.core=e,this.logger=r}}var Lo={},Zn={},ei={},ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.BrowserRandomSource=void 0;const ks=65536;class Ap{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(e);for(let n=0;n<r.length;n+=ks)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,ks)));return r}}ti.BrowserRandomSource=Ap;var ri={},lt={};Object.defineProperty(lt,"__esModule",{value:!0});function Ip(t){for(var e=0;e<t.length;e++)t[e]=0;return t}lt.wipe=Ip;Object.defineProperty(ri,"__esModule",{value:!0});ri.NodeRandomSource=void 0;const Op=lt;class Tp{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof Ga<"u"){const e=Ya;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,Op.wipe)(r),n}}ri.NodeRandomSource=Tp;Object.defineProperty(ei,"__esModule",{value:!0});ei.SystemRandomSource=void 0;const Np=ti,Rp=ri;class Lp{constructor(){if(this.isAvailable=!1,this.name="",this._source=new Np.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Rp.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}ei.SystemRandomSource=Lp;var ve={},Pu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(s,f){var p=s>>>16&65535,d=s&65535,E=f>>>16&65535,T=f&65535;return d*T+(p*T+d*E<<16>>>0)|0}t.mul=Math.imul||e;function r(s,f){return s+f|0}t.add=r;function n(s,f){return s-f|0}t.sub=n;function i(s,f){return s<<f|s>>>32-f}t.rotl=i;function o(s,f){return s<<32-f|s>>>f}t.rotr=o;function a(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s}t.isInteger=Number.isInteger||a,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(s){return t.isInteger(s)&&s>=-t.MAX_SAFE_INTEGER&&s<=t.MAX_SAFE_INTEGER}})(Pu);Object.defineProperty(ve,"__esModule",{value:!0});var Fu=Pu;function Pp(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}ve.readInt16BE=Pp;function Fp(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}ve.readUint16BE=Fp;function Mp(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}ve.readInt16LE=Mp;function Up(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}ve.readUint16LE=Up;function Mu(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}ve.writeUint16BE=Mu;ve.writeInt16BE=Mu;function Uu(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}ve.writeUint16LE=Uu;ve.writeInt16LE=Uu;function ji(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}ve.readInt32BE=ji;function zi(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}ve.readUint32BE=zi;function ki(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}ve.readInt32LE=ki;function Ki(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}ve.readUint32LE=Ki;function Tn(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}ve.writeUint32BE=Tn;ve.writeInt32BE=Tn;function Nn(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}ve.writeUint32LE=Nn;ve.writeInt32LE=Nn;function Bp(t,e){e===void 0&&(e=0);var r=ji(t,e),n=ji(t,e+4);return r*4294967296+n-(n>>31)*4294967296}ve.readInt64BE=Bp;function $p(t,e){e===void 0&&(e=0);var r=zi(t,e),n=zi(t,e+4);return r*4294967296+n}ve.readUint64BE=$p;function jp(t,e){e===void 0&&(e=0);var r=ki(t,e),n=ki(t,e+4);return n*4294967296+r-(r>>31)*4294967296}ve.readInt64LE=jp;function zp(t,e){e===void 0&&(e=0);var r=Ki(t,e),n=Ki(t,e+4);return n*4294967296+r}ve.readUint64LE=zp;function Bu(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Tn(t/4294967296>>>0,e,r),Tn(t>>>0,e,r+4),e}ve.writeUint64BE=Bu;ve.writeInt64BE=Bu;function $u(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Nn(t>>>0,e,r),Nn(t/4294967296>>>0,e,r+4),e}ve.writeUint64LE=$u;ve.writeInt64LE=$u;function kp(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,o=t/8+r-1;o>=r;o--)n+=e[o]*i,i*=256;return n}ve.readUintBE=kp;function Kp(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,o=r;o<r+t/8;o++)n+=e[o]*i,i*=256;return n}ve.readUintLE=Kp;function Hp(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!Fu.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,o=t/8+n-1;o>=n;o--)r[o]=e/i&255,i*=256;return r}ve.writeUintBE=Hp;function Vp(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!Fu.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,o=n;o<n+t/8;o++)r[o]=e/i&255,i*=256;return r}ve.writeUintLE=Vp;function qp(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}ve.readFloat32BE=qp;function Wp(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}ve.readFloat32LE=Wp;function Gp(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}ve.readFloat64BE=Gp;function Yp(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}ve.readFloat64LE=Yp;function Jp(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}ve.writeFloat32BE=Jp;function Xp(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}ve.writeFloat32LE=Xp;function Qp(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}ve.writeFloat64BE=Qp;function Zp(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}ve.writeFloat64LE=Zp;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=ei,r=ve,n=lt;t.defaultRandomSource=new e.SystemRandomSource;function i(p,d=t.defaultRandomSource){return d.randomBytes(p)}t.randomBytes=i;function o(p=t.defaultRandomSource){const d=i(4,p),E=(0,r.readUint32LE)(d);return(0,n.wipe)(d),E}t.randomUint32=o;const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function s(p,d=a,E=t.defaultRandomSource){if(d.length<2)throw new Error("randomString charset is too short");if(d.length>256)throw new Error("randomString charset is too long");let T="";const I=d.length,x=256-256%I;for(;p>0;){const U=i(Math.ceil(p*256/x),E);for(let R=0;R<U.length&&p>0;R++){const B=U[R];B<x&&(T+=d.charAt(B%I),p--)}(0,n.wipe)(U)}return T}t.randomString=s;function f(p,d=a,E=t.defaultRandomSource){const T=Math.ceil(p/(Math.log(d.length)/Math.LN2));return s(T,d,E)}t.randomStringForEntropy=f})(Zn);var ju={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ve,r=lt;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var n=function(){function s(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return s.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},s.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},s.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},s.prototype.update=function(f,p){if(p===void 0&&(p=f.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var d=0;if(this._bytesHashed+=p,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&p>0;)this._buffer[this._bufferLength++]=f[d++],p--;this._bufferLength===this.blockSize&&(o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(p>=this.blockSize&&(d=o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,f,d,p),p%=this.blockSize);p>0;)this._buffer[this._bufferLength++]=f[d++],p--;return this},s.prototype.finish=function(f){if(!this._finished){var p=this._bytesHashed,d=this._bufferLength,E=p/536870912|0,T=p<<3,I=p%128<112?128:256;this._buffer[d]=128;for(var x=d+1;x<I-8;x++)this._buffer[x]=0;e.writeUint32BE(E,this._buffer,I-8),e.writeUint32BE(T,this._buffer,I-4),o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,I),this._finished=!0}for(var x=0;x<this.digestLength/8;x++)e.writeUint32BE(this._stateHi[x],f,x*8),e.writeUint32BE(this._stateLo[x],f,x*8+4);return this},s.prototype.digest=function(){var f=new Uint8Array(this.digestLength);return this.finish(f),f},s.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},s.prototype.restoreState=function(f){return this._stateHi.set(f.stateHi),this._stateLo.set(f.stateLo),this._bufferLength=f.bufferLength,f.buffer&&this._buffer.set(f.buffer),this._bytesHashed=f.bytesHashed,this._finished=!1,this},s.prototype.cleanSavedState=function(f){r.wipe(f.stateHi),r.wipe(f.stateLo),f.buffer&&r.wipe(f.buffer),f.bufferLength=0,f.bytesHashed=0},s}();t.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function o(s,f,p,d,E,T,I){for(var x=p[0],U=p[1],R=p[2],B=p[3],m=p[4],S=p[5],v=p[6],D=p[7],C=d[0],c=d[1],_=d[2],W=d[3],V=d[4],re=d[5],ne=d[6],L=d[7],y,A,z,K,F,k,G,Y;I>=128;){for(var Q=0;Q<16;Q++){var X=8*Q+T;s[Q]=e.readUint32BE(E,X),f[Q]=e.readUint32BE(E,X+4)}for(var Q=0;Q<80;Q++){var he=x,ee=U,de=R,j=B,$=m,P=S,u=v,O=D,Z=C,te=c,we=_,xe=W,g=V,l=re,h=ne,b=L;if(y=D,A=L,F=A&65535,k=A>>>16,G=y&65535,Y=y>>>16,y=(m>>>14|V<<32-14)^(m>>>18|V<<32-18)^(V>>>41-32|m<<32-(41-32)),A=(V>>>14|m<<32-14)^(V>>>18|m<<32-18)^(m>>>41-32|V<<32-(41-32)),F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,y=m&S^~m&v,A=V&re^~V&ne,F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,y=i[Q*2],A=i[Q*2+1],F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,y=s[Q%16],A=f[Q%16],F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,k+=F>>>16,G+=k>>>16,Y+=G>>>16,z=G&65535|Y<<16,K=F&65535|k<<16,y=z,A=K,F=A&65535,k=A>>>16,G=y&65535,Y=y>>>16,y=(x>>>28|C<<32-28)^(C>>>34-32|x<<32-(34-32))^(C>>>39-32|x<<32-(39-32)),A=(C>>>28|x<<32-28)^(x>>>34-32|C<<32-(34-32))^(x>>>39-32|C<<32-(39-32)),F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,y=x&U^x&R^U&R,A=C&c^C&_^c&_,F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,k+=F>>>16,G+=k>>>16,Y+=G>>>16,O=G&65535|Y<<16,b=F&65535|k<<16,y=j,A=xe,F=A&65535,k=A>>>16,G=y&65535,Y=y>>>16,y=z,A=K,F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,k+=F>>>16,G+=k>>>16,Y+=G>>>16,j=G&65535|Y<<16,xe=F&65535|k<<16,U=he,R=ee,B=de,m=j,S=$,v=P,D=u,x=O,c=Z,_=te,W=we,V=xe,re=g,ne=l,L=h,C=b,Q%16===15)for(var X=0;X<16;X++)y=s[X],A=f[X],F=A&65535,k=A>>>16,G=y&65535,Y=y>>>16,y=s[(X+9)%16],A=f[(X+9)%16],F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,z=s[(X+1)%16],K=f[(X+1)%16],y=(z>>>1|K<<32-1)^(z>>>8|K<<32-8)^z>>>7,A=(K>>>1|z<<32-1)^(K>>>8|z<<32-8)^(K>>>7|z<<32-7),F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,z=s[(X+14)%16],K=f[(X+14)%16],y=(z>>>19|K<<32-19)^(K>>>61-32|z<<32-(61-32))^z>>>6,A=(K>>>19|z<<32-19)^(z>>>61-32|K<<32-(61-32))^(K>>>6|z<<32-6),F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,k+=F>>>16,G+=k>>>16,Y+=G>>>16,s[X]=G&65535|Y<<16,f[X]=F&65535|k<<16}y=x,A=C,F=A&65535,k=A>>>16,G=y&65535,Y=y>>>16,y=p[0],A=d[0],F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,k+=F>>>16,G+=k>>>16,Y+=G>>>16,p[0]=x=G&65535|Y<<16,d[0]=C=F&65535|k<<16,y=U,A=c,F=A&65535,k=A>>>16,G=y&65535,Y=y>>>16,y=p[1],A=d[1],F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,k+=F>>>16,G+=k>>>16,Y+=G>>>16,p[1]=U=G&65535|Y<<16,d[1]=c=F&65535|k<<16,y=R,A=_,F=A&65535,k=A>>>16,G=y&65535,Y=y>>>16,y=p[2],A=d[2],F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,k+=F>>>16,G+=k>>>16,Y+=G>>>16,p[2]=R=G&65535|Y<<16,d[2]=_=F&65535|k<<16,y=B,A=W,F=A&65535,k=A>>>16,G=y&65535,Y=y>>>16,y=p[3],A=d[3],F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,k+=F>>>16,G+=k>>>16,Y+=G>>>16,p[3]=B=G&65535|Y<<16,d[3]=W=F&65535|k<<16,y=m,A=V,F=A&65535,k=A>>>16,G=y&65535,Y=y>>>16,y=p[4],A=d[4],F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,k+=F>>>16,G+=k>>>16,Y+=G>>>16,p[4]=m=G&65535|Y<<16,d[4]=V=F&65535|k<<16,y=S,A=re,F=A&65535,k=A>>>16,G=y&65535,Y=y>>>16,y=p[5],A=d[5],F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,k+=F>>>16,G+=k>>>16,Y+=G>>>16,p[5]=S=G&65535|Y<<16,d[5]=re=F&65535|k<<16,y=v,A=ne,F=A&65535,k=A>>>16,G=y&65535,Y=y>>>16,y=p[6],A=d[6],F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,k+=F>>>16,G+=k>>>16,Y+=G>>>16,p[6]=v=G&65535|Y<<16,d[6]=ne=F&65535|k<<16,y=D,A=L,F=A&65535,k=A>>>16,G=y&65535,Y=y>>>16,y=p[7],A=d[7],F+=A&65535,k+=A>>>16,G+=y&65535,Y+=y>>>16,k+=F>>>16,G+=k>>>16,Y+=G>>>16,p[7]=D=G&65535|Y<<16,d[7]=L=F&65535|k<<16,T+=128,I-=128}return T}function a(s){var f=new n;f.update(s);var p=f.digest();return f.clean(),p}t.hash=a})(ju);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const e=Zn,r=ju,n=lt;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function i(j){const $=new Float64Array(16);if(j)for(let P=0;P<j.length;P++)$[P]=j[P];return $}const o=new Uint8Array(32);o[0]=9;const a=i(),s=i([1]),f=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),p=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),E=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),T=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function I(j,$){for(let P=0;P<16;P++)j[P]=$[P]|0}function x(j){let $=1;for(let P=0;P<16;P++){let u=j[P]+$+65535;$=Math.floor(u/65536),j[P]=u-$*65536}j[0]+=$-1+37*($-1)}function U(j,$,P){const u=~(P-1);for(let O=0;O<16;O++){const Z=u&(j[O]^$[O]);j[O]^=Z,$[O]^=Z}}function R(j,$){const P=i(),u=i();for(let O=0;O<16;O++)u[O]=$[O];x(u),x(u),x(u);for(let O=0;O<2;O++){P[0]=u[0]-65517;for(let te=1;te<15;te++)P[te]=u[te]-65535-(P[te-1]>>16&1),P[te-1]&=65535;P[15]=u[15]-32767-(P[14]>>16&1);const Z=P[15]>>16&1;P[14]&=65535,U(u,P,1-Z)}for(let O=0;O<16;O++)j[2*O]=u[O]&255,j[2*O+1]=u[O]>>8}function B(j,$){let P=0;for(let u=0;u<32;u++)P|=j[u]^$[u];return(1&P-1>>>8)-1}function m(j,$){const P=new Uint8Array(32),u=new Uint8Array(32);return R(P,j),R(u,$),B(P,u)}function S(j){const $=new Uint8Array(32);return R($,j),$[0]&1}function v(j,$){for(let P=0;P<16;P++)j[P]=$[2*P]+($[2*P+1]<<8);j[15]&=32767}function D(j,$,P){for(let u=0;u<16;u++)j[u]=$[u]+P[u]}function C(j,$,P){for(let u=0;u<16;u++)j[u]=$[u]-P[u]}function c(j,$,P){let u,O,Z=0,te=0,we=0,xe=0,g=0,l=0,h=0,b=0,N=0,H=0,q=0,ie=0,ae=0,le=0,fe=0,ce=0,ye=0,be=0,_e=0,De=0,Se=0,Ae=0,Ie=0,Ce=0,Dt=0,Ot=0,Ht=0,vt=0,rr=0,Pr=0,hn=0,$e=P[0],Fe=P[1],je=P[2],ze=P[3],ke=P[4],Me=P[5],Ve=P[6],qe=P[7],We=P[8],Ge=P[9],Ye=P[10],He=P[11],Ke=P[12],Re=P[13],Je=P[14],Xe=P[15];u=$[0],Z+=u*$e,te+=u*Fe,we+=u*je,xe+=u*ze,g+=u*ke,l+=u*Me,h+=u*Ve,b+=u*qe,N+=u*We,H+=u*Ge,q+=u*Ye,ie+=u*He,ae+=u*Ke,le+=u*Re,fe+=u*Je,ce+=u*Xe,u=$[1],te+=u*$e,we+=u*Fe,xe+=u*je,g+=u*ze,l+=u*ke,h+=u*Me,b+=u*Ve,N+=u*qe,H+=u*We,q+=u*Ge,ie+=u*Ye,ae+=u*He,le+=u*Ke,fe+=u*Re,ce+=u*Je,ye+=u*Xe,u=$[2],we+=u*$e,xe+=u*Fe,g+=u*je,l+=u*ze,h+=u*ke,b+=u*Me,N+=u*Ve,H+=u*qe,q+=u*We,ie+=u*Ge,ae+=u*Ye,le+=u*He,fe+=u*Ke,ce+=u*Re,ye+=u*Je,be+=u*Xe,u=$[3],xe+=u*$e,g+=u*Fe,l+=u*je,h+=u*ze,b+=u*ke,N+=u*Me,H+=u*Ve,q+=u*qe,ie+=u*We,ae+=u*Ge,le+=u*Ye,fe+=u*He,ce+=u*Ke,ye+=u*Re,be+=u*Je,_e+=u*Xe,u=$[4],g+=u*$e,l+=u*Fe,h+=u*je,b+=u*ze,N+=u*ke,H+=u*Me,q+=u*Ve,ie+=u*qe,ae+=u*We,le+=u*Ge,fe+=u*Ye,ce+=u*He,ye+=u*Ke,be+=u*Re,_e+=u*Je,De+=u*Xe,u=$[5],l+=u*$e,h+=u*Fe,b+=u*je,N+=u*ze,H+=u*ke,q+=u*Me,ie+=u*Ve,ae+=u*qe,le+=u*We,fe+=u*Ge,ce+=u*Ye,ye+=u*He,be+=u*Ke,_e+=u*Re,De+=u*Je,Se+=u*Xe,u=$[6],h+=u*$e,b+=u*Fe,N+=u*je,H+=u*ze,q+=u*ke,ie+=u*Me,ae+=u*Ve,le+=u*qe,fe+=u*We,ce+=u*Ge,ye+=u*Ye,be+=u*He,_e+=u*Ke,De+=u*Re,Se+=u*Je,Ae+=u*Xe,u=$[7],b+=u*$e,N+=u*Fe,H+=u*je,q+=u*ze,ie+=u*ke,ae+=u*Me,le+=u*Ve,fe+=u*qe,ce+=u*We,ye+=u*Ge,be+=u*Ye,_e+=u*He,De+=u*Ke,Se+=u*Re,Ae+=u*Je,Ie+=u*Xe,u=$[8],N+=u*$e,H+=u*Fe,q+=u*je,ie+=u*ze,ae+=u*ke,le+=u*Me,fe+=u*Ve,ce+=u*qe,ye+=u*We,be+=u*Ge,_e+=u*Ye,De+=u*He,Se+=u*Ke,Ae+=u*Re,Ie+=u*Je,Ce+=u*Xe,u=$[9],H+=u*$e,q+=u*Fe,ie+=u*je,ae+=u*ze,le+=u*ke,fe+=u*Me,ce+=u*Ve,ye+=u*qe,be+=u*We,_e+=u*Ge,De+=u*Ye,Se+=u*He,Ae+=u*Ke,Ie+=u*Re,Ce+=u*Je,Dt+=u*Xe,u=$[10],q+=u*$e,ie+=u*Fe,ae+=u*je,le+=u*ze,fe+=u*ke,ce+=u*Me,ye+=u*Ve,be+=u*qe,_e+=u*We,De+=u*Ge,Se+=u*Ye,Ae+=u*He,Ie+=u*Ke,Ce+=u*Re,Dt+=u*Je,Ot+=u*Xe,u=$[11],ie+=u*$e,ae+=u*Fe,le+=u*je,fe+=u*ze,ce+=u*ke,ye+=u*Me,be+=u*Ve,_e+=u*qe,De+=u*We,Se+=u*Ge,Ae+=u*Ye,Ie+=u*He,Ce+=u*Ke,Dt+=u*Re,Ot+=u*Je,Ht+=u*Xe,u=$[12],ae+=u*$e,le+=u*Fe,fe+=u*je,ce+=u*ze,ye+=u*ke,be+=u*Me,_e+=u*Ve,De+=u*qe,Se+=u*We,Ae+=u*Ge,Ie+=u*Ye,Ce+=u*He,Dt+=u*Ke,Ot+=u*Re,Ht+=u*Je,vt+=u*Xe,u=$[13],le+=u*$e,fe+=u*Fe,ce+=u*je,ye+=u*ze,be+=u*ke,_e+=u*Me,De+=u*Ve,Se+=u*qe,Ae+=u*We,Ie+=u*Ge,Ce+=u*Ye,Dt+=u*He,Ot+=u*Ke,Ht+=u*Re,vt+=u*Je,rr+=u*Xe,u=$[14],fe+=u*$e,ce+=u*Fe,ye+=u*je,be+=u*ze,_e+=u*ke,De+=u*Me,Se+=u*Ve,Ae+=u*qe,Ie+=u*We,Ce+=u*Ge,Dt+=u*Ye,Ot+=u*He,Ht+=u*Ke,vt+=u*Re,rr+=u*Je,Pr+=u*Xe,u=$[15],ce+=u*$e,ye+=u*Fe,be+=u*je,_e+=u*ze,De+=u*ke,Se+=u*Me,Ae+=u*Ve,Ie+=u*qe,Ce+=u*We,Dt+=u*Ge,Ot+=u*Ye,Ht+=u*He,vt+=u*Ke,rr+=u*Re,Pr+=u*Je,hn+=u*Xe,Z+=38*ye,te+=38*be,we+=38*_e,xe+=38*De,g+=38*Se,l+=38*Ae,h+=38*Ie,b+=38*Ce,N+=38*Dt,H+=38*Ot,q+=38*Ht,ie+=38*vt,ae+=38*rr,le+=38*Pr,fe+=38*hn,O=1,u=Z+O+65535,O=Math.floor(u/65536),Z=u-O*65536,u=te+O+65535,O=Math.floor(u/65536),te=u-O*65536,u=we+O+65535,O=Math.floor(u/65536),we=u-O*65536,u=xe+O+65535,O=Math.floor(u/65536),xe=u-O*65536,u=g+O+65535,O=Math.floor(u/65536),g=u-O*65536,u=l+O+65535,O=Math.floor(u/65536),l=u-O*65536,u=h+O+65535,O=Math.floor(u/65536),h=u-O*65536,u=b+O+65535,O=Math.floor(u/65536),b=u-O*65536,u=N+O+65535,O=Math.floor(u/65536),N=u-O*65536,u=H+O+65535,O=Math.floor(u/65536),H=u-O*65536,u=q+O+65535,O=Math.floor(u/65536),q=u-O*65536,u=ie+O+65535,O=Math.floor(u/65536),ie=u-O*65536,u=ae+O+65535,O=Math.floor(u/65536),ae=u-O*65536,u=le+O+65535,O=Math.floor(u/65536),le=u-O*65536,u=fe+O+65535,O=Math.floor(u/65536),fe=u-O*65536,u=ce+O+65535,O=Math.floor(u/65536),ce=u-O*65536,Z+=O-1+37*(O-1),O=1,u=Z+O+65535,O=Math.floor(u/65536),Z=u-O*65536,u=te+O+65535,O=Math.floor(u/65536),te=u-O*65536,u=we+O+65535,O=Math.floor(u/65536),we=u-O*65536,u=xe+O+65535,O=Math.floor(u/65536),xe=u-O*65536,u=g+O+65535,O=Math.floor(u/65536),g=u-O*65536,u=l+O+65535,O=Math.floor(u/65536),l=u-O*65536,u=h+O+65535,O=Math.floor(u/65536),h=u-O*65536,u=b+O+65535,O=Math.floor(u/65536),b=u-O*65536,u=N+O+65535,O=Math.floor(u/65536),N=u-O*65536,u=H+O+65535,O=Math.floor(u/65536),H=u-O*65536,u=q+O+65535,O=Math.floor(u/65536),q=u-O*65536,u=ie+O+65535,O=Math.floor(u/65536),ie=u-O*65536,u=ae+O+65535,O=Math.floor(u/65536),ae=u-O*65536,u=le+O+65535,O=Math.floor(u/65536),le=u-O*65536,u=fe+O+65535,O=Math.floor(u/65536),fe=u-O*65536,u=ce+O+65535,O=Math.floor(u/65536),ce=u-O*65536,Z+=O-1+37*(O-1),j[0]=Z,j[1]=te,j[2]=we,j[3]=xe,j[4]=g,j[5]=l,j[6]=h,j[7]=b,j[8]=N,j[9]=H,j[10]=q,j[11]=ie,j[12]=ae,j[13]=le,j[14]=fe,j[15]=ce}function _(j,$){c(j,$,$)}function W(j,$){const P=i();let u;for(u=0;u<16;u++)P[u]=$[u];for(u=253;u>=0;u--)_(P,P),u!==2&&u!==4&&c(P,P,$);for(u=0;u<16;u++)j[u]=P[u]}function V(j,$){const P=i();let u;for(u=0;u<16;u++)P[u]=$[u];for(u=250;u>=0;u--)_(P,P),u!==1&&c(P,P,$);for(u=0;u<16;u++)j[u]=P[u]}function re(j,$){const P=i(),u=i(),O=i(),Z=i(),te=i(),we=i(),xe=i(),g=i(),l=i();C(P,j[1],j[0]),C(l,$[1],$[0]),c(P,P,l),D(u,j[0],j[1]),D(l,$[0],$[1]),c(u,u,l),c(O,j[3],$[3]),c(O,O,p),c(Z,j[2],$[2]),D(Z,Z,Z),C(te,u,P),C(we,Z,O),D(xe,Z,O),D(g,u,P),c(j[0],te,we),c(j[1],g,xe),c(j[2],xe,we),c(j[3],te,g)}function ne(j,$,P){for(let u=0;u<4;u++)U(j[u],$[u],P)}function L(j,$){const P=i(),u=i(),O=i();W(O,$[2]),c(P,$[0],O),c(u,$[1],O),R(j,u),j[31]^=S(P)<<7}function y(j,$,P){I(j[0],a),I(j[1],s),I(j[2],s),I(j[3],a);for(let u=255;u>=0;--u){const O=P[u/8|0]>>(u&7)&1;ne(j,$,O),re($,j),re(j,j),ne(j,$,O)}}function A(j,$){const P=[i(),i(),i(),i()];I(P[0],d),I(P[1],E),I(P[2],s),c(P[3],d,E),y(j,P,$)}function z(j){if(j.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const $=(0,r.hash)(j);$[0]&=248,$[31]&=127,$[31]|=64;const P=new Uint8Array(32),u=[i(),i(),i(),i()];A(u,$),L(P,u);const O=new Uint8Array(64);return O.set(j),O.set(P,32),{publicKey:P,secretKey:O}}t.generateKeyPairFromSeed=z;function K(j){const $=(0,e.randomBytes)(32,j),P=z($);return(0,n.wipe)($),P}t.generateKeyPair=K;function F(j){if(j.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(j.subarray(32))}t.extractPublicKeyFromSecretKey=F;const k=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function G(j,$){let P,u,O,Z;for(u=63;u>=32;--u){for(P=0,O=u-32,Z=u-12;O<Z;++O)$[O]+=P-16*$[u]*k[O-(u-32)],P=Math.floor(($[O]+128)/256),$[O]-=P*256;$[O]+=P,$[u]=0}for(P=0,O=0;O<32;O++)$[O]+=P-($[31]>>4)*k[O],P=$[O]>>8,$[O]&=255;for(O=0;O<32;O++)$[O]-=P*k[O];for(u=0;u<32;u++)$[u+1]+=$[u]>>8,j[u]=$[u]&255}function Y(j){const $=new Float64Array(64);for(let P=0;P<64;P++)$[P]=j[P];for(let P=0;P<64;P++)j[P]=0;G(j,$)}function Q(j,$){const P=new Float64Array(64),u=[i(),i(),i(),i()],O=(0,r.hash)(j.subarray(0,32));O[0]&=248,O[31]&=127,O[31]|=64;const Z=new Uint8Array(64);Z.set(O.subarray(32),32);const te=new r.SHA512;te.update(Z.subarray(32)),te.update($);const we=te.digest();te.clean(),Y(we),A(u,we),L(Z,u),te.reset(),te.update(Z.subarray(0,32)),te.update(j.subarray(32)),te.update($);const xe=te.digest();Y(xe);for(let g=0;g<32;g++)P[g]=we[g];for(let g=0;g<32;g++)for(let l=0;l<32;l++)P[g+l]+=xe[g]*O[l];return G(Z.subarray(32),P),Z}t.sign=Q;function X(j,$){const P=i(),u=i(),O=i(),Z=i(),te=i(),we=i(),xe=i();return I(j[2],s),v(j[1],$),_(O,j[1]),c(Z,O,f),C(O,O,j[2]),D(Z,j[2],Z),_(te,Z),_(we,te),c(xe,we,te),c(P,xe,O),c(P,P,Z),V(P,P),c(P,P,O),c(P,P,Z),c(P,P,Z),c(j[0],P,Z),_(u,j[0]),c(u,u,Z),m(u,O)&&c(j[0],j[0],T),_(u,j[0]),c(u,u,Z),m(u,O)?-1:(S(j[0])===$[31]>>7&&C(j[0],a,j[0]),c(j[3],j[0],j[1]),0)}function he(j,$,P){const u=new Uint8Array(32),O=[i(),i(),i(),i()],Z=[i(),i(),i(),i()];if(P.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(X(Z,j))return!1;const te=new r.SHA512;te.update(P.subarray(0,32)),te.update(j),te.update($);const we=te.digest();return Y(we),y(O,Z,we),A(Z,P.subarray(32)),re(O,Z),L(u,O),!B(P,u)}t.verify=he;function ee(j){let $=[i(),i(),i(),i()];if(X($,j))throw new Error("Ed25519: invalid public key");let P=i(),u=i(),O=$[1];D(P,s,O),C(u,s,O),W(u,u),c(P,P,u);let Z=new Uint8Array(32);return R(Z,P),Z}t.convertPublicKeyToX25519=ee;function de(j){const $=(0,r.hash)(j.subarray(0,32));$[0]&=248,$[31]&=127,$[31]|=64;const P=new Uint8Array($.subarray(0,32));return(0,n.wipe)($),P}t.convertSecretKeyToX25519=de})(Lo);const eg="EdDSA",tg="JWT",zu=".",ku="base64url",rg="utf8",ng="utf8",ig=":",og="did",sg="key",Ks="base58btc",ag="z",cg="K36",ug=32;function Ku(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Hi(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));const r=Ku(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function lg(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=i}var s=t.length,f=t.charAt(0),p=Math.log(s)/Math.log(256),d=Math.log(256)/Math.log(s);function E(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";for(var U=0,R=0,B=0,m=x.length;B!==m&&x[B]===0;)B++,U++;for(var S=(m-B)*d+1>>>0,v=new Uint8Array(S);B!==m;){for(var D=x[B],C=0,c=S-1;(D!==0||C<R)&&c!==-1;c--,C++)D+=256*v[c]>>>0,v[c]=D%s>>>0,D=D/s>>>0;if(D!==0)throw new Error("Non-zero carry");R=C,B++}for(var _=S-R;_!==S&&v[_]===0;)_++;for(var W=f.repeat(U);_<S;++_)W+=t.charAt(v[_]);return W}function T(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;var U=0;if(x[U]!==" "){for(var R=0,B=0;x[U]===f;)R++,U++;for(var m=(x.length-U)*p+1>>>0,S=new Uint8Array(m);x[U];){var v=r[x.charCodeAt(U)];if(v===255)return;for(var D=0,C=m-1;(v!==0||D<B)&&C!==-1;C--,D++)v+=s*S[C]>>>0,S[C]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");B=D,U++}if(x[U]!==" "){for(var c=m-B;c!==m&&S[c]===0;)c++;for(var _=new Uint8Array(R+(m-c)),W=R;c!==m;)_[W++]=S[c++];return _}}}function I(x){var U=T(x);if(U)return U;throw new Error(`Non-${e} character`)}return{encode:E,decodeUnsafe:T,decode:I}}var fg=lg,hg=fg;const Hu=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},dg=t=>new TextEncoder().encode(t),pg=t=>new TextDecoder().decode(t);class gg{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class _g{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Vu(this,e)}}class vg{constructor(e){this.decoders=e}or(e){return Vu(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Vu=(t,e)=>new vg({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class yg{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new gg(e,r,n),this.decoder=new _g(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ni=({name:t,prefix:e,encode:r,decode:n})=>new yg(t,e,r,n),sn=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=hg(r,e);return ni({prefix:t,name:e,encode:n,decode:o=>Hu(i(o))})},mg=(t,e,r,n)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let o=t.length;for(;t[o-1]==="=";)--o;const a=new Uint8Array(o*r/8|0);let s=0,f=0,p=0;for(let d=0;d<o;++d){const E=i[t[d]];if(E===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|E,s+=r,s>=8&&(s-=8,a[p++]=255&f>>s)}if(s>=r||255&f<<8-s)throw new SyntaxError("Unexpected end of data");return a},wg=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let o="",a=0,s=0;for(let f=0;f<t.length;++f)for(s=s<<8|t[f],a+=8;a>r;)a-=r,o+=e[i&s>>a];if(a&&(o+=e[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},it=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>ni({prefix:e,name:t,encode(i){return wg(i,n,r)},decode(i){return mg(i,n,r,t)}}),bg=ni({prefix:"\0",name:"identity",encode:t=>pg(t),decode:t=>dg(t)});var Eg=Object.freeze(Object.defineProperty({__proto__:null,identity:bg},Symbol.toStringTag,{value:"Module"}));const xg=it({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Dg=Object.freeze(Object.defineProperty({__proto__:null,base2:xg},Symbol.toStringTag,{value:"Module"}));const Sg=it({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Cg=Object.freeze(Object.defineProperty({__proto__:null,base8:Sg},Symbol.toStringTag,{value:"Module"}));const Ag=sn({prefix:"9",name:"base10",alphabet:"0123456789"});var Ig=Object.freeze(Object.defineProperty({__proto__:null,base10:Ag},Symbol.toStringTag,{value:"Module"}));const Og=it({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Tg=it({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ng=Object.freeze(Object.defineProperty({__proto__:null,base16:Og,base16upper:Tg},Symbol.toStringTag,{value:"Module"}));const Rg=it({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Lg=it({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Pg=it({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Fg=it({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Mg=it({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ug=it({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Bg=it({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),$g=it({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),jg=it({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var zg=Object.freeze(Object.defineProperty({__proto__:null,base32:Rg,base32upper:Lg,base32pad:Pg,base32padupper:Fg,base32hex:Mg,base32hexupper:Ug,base32hexpad:Bg,base32hexpadupper:$g,base32z:jg},Symbol.toStringTag,{value:"Module"}));const kg=sn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Kg=sn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Hg=Object.freeze(Object.defineProperty({__proto__:null,base36:kg,base36upper:Kg},Symbol.toStringTag,{value:"Module"}));const Vg=sn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),qg=sn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Wg=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Vg,base58flickr:qg},Symbol.toStringTag,{value:"Module"}));const Gg=it({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Yg=it({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Jg=it({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Xg=it({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Qg=Object.freeze(Object.defineProperty({__proto__:null,base64:Gg,base64pad:Yg,base64url:Jg,base64urlpad:Xg},Symbol.toStringTag,{value:"Module"}));const qu=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Zg=qu.reduce((t,e,r)=>(t[r]=e,t),[]),e_=qu.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function t_(t){return t.reduce((e,r)=>(e+=Zg[r],e),"")}function r_(t){const e=[];for(const r of t){const n=e_[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const n_=ni({prefix:"\u{1F680}",name:"base256emoji",encode:t_,decode:r_});var i_=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:n_},Symbol.toStringTag,{value:"Module"})),o_=Wu,Hs=128,s_=127,a_=~s_,c_=Math.pow(2,31);function Wu(t,e,r){e=e||[],r=r||0;for(var n=r;t>=c_;)e[r++]=t&255|Hs,t/=128;for(;t&a_;)e[r++]=t&255|Hs,t>>>=7;return e[r]=t|0,Wu.bytes=r-n+1,e}var u_=Vi,l_=128,Vs=127;function Vi(t,n){var r=0,n=n||0,i=0,o=n,a,s=t.length;do{if(o>=s)throw Vi.bytes=0,new RangeError("Could not decode varint");a=t[o++],r+=i<28?(a&Vs)<<i:(a&Vs)*Math.pow(2,i),i+=7}while(a>=l_);return Vi.bytes=o-n,r}var f_=Math.pow(2,7),h_=Math.pow(2,14),d_=Math.pow(2,21),p_=Math.pow(2,28),g_=Math.pow(2,35),__=Math.pow(2,42),v_=Math.pow(2,49),y_=Math.pow(2,56),m_=Math.pow(2,63),w_=function(t){return t<f_?1:t<h_?2:t<d_?3:t<p_?4:t<g_?5:t<__?6:t<v_?7:t<y_?8:t<m_?9:10},b_={encode:o_,decode:u_,encodingLength:w_},Gu=b_;const qs=(t,e,r=0)=>(Gu.encode(t,e,r),e),Ws=t=>Gu.encodingLength(t),qi=(t,e)=>{const r=e.byteLength,n=Ws(t),i=n+Ws(r),o=new Uint8Array(i+r);return qs(t,o,0),qs(r,o,n),o.set(e,i),new E_(t,r,e,o)};class E_{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const Yu=({name:t,code:e,encode:r})=>new x_(t,e,r);class x_{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?qi(this.code,r):r.then(n=>qi(this.code,n))}else throw Error("Unknown type, must be binary type")}}const Ju=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),D_=Yu({name:"sha2-256",code:18,encode:Ju("SHA-256")}),S_=Yu({name:"sha2-512",code:19,encode:Ju("SHA-512")});var C_=Object.freeze(Object.defineProperty({__proto__:null,sha256:D_,sha512:S_},Symbol.toStringTag,{value:"Module"}));const Xu=0,A_="identity",Qu=Hu,I_=t=>qi(Xu,Qu(t)),O_={code:Xu,name:A_,encode:Qu,digest:I_};var T_=Object.freeze(Object.defineProperty({__proto__:null,identity:O_},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Gs={...Eg,...Dg,...Cg,...Ig,...Ng,...zg,...Hg,...Wg,...Qg,...i_};({...C_,...T_});function Zu(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Ys=Zu("utf8","u",t=>{const e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),Ei=Zu("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Ku(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),el={utf8:Ys,"utf-8":Ys,hex:Gs.base16,latin1:Ei,ascii:Ei,binary:Ei,...Gs};function _t(t,e="utf8"){const r=el[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function pt(t,e="utf8"){const r=el[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function Rn(t){return _t(pt(Bn(t),rg),ku)}function tl(t){const e=pt(cg,Ks),r=ag+_t(Hi([e,t]),Ks);return[og,sg,r].join(ig)}function N_(t){return _t(t,ku)}function R_(t){return pt([Rn(t.header),Rn(t.payload)].join(zu),ng)}function L_(t){return[Rn(t.header),Rn(t.payload),N_(t.signature)].join(zu)}function Js(t=Zn.randomBytes(ug)){return Lo.generateKeyPairFromSeed(t)}async function P_(t,e,r,n,i=Pe.fromMiliseconds(Date.now())){const o={alg:eg,typ:tg},a=tl(n.publicKey),s=i+r,f={iss:a,sub:t,aud:e,iat:i,exp:s},p=R_({header:o,payload:f}),d=Lo.sign(n.secretKey,p);return L_({header:o,payload:f,signature:d})}var Po={},ii={};Object.defineProperty(ii,"__esModule",{value:!0});var at=ve,Wi=lt,F_=20;function M_(t,e,r){for(var n=1634760805,i=857760878,o=2036477234,a=1797285236,s=r[3]<<24|r[2]<<16|r[1]<<8|r[0],f=r[7]<<24|r[6]<<16|r[5]<<8|r[4],p=r[11]<<24|r[10]<<16|r[9]<<8|r[8],d=r[15]<<24|r[14]<<16|r[13]<<8|r[12],E=r[19]<<24|r[18]<<16|r[17]<<8|r[16],T=r[23]<<24|r[22]<<16|r[21]<<8|r[20],I=r[27]<<24|r[26]<<16|r[25]<<8|r[24],x=r[31]<<24|r[30]<<16|r[29]<<8|r[28],U=e[3]<<24|e[2]<<16|e[1]<<8|e[0],R=e[7]<<24|e[6]<<16|e[5]<<8|e[4],B=e[11]<<24|e[10]<<16|e[9]<<8|e[8],m=e[15]<<24|e[14]<<16|e[13]<<8|e[12],S=n,v=i,D=o,C=a,c=s,_=f,W=p,V=d,re=E,ne=T,L=I,y=x,A=U,z=R,K=B,F=m,k=0;k<F_;k+=2)S=S+c|0,A^=S,A=A>>>32-16|A<<16,re=re+A|0,c^=re,c=c>>>32-12|c<<12,v=v+_|0,z^=v,z=z>>>32-16|z<<16,ne=ne+z|0,_^=ne,_=_>>>32-12|_<<12,D=D+W|0,K^=D,K=K>>>32-16|K<<16,L=L+K|0,W^=L,W=W>>>32-12|W<<12,C=C+V|0,F^=C,F=F>>>32-16|F<<16,y=y+F|0,V^=y,V=V>>>32-12|V<<12,D=D+W|0,K^=D,K=K>>>32-8|K<<8,L=L+K|0,W^=L,W=W>>>32-7|W<<7,C=C+V|0,F^=C,F=F>>>32-8|F<<8,y=y+F|0,V^=y,V=V>>>32-7|V<<7,v=v+_|0,z^=v,z=z>>>32-8|z<<8,ne=ne+z|0,_^=ne,_=_>>>32-7|_<<7,S=S+c|0,A^=S,A=A>>>32-8|A<<8,re=re+A|0,c^=re,c=c>>>32-7|c<<7,S=S+_|0,F^=S,F=F>>>32-16|F<<16,L=L+F|0,_^=L,_=_>>>32-12|_<<12,v=v+W|0,A^=v,A=A>>>32-16|A<<16,y=y+A|0,W^=y,W=W>>>32-12|W<<12,D=D+V|0,z^=D,z=z>>>32-16|z<<16,re=re+z|0,V^=re,V=V>>>32-12|V<<12,C=C+c|0,K^=C,K=K>>>32-16|K<<16,ne=ne+K|0,c^=ne,c=c>>>32-12|c<<12,D=D+V|0,z^=D,z=z>>>32-8|z<<8,re=re+z|0,V^=re,V=V>>>32-7|V<<7,C=C+c|0,K^=C,K=K>>>32-8|K<<8,ne=ne+K|0,c^=ne,c=c>>>32-7|c<<7,v=v+W|0,A^=v,A=A>>>32-8|A<<8,y=y+A|0,W^=y,W=W>>>32-7|W<<7,S=S+_|0,F^=S,F=F>>>32-8|F<<8,L=L+F|0,_^=L,_=_>>>32-7|_<<7;at.writeUint32LE(S+n|0,t,0),at.writeUint32LE(v+i|0,t,4),at.writeUint32LE(D+o|0,t,8),at.writeUint32LE(C+a|0,t,12),at.writeUint32LE(c+s|0,t,16),at.writeUint32LE(_+f|0,t,20),at.writeUint32LE(W+p|0,t,24),at.writeUint32LE(V+d|0,t,28),at.writeUint32LE(re+E|0,t,32),at.writeUint32LE(ne+T|0,t,36),at.writeUint32LE(L+I|0,t,40),at.writeUint32LE(y+x|0,t,44),at.writeUint32LE(A+U|0,t,48),at.writeUint32LE(z+R|0,t,52),at.writeUint32LE(K+B|0,t,56),at.writeUint32LE(F+m|0,t,60)}function rl(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var o,a;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");o=new Uint8Array(16),a=o.length-e.length,o.set(e,a)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");o=e,a=i}for(var s=new Uint8Array(64),f=0;f<r.length;f+=64){M_(s,o,t);for(var p=f;p<f+64&&p<r.length;p++)n[p]=r[p]^s[p-f];B_(o,0,a)}return Wi.wipe(s),i===0&&Wi.wipe(o),n}ii.streamXOR=rl;function U_(t,e,r,n){return n===void 0&&(n=0),Wi.wipe(r),rl(t,e,r,r,n)}ii.stream=U_;function B_(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var nl={},tr={};Object.defineProperty(tr,"__esModule",{value:!0});function $_(t,e,r){return~(t-1)&e|t-1&r}tr.select=$_;function j_(t,e){return(t|0)-(e|0)-1>>>31&1}tr.lessOrEqual=j_;function il(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}tr.compare=il;function z_(t,e){return t.length===0||e.length===0?!1:il(t,e)!==0}tr.equal=z_;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=tr,r=lt;t.DIGEST_LENGTH=16;var n=function(){function a(s){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var f=s[0]|s[1]<<8;this._r[0]=f&8191;var p=s[2]|s[3]<<8;this._r[1]=(f>>>13|p<<3)&8191;var d=s[4]|s[5]<<8;this._r[2]=(p>>>10|d<<6)&7939;var E=s[6]|s[7]<<8;this._r[3]=(d>>>7|E<<9)&8191;var T=s[8]|s[9]<<8;this._r[4]=(E>>>4|T<<12)&255,this._r[5]=T>>>1&8190;var I=s[10]|s[11]<<8;this._r[6]=(T>>>14|I<<2)&8191;var x=s[12]|s[13]<<8;this._r[7]=(I>>>11|x<<5)&8065;var U=s[14]|s[15]<<8;this._r[8]=(x>>>8|U<<8)&8191,this._r[9]=U>>>5&127,this._pad[0]=s[16]|s[17]<<8,this._pad[1]=s[18]|s[19]<<8,this._pad[2]=s[20]|s[21]<<8,this._pad[3]=s[22]|s[23]<<8,this._pad[4]=s[24]|s[25]<<8,this._pad[5]=s[26]|s[27]<<8,this._pad[6]=s[28]|s[29]<<8,this._pad[7]=s[30]|s[31]<<8}return a.prototype._blocks=function(s,f,p){for(var d=this._fin?0:2048,E=this._h[0],T=this._h[1],I=this._h[2],x=this._h[3],U=this._h[4],R=this._h[5],B=this._h[6],m=this._h[7],S=this._h[8],v=this._h[9],D=this._r[0],C=this._r[1],c=this._r[2],_=this._r[3],W=this._r[4],V=this._r[5],re=this._r[6],ne=this._r[7],L=this._r[8],y=this._r[9];p>=16;){var A=s[f+0]|s[f+1]<<8;E+=A&8191;var z=s[f+2]|s[f+3]<<8;T+=(A>>>13|z<<3)&8191;var K=s[f+4]|s[f+5]<<8;I+=(z>>>10|K<<6)&8191;var F=s[f+6]|s[f+7]<<8;x+=(K>>>7|F<<9)&8191;var k=s[f+8]|s[f+9]<<8;U+=(F>>>4|k<<12)&8191,R+=k>>>1&8191;var G=s[f+10]|s[f+11]<<8;B+=(k>>>14|G<<2)&8191;var Y=s[f+12]|s[f+13]<<8;m+=(G>>>11|Y<<5)&8191;var Q=s[f+14]|s[f+15]<<8;S+=(Y>>>8|Q<<8)&8191,v+=Q>>>5|d;var X=0,he=X;he+=E*D,he+=T*(5*y),he+=I*(5*L),he+=x*(5*ne),he+=U*(5*re),X=he>>>13,he&=8191,he+=R*(5*V),he+=B*(5*W),he+=m*(5*_),he+=S*(5*c),he+=v*(5*C),X+=he>>>13,he&=8191;var ee=X;ee+=E*C,ee+=T*D,ee+=I*(5*y),ee+=x*(5*L),ee+=U*(5*ne),X=ee>>>13,ee&=8191,ee+=R*(5*re),ee+=B*(5*V),ee+=m*(5*W),ee+=S*(5*_),ee+=v*(5*c),X+=ee>>>13,ee&=8191;var de=X;de+=E*c,de+=T*C,de+=I*D,de+=x*(5*y),de+=U*(5*L),X=de>>>13,de&=8191,de+=R*(5*ne),de+=B*(5*re),de+=m*(5*V),de+=S*(5*W),de+=v*(5*_),X+=de>>>13,de&=8191;var j=X;j+=E*_,j+=T*c,j+=I*C,j+=x*D,j+=U*(5*y),X=j>>>13,j&=8191,j+=R*(5*L),j+=B*(5*ne),j+=m*(5*re),j+=S*(5*V),j+=v*(5*W),X+=j>>>13,j&=8191;var $=X;$+=E*W,$+=T*_,$+=I*c,$+=x*C,$+=U*D,X=$>>>13,$&=8191,$+=R*(5*y),$+=B*(5*L),$+=m*(5*ne),$+=S*(5*re),$+=v*(5*V),X+=$>>>13,$&=8191;var P=X;P+=E*V,P+=T*W,P+=I*_,P+=x*c,P+=U*C,X=P>>>13,P&=8191,P+=R*D,P+=B*(5*y),P+=m*(5*L),P+=S*(5*ne),P+=v*(5*re),X+=P>>>13,P&=8191;var u=X;u+=E*re,u+=T*V,u+=I*W,u+=x*_,u+=U*c,X=u>>>13,u&=8191,u+=R*C,u+=B*D,u+=m*(5*y),u+=S*(5*L),u+=v*(5*ne),X+=u>>>13,u&=8191;var O=X;O+=E*ne,O+=T*re,O+=I*V,O+=x*W,O+=U*_,X=O>>>13,O&=8191,O+=R*c,O+=B*C,O+=m*D,O+=S*(5*y),O+=v*(5*L),X+=O>>>13,O&=8191;var Z=X;Z+=E*L,Z+=T*ne,Z+=I*re,Z+=x*V,Z+=U*W,X=Z>>>13,Z&=8191,Z+=R*_,Z+=B*c,Z+=m*C,Z+=S*D,Z+=v*(5*y),X+=Z>>>13,Z&=8191;var te=X;te+=E*y,te+=T*L,te+=I*ne,te+=x*re,te+=U*V,X=te>>>13,te&=8191,te+=R*W,te+=B*_,te+=m*c,te+=S*C,te+=v*D,X+=te>>>13,te&=8191,X=(X<<2)+X|0,X=X+he|0,he=X&8191,X=X>>>13,ee+=X,E=he,T=ee,I=de,x=j,U=$,R=P,B=u,m=O,S=Z,v=te,f+=16,p-=16}this._h[0]=E,this._h[1]=T,this._h[2]=I,this._h[3]=x,this._h[4]=U,this._h[5]=R,this._h[6]=B,this._h[7]=m,this._h[8]=S,this._h[9]=v},a.prototype.finish=function(s,f){f===void 0&&(f=0);var p=new Uint16Array(10),d,E,T,I;if(this._leftover){for(I=this._leftover,this._buffer[I++]=1;I<16;I++)this._buffer[I]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(d=this._h[1]>>>13,this._h[1]&=8191,I=2;I<10;I++)this._h[I]+=d,d=this._h[I]>>>13,this._h[I]&=8191;for(this._h[0]+=d*5,d=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=d,d=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=d,p[0]=this._h[0]+5,d=p[0]>>>13,p[0]&=8191,I=1;I<10;I++)p[I]=this._h[I]+d,d=p[I]>>>13,p[I]&=8191;for(p[9]-=1<<13,E=(d^1)-1,I=0;I<10;I++)p[I]&=E;for(E=~E,I=0;I<10;I++)this._h[I]=this._h[I]&E|p[I];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,T=this._h[0]+this._pad[0],this._h[0]=T&65535,I=1;I<8;I++)T=(this._h[I]+this._pad[I]|0)+(T>>>16)|0,this._h[I]=T&65535;return s[f+0]=this._h[0]>>>0,s[f+1]=this._h[0]>>>8,s[f+2]=this._h[1]>>>0,s[f+3]=this._h[1]>>>8,s[f+4]=this._h[2]>>>0,s[f+5]=this._h[2]>>>8,s[f+6]=this._h[3]>>>0,s[f+7]=this._h[3]>>>8,s[f+8]=this._h[4]>>>0,s[f+9]=this._h[4]>>>8,s[f+10]=this._h[5]>>>0,s[f+11]=this._h[5]>>>8,s[f+12]=this._h[6]>>>0,s[f+13]=this._h[6]>>>8,s[f+14]=this._h[7]>>>0,s[f+15]=this._h[7]>>>8,this._finished=!0,this},a.prototype.update=function(s){var f=0,p=s.length,d;if(this._leftover){d=16-this._leftover,d>p&&(d=p);for(var E=0;E<d;E++)this._buffer[this._leftover+E]=s[f+E];if(p-=d,f+=d,this._leftover+=d,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(p>=16&&(d=p-p%16,this._blocks(s,f,d),f+=d,p-=d),p){for(var E=0;E<p;E++)this._buffer[this._leftover+E]=s[f+E];this._leftover+=p}return this},a.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var s=new Uint8Array(16);return this.finish(s),s},a.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},a}();t.Poly1305=n;function i(a,s){var f=new n(a);f.update(s);var p=f.digest();return f.clean(),p}t.oneTimeAuth=i;function o(a,s){return a.length!==t.DIGEST_LENGTH||s.length!==t.DIGEST_LENGTH?!1:e.equal(a,s)}t.equal=o})(nl);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ii,r=nl,n=lt,i=ve,o=tr;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var a=new Uint8Array(16),s=function(){function f(p){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,p.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(p)}return f.prototype.seal=function(p,d,E,T){if(p.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var I=new Uint8Array(16);I.set(p,I.length-p.length);var x=new Uint8Array(32);e.stream(this._key,I,x,4);var U=d.length+this.tagLength,R;if(T){if(T.length!==U)throw new Error("ChaCha20Poly1305: incorrect destination length");R=T}else R=new Uint8Array(U);return e.streamXOR(this._key,I,d,R,4),this._authenticate(R.subarray(R.length-this.tagLength,R.length),x,R.subarray(0,R.length-this.tagLength),E),n.wipe(I),R},f.prototype.open=function(p,d,E,T){if(p.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(d.length<this.tagLength)return null;var I=new Uint8Array(16);I.set(p,I.length-p.length);var x=new Uint8Array(32);e.stream(this._key,I,x,4);var U=new Uint8Array(this.tagLength);if(this._authenticate(U,x,d.subarray(0,d.length-this.tagLength),E),!o.equal(U,d.subarray(d.length-this.tagLength,d.length)))return null;var R=d.length-this.tagLength,B;if(T){if(T.length!==R)throw new Error("ChaCha20Poly1305: incorrect destination length");B=T}else B=new Uint8Array(R);return e.streamXOR(this._key,I,d.subarray(0,d.length-this.tagLength),B,4),n.wipe(I),B},f.prototype.clean=function(){return n.wipe(this._key),this},f.prototype._authenticate=function(p,d,E,T){var I=new r.Poly1305(d);T&&(I.update(T),T.length%16>0&&I.update(a.subarray(T.length%16))),I.update(E),E.length%16>0&&I.update(a.subarray(E.length%16));var x=new Uint8Array(8);T&&i.writeUint64LE(T.length,x),I.update(x),i.writeUint64LE(E.length,x),I.update(x);for(var U=I.digest(),R=0;R<U.length;R++)p[R]=U[R];I.clean(),n.wipe(U),n.wipe(x)},f}();t.ChaCha20Poly1305=s})(Po);var ol={},an={},Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});function k_(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}Fo.isSerializableHash=k_;Object.defineProperty(an,"__esModule",{value:!0});var Tt=Fo,K_=tr,H_=lt,sl=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),Tt.isSerializableHash(this._inner)&&Tt.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),H_.wipe(n)}return t.prototype.reset=function(){if(!Tt.isSerializableHash(this._inner)||!Tt.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){Tt.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Tt.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!Tt.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!Tt.isSerializableHash(this._inner)||!Tt.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!Tt.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();an.HMAC=sl;function V_(t,e,r){var n=new sl(t,e);n.update(r);var i=n.digest();return n.clean(),i}an.hmac=V_;an.equal=K_.equal;Object.defineProperty(ol,"__esModule",{value:!0});var Xs=an,Qs=lt,q_=function(){function t(e,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var o=Xs.hmac(this._hash,n,r);this._hmac=new Xs.HMAC(e,o),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),Qs.wipe(this._buffer),Qs.wipe(this._counter),this._bufpos=0},t}(),W_=ol.HKDF=q_,Mo={},Uo={},Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});var Zs=65536,G_=function(){function t(){this.isAvailable=!1,this.isInstantiated=!1;var e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}return t.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");for(var r=new Uint8Array(e),n=0;n<r.length;n+=Zs)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,Zs)));return r},t}();Bo.BrowserRandomSource=G_;var $o={};Object.defineProperty($o,"__esModule",{value:!0});var Y_=lt,J_=function(){function t(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof Ga<"u"){var e=Ya;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}return t.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");var r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");for(var n=new Uint8Array(e),i=0;i<n.length;i++)n[i]=r[i];return Y_.wipe(r),n},t}();$o.NodeRandomSource=J_;Object.defineProperty(Uo,"__esModule",{value:!0});var X_=Bo,Q_=$o,Z_=function(){function t(){if(this.isAvailable=!1,this.name="",this._source=new X_.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Q_.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}return t.prototype.randomBytes=function(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)},t}();Uo.SystemRandomSource=Z_;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Uo,r=ve,n=lt;t.defaultRandomSource=new e.SystemRandomSource;function i(p,d){return d===void 0&&(d=t.defaultRandomSource),d.randomBytes(p)}t.randomBytes=i;function o(p){p===void 0&&(p=t.defaultRandomSource);var d=i(4,p),E=r.readUint32LE(d);return n.wipe(d),E}t.randomUint32=o;var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function s(p,d,E){if(d===void 0&&(d=a),E===void 0&&(E=t.defaultRandomSource),d.length<2)throw new Error("randomString charset is too short");if(d.length>256)throw new Error("randomString charset is too long");for(var T="",I=d.length,x=256-256%I;p>0;){for(var U=i(Math.ceil(p*256/x),E),R=0;R<U.length&&p>0;R++){var B=U[R];B<x&&(T+=d.charAt(B%I),p--)}n.wipe(U)}return T}t.randomString=s;function f(p,d,E){d===void 0&&(d=a),E===void 0&&(E=t.defaultRandomSource);var T=Math.ceil(p/(Math.log(d.length)/Math.LN2));return s(T,d,E)}t.randomStringForEntropy=f})(Mo);var oi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ve,r=lt;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var n=function(){function s(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return s.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},s.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},s.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},s.prototype.update=function(f,p){if(p===void 0&&(p=f.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var d=0;if(this._bytesHashed+=p,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&p>0;)this._buffer[this._bufferLength++]=f[d++],p--;this._bufferLength===this.blockSize&&(o(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(p>=this.blockSize&&(d=o(this._temp,this._state,f,d,p),p%=this.blockSize);p>0;)this._buffer[this._bufferLength++]=f[d++],p--;return this},s.prototype.finish=function(f){if(!this._finished){var p=this._bytesHashed,d=this._bufferLength,E=p/536870912|0,T=p<<3,I=p%64<56?64:128;this._buffer[d]=128;for(var x=d+1;x<I-8;x++)this._buffer[x]=0;e.writeUint32BE(E,this._buffer,I-8),e.writeUint32BE(T,this._buffer,I-4),o(this._temp,this._state,this._buffer,0,I),this._finished=!0}for(var x=0;x<this.digestLength/4;x++)e.writeUint32BE(this._state[x],f,x*4);return this},s.prototype.digest=function(){var f=new Uint8Array(this.digestLength);return this.finish(f),f},s.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},s.prototype.restoreState=function(f){return this._state.set(f.state),this._bufferLength=f.bufferLength,f.buffer&&this._buffer.set(f.buffer),this._bytesHashed=f.bytesHashed,this._finished=!1,this},s.prototype.cleanSavedState=function(f){r.wipe(f.state),f.buffer&&r.wipe(f.buffer),f.bufferLength=0,f.bytesHashed=0},s}();t.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function o(s,f,p,d,E){for(;E>=64;){for(var T=f[0],I=f[1],x=f[2],U=f[3],R=f[4],B=f[5],m=f[6],S=f[7],v=0;v<16;v++){var D=d+v*4;s[v]=e.readUint32BE(p,D)}for(var v=16;v<64;v++){var C=s[v-2],c=(C>>>17|C<<32-17)^(C>>>19|C<<32-19)^C>>>10;C=s[v-15];var _=(C>>>7|C<<32-7)^(C>>>18|C<<32-18)^C>>>3;s[v]=(c+s[v-7]|0)+(_+s[v-16]|0)}for(var v=0;v<64;v++){var c=(((R>>>6|R<<26)^(R>>>11|R<<21)^(R>>>25|R<<7))+(R&B^~R&m)|0)+(S+(i[v]+s[v]|0)|0)|0,_=((T>>>2|T<<32-2)^(T>>>13|T<<32-13)^(T>>>22|T<<32-22))+(T&I^T&x^I&x)|0;S=m,m=B,B=R,R=U+c|0,U=x,x=I,I=T,T=c+_|0}f[0]+=T,f[1]+=I,f[2]+=x,f[3]+=U,f[4]+=R,f[5]+=B,f[6]+=m,f[7]+=S,d+=64,E-=64}return d}function a(s){var f=new n;f.update(s);var p=f.digest();return f.clean(),p}t.hash=a})(oi);var jo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Zn,r=lt;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function n(v){var D=new Float64Array(16);if(v)for(var C=0;C<v.length;C++)D[C]=v[C];return D}var i=new Uint8Array(32);i[0]=9;var o=n([56129,1]);function a(v){for(var D=1,C=0;C<16;C++){var c=v[C]+D+65535;D=Math.floor(c/65536),v[C]=c-D*65536}v[0]+=D-1+37*(D-1)}function s(v,D,C){for(var c=~(C-1),_=0;_<16;_++){var W=c&(v[_]^D[_]);v[_]^=W,D[_]^=W}}function f(v,D){for(var C=n(),c=n(),_=0;_<16;_++)c[_]=D[_];a(c),a(c),a(c);for(var W=0;W<2;W++){C[0]=c[0]-65517;for(var _=1;_<15;_++)C[_]=c[_]-65535-(C[_-1]>>16&1),C[_-1]&=65535;C[15]=c[15]-32767-(C[14]>>16&1);var V=C[15]>>16&1;C[14]&=65535,s(c,C,1-V)}for(var _=0;_<16;_++)v[2*_]=c[_]&255,v[2*_+1]=c[_]>>8}function p(v,D){for(var C=0;C<16;C++)v[C]=D[2*C]+(D[2*C+1]<<8);v[15]&=32767}function d(v,D,C){for(var c=0;c<16;c++)v[c]=D[c]+C[c]}function E(v,D,C){for(var c=0;c<16;c++)v[c]=D[c]-C[c]}function T(v,D,C){var c,_,W=0,V=0,re=0,ne=0,L=0,y=0,A=0,z=0,K=0,F=0,k=0,G=0,Y=0,Q=0,X=0,he=0,ee=0,de=0,j=0,$=0,P=0,u=0,O=0,Z=0,te=0,we=0,xe=0,g=0,l=0,h=0,b=0,N=C[0],H=C[1],q=C[2],ie=C[3],ae=C[4],le=C[5],fe=C[6],ce=C[7],ye=C[8],be=C[9],_e=C[10],De=C[11],Se=C[12],Ae=C[13],Ie=C[14],Ce=C[15];c=D[0],W+=c*N,V+=c*H,re+=c*q,ne+=c*ie,L+=c*ae,y+=c*le,A+=c*fe,z+=c*ce,K+=c*ye,F+=c*be,k+=c*_e,G+=c*De,Y+=c*Se,Q+=c*Ae,X+=c*Ie,he+=c*Ce,c=D[1],V+=c*N,re+=c*H,ne+=c*q,L+=c*ie,y+=c*ae,A+=c*le,z+=c*fe,K+=c*ce,F+=c*ye,k+=c*be,G+=c*_e,Y+=c*De,Q+=c*Se,X+=c*Ae,he+=c*Ie,ee+=c*Ce,c=D[2],re+=c*N,ne+=c*H,L+=c*q,y+=c*ie,A+=c*ae,z+=c*le,K+=c*fe,F+=c*ce,k+=c*ye,G+=c*be,Y+=c*_e,Q+=c*De,X+=c*Se,he+=c*Ae,ee+=c*Ie,de+=c*Ce,c=D[3],ne+=c*N,L+=c*H,y+=c*q,A+=c*ie,z+=c*ae,K+=c*le,F+=c*fe,k+=c*ce,G+=c*ye,Y+=c*be,Q+=c*_e,X+=c*De,he+=c*Se,ee+=c*Ae,de+=c*Ie,j+=c*Ce,c=D[4],L+=c*N,y+=c*H,A+=c*q,z+=c*ie,K+=c*ae,F+=c*le,k+=c*fe,G+=c*ce,Y+=c*ye,Q+=c*be,X+=c*_e,he+=c*De,ee+=c*Se,de+=c*Ae,j+=c*Ie,$+=c*Ce,c=D[5],y+=c*N,A+=c*H,z+=c*q,K+=c*ie,F+=c*ae,k+=c*le,G+=c*fe,Y+=c*ce,Q+=c*ye,X+=c*be,he+=c*_e,ee+=c*De,de+=c*Se,j+=c*Ae,$+=c*Ie,P+=c*Ce,c=D[6],A+=c*N,z+=c*H,K+=c*q,F+=c*ie,k+=c*ae,G+=c*le,Y+=c*fe,Q+=c*ce,X+=c*ye,he+=c*be,ee+=c*_e,de+=c*De,j+=c*Se,$+=c*Ae,P+=c*Ie,u+=c*Ce,c=D[7],z+=c*N,K+=c*H,F+=c*q,k+=c*ie,G+=c*ae,Y+=c*le,Q+=c*fe,X+=c*ce,he+=c*ye,ee+=c*be,de+=c*_e,j+=c*De,$+=c*Se,P+=c*Ae,u+=c*Ie,O+=c*Ce,c=D[8],K+=c*N,F+=c*H,k+=c*q,G+=c*ie,Y+=c*ae,Q+=c*le,X+=c*fe,he+=c*ce,ee+=c*ye,de+=c*be,j+=c*_e,$+=c*De,P+=c*Se,u+=c*Ae,O+=c*Ie,Z+=c*Ce,c=D[9],F+=c*N,k+=c*H,G+=c*q,Y+=c*ie,Q+=c*ae,X+=c*le,he+=c*fe,ee+=c*ce,de+=c*ye,j+=c*be,$+=c*_e,P+=c*De,u+=c*Se,O+=c*Ae,Z+=c*Ie,te+=c*Ce,c=D[10],k+=c*N,G+=c*H,Y+=c*q,Q+=c*ie,X+=c*ae,he+=c*le,ee+=c*fe,de+=c*ce,j+=c*ye,$+=c*be,P+=c*_e,u+=c*De,O+=c*Se,Z+=c*Ae,te+=c*Ie,we+=c*Ce,c=D[11],G+=c*N,Y+=c*H,Q+=c*q,X+=c*ie,he+=c*ae,ee+=c*le,de+=c*fe,j+=c*ce,$+=c*ye,P+=c*be,u+=c*_e,O+=c*De,Z+=c*Se,te+=c*Ae,we+=c*Ie,xe+=c*Ce,c=D[12],Y+=c*N,Q+=c*H,X+=c*q,he+=c*ie,ee+=c*ae,de+=c*le,j+=c*fe,$+=c*ce,P+=c*ye,u+=c*be,O+=c*_e,Z+=c*De,te+=c*Se,we+=c*Ae,xe+=c*Ie,g+=c*Ce,c=D[13],Q+=c*N,X+=c*H,he+=c*q,ee+=c*ie,de+=c*ae,j+=c*le,$+=c*fe,P+=c*ce,u+=c*ye,O+=c*be,Z+=c*_e,te+=c*De,we+=c*Se,xe+=c*Ae,g+=c*Ie,l+=c*Ce,c=D[14],X+=c*N,he+=c*H,ee+=c*q,de+=c*ie,j+=c*ae,$+=c*le,P+=c*fe,u+=c*ce,O+=c*ye,Z+=c*be,te+=c*_e,we+=c*De,xe+=c*Se,g+=c*Ae,l+=c*Ie,h+=c*Ce,c=D[15],he+=c*N,ee+=c*H,de+=c*q,j+=c*ie,$+=c*ae,P+=c*le,u+=c*fe,O+=c*ce,Z+=c*ye,te+=c*be,we+=c*_e,xe+=c*De,g+=c*Se,l+=c*Ae,h+=c*Ie,b+=c*Ce,W+=38*ee,V+=38*de,re+=38*j,ne+=38*$,L+=38*P,y+=38*u,A+=38*O,z+=38*Z,K+=38*te,F+=38*we,k+=38*xe,G+=38*g,Y+=38*l,Q+=38*h,X+=38*b,_=1,c=W+_+65535,_=Math.floor(c/65536),W=c-_*65536,c=V+_+65535,_=Math.floor(c/65536),V=c-_*65536,c=re+_+65535,_=Math.floor(c/65536),re=c-_*65536,c=ne+_+65535,_=Math.floor(c/65536),ne=c-_*65536,c=L+_+65535,_=Math.floor(c/65536),L=c-_*65536,c=y+_+65535,_=Math.floor(c/65536),y=c-_*65536,c=A+_+65535,_=Math.floor(c/65536),A=c-_*65536,c=z+_+65535,_=Math.floor(c/65536),z=c-_*65536,c=K+_+65535,_=Math.floor(c/65536),K=c-_*65536,c=F+_+65535,_=Math.floor(c/65536),F=c-_*65536,c=k+_+65535,_=Math.floor(c/65536),k=c-_*65536,c=G+_+65535,_=Math.floor(c/65536),G=c-_*65536,c=Y+_+65535,_=Math.floor(c/65536),Y=c-_*65536,c=Q+_+65535,_=Math.floor(c/65536),Q=c-_*65536,c=X+_+65535,_=Math.floor(c/65536),X=c-_*65536,c=he+_+65535,_=Math.floor(c/65536),he=c-_*65536,W+=_-1+37*(_-1),_=1,c=W+_+65535,_=Math.floor(c/65536),W=c-_*65536,c=V+_+65535,_=Math.floor(c/65536),V=c-_*65536,c=re+_+65535,_=Math.floor(c/65536),re=c-_*65536,c=ne+_+65535,_=Math.floor(c/65536),ne=c-_*65536,c=L+_+65535,_=Math.floor(c/65536),L=c-_*65536,c=y+_+65535,_=Math.floor(c/65536),y=c-_*65536,c=A+_+65535,_=Math.floor(c/65536),A=c-_*65536,c=z+_+65535,_=Math.floor(c/65536),z=c-_*65536,c=K+_+65535,_=Math.floor(c/65536),K=c-_*65536,c=F+_+65535,_=Math.floor(c/65536),F=c-_*65536,c=k+_+65535,_=Math.floor(c/65536),k=c-_*65536,c=G+_+65535,_=Math.floor(c/65536),G=c-_*65536,c=Y+_+65535,_=Math.floor(c/65536),Y=c-_*65536,c=Q+_+65535,_=Math.floor(c/65536),Q=c-_*65536,c=X+_+65535,_=Math.floor(c/65536),X=c-_*65536,c=he+_+65535,_=Math.floor(c/65536),he=c-_*65536,W+=_-1+37*(_-1),v[0]=W,v[1]=V,v[2]=re,v[3]=ne,v[4]=L,v[5]=y,v[6]=A,v[7]=z,v[8]=K,v[9]=F,v[10]=k,v[11]=G,v[12]=Y,v[13]=Q,v[14]=X,v[15]=he}function I(v,D){T(v,D,D)}function x(v,D){for(var C=n(),c=0;c<16;c++)C[c]=D[c];for(var c=253;c>=0;c--)I(C,C),c!==2&&c!==4&&T(C,C,D);for(var c=0;c<16;c++)v[c]=C[c]}function U(v,D){for(var C=new Uint8Array(32),c=new Float64Array(80),_=n(),W=n(),V=n(),re=n(),ne=n(),L=n(),y=0;y<31;y++)C[y]=v[y];C[31]=v[31]&127|64,C[0]&=248,p(c,D);for(var y=0;y<16;y++)W[y]=c[y];_[0]=re[0]=1;for(var y=254;y>=0;--y){var A=C[y>>>3]>>>(y&7)&1;s(_,W,A),s(V,re,A),d(ne,_,V),E(_,_,V),d(V,W,re),E(W,W,re),I(re,ne),I(L,_),T(_,V,_),T(V,W,ne),d(ne,_,V),E(_,_,V),I(W,_),E(V,re,L),T(_,V,o),d(_,_,re),T(V,V,_),T(_,re,L),T(re,W,c),I(W,ne),s(_,W,A),s(V,re,A)}for(var y=0;y<16;y++)c[y+16]=_[y],c[y+32]=V[y],c[y+48]=W[y],c[y+64]=re[y];var z=c.subarray(32),K=c.subarray(16);x(z,z),T(K,K,z);var F=new Uint8Array(32);return f(F,K),F}t.scalarMult=U;function R(v){return U(v,i)}t.scalarMultBase=R;function B(v){if(v.length!==t.SECRET_KEY_LENGTH)throw new Error("x25519: seed must be "+t.SECRET_KEY_LENGTH+" bytes");var D=new Uint8Array(v),C=R(D);return{publicKey:C,secretKey:D}}t.generateKeyPairFromSeed=B;function m(v){var D=e.randomBytes(32,v),C=B(D);return r.wipe(D),C}t.generateKeyPair=m;function S(v,D,C){if(C===void 0&&(C=!1),v.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(D.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");var c=U(v,D);if(C){for(var _=0,W=0;W<c.length;W++)_|=c[W];if(_===0)throw new Error("X25519: invalid shared key")}return c}t.sharedKey=S})(jo);var ea=globalThis&&globalThis.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},e1=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),t1=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),r1=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),n1=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),i1=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),o1=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,s1=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ta=3,a1=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",o1]],ra=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function c1(t){return t?na(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new i1:typeof navigator<"u"?na(navigator.userAgent):f1()}function u1(t){return t!==""&&a1.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var o=i.exec(t);return!!o&&[n,o]},!1)}function na(t){var e=u1(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new n1;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<ta&&(i=ea(ea([],i,!0),h1(ta-i.length),!0)):i=[];var o=i.join("."),a=l1(t),s=s1.exec(t);return s&&s[1]?new r1(r,o,a,s[1]):new e1(r,o,a)}function l1(t){for(var e=0,r=ra.length;e<r;e++){var n=ra[e],i=n[0],o=n[1],a=o.exec(t);if(a)return i}return null}function f1(){var t=typeof process<"u"&&process.version;return t?new t1(process.version.slice(1)):null}function h1(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var Xr={},d1=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),al="%[a-f0-9]{2}",ia=new RegExp(al,"gi"),oa=new RegExp("("+al+")+","gi");function Gi(t,e){try{return decodeURIComponent(t.join(""))}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],Gi(r),Gi(n))}function p1(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(ia),r=1;r<e.length;r++)t=Gi(e,r).join(""),e=t.match(ia);return t}}function g1(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=oa.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=p1(r[0]);n!==r[0]&&(e[r[0]]=n)}r=oa.exec(t)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),o=0;o<i.length;o++){var a=i[o];t=t.replace(new RegExp(a,"g"),e[a])}return t}var _1=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return g1(t)}},v1=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]},y1=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),o=0;o<n.length;o++){var a=n[o],s=t[a];(i?e.indexOf(a)!==-1:e(a,s,t))&&(r[a]=s)}return r};(function(t){const e=d1,r=_1,n=v1,i=y1,o=m=>m==null,a=Symbol("encodeFragmentIdentifier");function s(m){switch(m.arrayFormat){case"index":return S=>(v,D)=>{const C=v.length;return D===void 0||m.skipNull&&D===null||m.skipEmptyString&&D===""?v:D===null?[...v,[d(S,m),"[",C,"]"].join("")]:[...v,[d(S,m),"[",d(C,m),"]=",d(D,m)].join("")]};case"bracket":return S=>(v,D)=>D===void 0||m.skipNull&&D===null||m.skipEmptyString&&D===""?v:D===null?[...v,[d(S,m),"[]"].join("")]:[...v,[d(S,m),"[]=",d(D,m)].join("")];case"colon-list-separator":return S=>(v,D)=>D===void 0||m.skipNull&&D===null||m.skipEmptyString&&D===""?v:D===null?[...v,[d(S,m),":list="].join("")]:[...v,[d(S,m),":list=",d(D,m)].join("")];case"comma":case"separator":case"bracket-separator":{const S=m.arrayFormat==="bracket-separator"?"[]=":"=";return v=>(D,C)=>C===void 0||m.skipNull&&C===null||m.skipEmptyString&&C===""?D:(C=C===null?"":C,D.length===0?[[d(v,m),S,d(C,m)].join("")]:[[D,d(C,m)].join(m.arrayFormatSeparator)])}default:return S=>(v,D)=>D===void 0||m.skipNull&&D===null||m.skipEmptyString&&D===""?v:D===null?[...v,d(S,m)]:[...v,[d(S,m),"=",d(D,m)].join("")]}}function f(m){let S;switch(m.arrayFormat){case"index":return(v,D,C)=>{if(S=/\[(\d*)\]$/.exec(v),v=v.replace(/\[\d*\]$/,""),!S){C[v]=D;return}C[v]===void 0&&(C[v]={}),C[v][S[1]]=D};case"bracket":return(v,D,C)=>{if(S=/(\[\])$/.exec(v),v=v.replace(/\[\]$/,""),!S){C[v]=D;return}if(C[v]===void 0){C[v]=[D];return}C[v]=[].concat(C[v],D)};case"colon-list-separator":return(v,D,C)=>{if(S=/(:list)$/.exec(v),v=v.replace(/:list$/,""),!S){C[v]=D;return}if(C[v]===void 0){C[v]=[D];return}C[v]=[].concat(C[v],D)};case"comma":case"separator":return(v,D,C)=>{const c=typeof D=="string"&&D.includes(m.arrayFormatSeparator),_=typeof D=="string"&&!c&&E(D,m).includes(m.arrayFormatSeparator);D=_?E(D,m):D;const W=c||_?D.split(m.arrayFormatSeparator).map(V=>E(V,m)):D===null?D:E(D,m);C[v]=W};case"bracket-separator":return(v,D,C)=>{const c=/(\[\])$/.test(v);if(v=v.replace(/\[\]$/,""),!c){C[v]=D&&E(D,m);return}const _=D===null?[]:D.split(m.arrayFormatSeparator).map(W=>E(W,m));if(C[v]===void 0){C[v]=_;return}C[v]=[].concat(C[v],_)};default:return(v,D,C)=>{if(C[v]===void 0){C[v]=D;return}C[v]=[].concat(C[v],D)}}}function p(m){if(typeof m!="string"||m.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function d(m,S){return S.encode?S.strict?e(m):encodeURIComponent(m):m}function E(m,S){return S.decode?r(m):m}function T(m){return Array.isArray(m)?m.sort():typeof m=="object"?T(Object.keys(m)).sort((S,v)=>Number(S)-Number(v)).map(S=>m[S]):m}function I(m){const S=m.indexOf("#");return S!==-1&&(m=m.slice(0,S)),m}function x(m){let S="";const v=m.indexOf("#");return v!==-1&&(S=m.slice(v)),S}function U(m){m=I(m);const S=m.indexOf("?");return S===-1?"":m.slice(S+1)}function R(m,S){return S.parseNumbers&&!Number.isNaN(Number(m))&&typeof m=="string"&&m.trim()!==""?m=Number(m):S.parseBooleans&&m!==null&&(m.toLowerCase()==="true"||m.toLowerCase()==="false")&&(m=m.toLowerCase()==="true"),m}function B(m,S){S=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},S),p(S.arrayFormatSeparator);const v=f(S),D=Object.create(null);if(typeof m!="string"||(m=m.trim().replace(/^[?#&]/,""),!m))return D;for(const C of m.split("&")){if(C==="")continue;let[c,_]=n(S.decode?C.replace(/\+/g," "):C,"=");_=_===void 0?null:["comma","separator","bracket-separator"].includes(S.arrayFormat)?_:E(_,S),v(E(c,S),_,D)}for(const C of Object.keys(D)){const c=D[C];if(typeof c=="object"&&c!==null)for(const _ of Object.keys(c))c[_]=R(c[_],S);else D[C]=R(c,S)}return S.sort===!1?D:(S.sort===!0?Object.keys(D).sort():Object.keys(D).sort(S.sort)).reduce((C,c)=>{const _=D[c];return Boolean(_)&&typeof _=="object"&&!Array.isArray(_)?C[c]=T(_):C[c]=_,C},Object.create(null))}t.extract=U,t.parse=B,t.stringify=(m,S)=>{if(!m)return"";S=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},S),p(S.arrayFormatSeparator);const v=_=>S.skipNull&&o(m[_])||S.skipEmptyString&&m[_]==="",D=s(S),C={};for(const _ of Object.keys(m))v(_)||(C[_]=m[_]);const c=Object.keys(C);return S.sort!==!1&&c.sort(S.sort),c.map(_=>{const W=m[_];return W===void 0?"":W===null?d(_,S):Array.isArray(W)?W.length===0&&S.arrayFormat==="bracket-separator"?d(_,S)+"[]":W.reduce(D(_),[]).join("&"):d(_,S)+"="+d(W,S)}).filter(_=>_.length>0).join("&")},t.parseUrl=(m,S)=>{S=Object.assign({decode:!0},S);const[v,D]=n(m,"#");return Object.assign({url:v.split("?")[0]||"",query:B(U(m),S)},S&&S.parseFragmentIdentifier&&D?{fragmentIdentifier:E(D,S)}:{})},t.stringifyUrl=(m,S)=>{S=Object.assign({encode:!0,strict:!0,[a]:!0},S);const v=I(m.url).split("?")[0]||"",D=t.extract(m.url),C=t.parse(D,{sort:!1}),c=Object.assign(C,m.query);let _=t.stringify(c,S);_&&(_=`?${_}`);let W=x(m.url);return m.fragmentIdentifier&&(W=`#${S[a]?d(m.fragmentIdentifier,S):m.fragmentIdentifier}`),`${v}${_}${W}`},t.pick=(m,S,v)=>{v=Object.assign({parseFragmentIdentifier:!0,[a]:!1},v);const{url:D,query:C,fragmentIdentifier:c}=t.parseUrl(m,v);return t.stringifyUrl({url:D,query:i(C,S),fragmentIdentifier:c},v)},t.exclude=(m,S,v)=>{const D=Array.isArray(S)?C=>!S.includes(C):(C,c)=>!S(C,c);return t.pick(m,D,v)}})(Xr);const m1={waku:{publish:"waku_publish",subscribe:"waku_subscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe"},irn:{publish:"irn_publish",subscribe:"irn_subscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe"},iridium:{publish:"iridium_publish",subscribe:"iridium_subscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe"}},w1=":";function b1(t){const[e,r,n]=t.split(w1);return{namespace:e,reference:r,address:n}}const cl="base10",gt="base16",Yi="base64pad",zo="utf8",ul=0,cn=1,E1=0,sa=1,Ji=12,ko=32;function x1(){const t=jo.generateKeyPair();return{privateKey:_t(t.secretKey,gt),publicKey:_t(t.publicKey,gt)}}function Xi(){const t=Mo.randomBytes(ko);return _t(t,gt)}function D1(t,e){const r=jo.sharedKey(pt(t,gt),pt(e,gt)),n=new W_(oi.SHA256,r).expand(ko);return _t(n,gt)}function S1(t){const e=oi.hash(pt(t,gt));return _t(e,gt)}function Ln(t){const e=oi.hash(pt(t,zo));return _t(e,gt)}function C1(t){return pt(`${t}`,cl)}function si(t){return Number(_t(t,cl))}function A1(t){const e=C1(typeof t.type<"u"?t.type:ul);if(si(e)===cn&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?pt(t.senderPublicKey,gt):void 0,n=typeof t.iv<"u"?pt(t.iv,gt):Mo.randomBytes(Ji),i=new Po.ChaCha20Poly1305(pt(t.symKey,gt)).seal(n,pt(t.message,zo));return O1({type:e,sealed:i,iv:n,senderPublicKey:r})}function I1(t){const e=new Po.ChaCha20Poly1305(pt(t.symKey,gt)),{sealed:r,iv:n}=ll(t.encoded),i=e.open(n,r);if(i===null)throw new Error("Failed to decrypt");return _t(i,zo)}function O1(t){if(si(t.type)===cn){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return _t(Hi([t.type,t.senderPublicKey,t.iv,t.sealed]),Yi)}return _t(Hi([t.type,t.iv,t.sealed]),Yi)}function ll(t){const e=pt(t,Yi),r=e.slice(E1,sa),n=sa;if(si(r)===cn){const s=n+ko,f=s+Ji,p=e.slice(n,s),d=e.slice(s,f),E=e.slice(f);return{type:r,sealed:E,iv:d,senderPublicKey:p}}const i=n+Ji,o=e.slice(n,i),a=e.slice(i);return{type:r,sealed:a,iv:o}}function T1(t,e){const r=ll(t);return fl({type:si(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?_t(r.senderPublicKey,gt):void 0,receiverPublicKey:e?.receiverPublicKey})}function fl(t){const e=t?.type||ul;if(e===cn){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function aa(t){return t.type===cn&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}var N1=Object.defineProperty,ca=Object.getOwnPropertySymbols,R1=Object.prototype.hasOwnProperty,L1=Object.prototype.propertyIsEnumerable,ua=(t,e,r)=>e in t?N1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,la=(t,e)=>{for(var r in e||(e={}))R1.call(e,r)&&ua(t,r,e[r]);if(ca)for(var r of ca(e))L1.call(e,r)&&ua(t,r,e[r]);return t};const P1="ReactNative",jr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},F1="js";function hl(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function M1(){return!so()&&!!Fn()&&navigator.product===P1}function U1(){return!hl()&&!!Fn()}function B1(){return M1()?jr.reactNative:hl()?jr.node:U1()?jr.browser:jr.unknown}function $1(t,e){let r=Xr.parse(t);return r=la(la({},r),e),t=Xr.stringify(r),t}function j1(){return co()||{name:"",description:"",url:"",icons:[""]}}function z1(){const t=c1();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function k1(){var t;const e=B1();return e===jr.browser?[e,((t=ao())==null?void 0:t.host)||"unknown"].join(":"):e}function K1(t,e,r){const n=z1(),i=k1();return[[t,e].join("-"),[F1,r].join("-"),n,i].join("/")}function H1({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:o}){const a=r.split("?"),s=K1(t,e,n),f={auth:i,ua:s,projectId:o},p=$1(a[1]||"",f);return a[0]+"?"+p}function ft(t,e){return t.filter(r=>e.includes(r)).length===t.length}function dl(t){return Object.fromEntries(t.entries())}function pl(t){return new Map(Object.entries(t))}function mr(t,e){return Pe.fromMiliseconds((e||Date.now())+Pe.toMiliseconds(t))}function sr(t){return Pe.fromMiliseconds(Date.now())>=Pe.toMiliseconds(t)}function ar(){const t=Pe.toMiliseconds(Pe.FIVE_MINUTES);let e,r,n;return{resolve:i=>{n&&e&&(clearTimeout(n),e(i))},reject:i=>{n&&r&&(clearTimeout(n),r(i))},done:()=>new Promise((i,o)=>{n=setTimeout(o,t),e=i,r=o})}}function gl(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function V1(t){return gl("topic",t)}function q1(t){return gl("id",t)}function W1(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Be(t,e){return`${t}${e?`:${e}`:""}`}const G1="irn";function Qi(t){return t?.relay||{protocol:G1}}function Zi(t){const e=m1[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Y1=Object.defineProperty,fa=Object.getOwnPropertySymbols,J1=Object.prototype.hasOwnProperty,X1=Object.prototype.propertyIsEnumerable,ha=(t,e,r)=>e in t?Y1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Q1=(t,e)=>{for(var r in e||(e={}))J1.call(e,r)&&ha(t,r,e[r]);if(fa)for(var r of fa(e))X1.call(e,r)&&ha(t,r,e[r]);return t};function Z1(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const o=i.replace(n,""),a=t[i];r[o]=a}}),r}function ev(t){const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),o=typeof r<"u"?t.substring(r):"",a=Xr.parse(o);return{protocol:n,topic:i[0],version:parseInt(i[1],10),symKey:a.symKey,relay:Z1(a)}}function tv(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const o=r+e+i;t[i]&&(n[o]=t[i])}),n}function rv(t){return`${t.protocol}:${t.topic}@${t.version}?`+Xr.stringify(Q1({symKey:t.symKey},tv(t.relay)))}function Lt(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function nv(t){const e=[];return Object.values(t).forEach(r=>{e.push(...Lt(r.accounts)),r.extension&&r.extension.forEach(n=>{e.push(...Lt(n.accounts))})}),e}function iv(t,e){const r=[];return Object.values(t).forEach(n=>{Lt(n.accounts).includes(e)&&r.push(...n.methods),n.extension&&n.extension.forEach(i=>{Lt(i.accounts).includes(e)&&r.push(...i.methods)})}),r}function ov(t,e){const r=[];return Object.values(t).forEach(n=>{Lt(n.accounts).includes(e)&&r.push(...n.events),n.extension&&n.extension.forEach(i=>{Lt(i.accounts).includes(e)&&r.push(...i.events)})}),r}const sv={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3}},av={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function se(t,e){const{message:r,code:n}=av[t];return{message:e?`${r} ${e}`:r,code:n}}function nt(t,e){const{message:r,code:n}=sv[t];return{message:e?`${r} ${e}`:r,code:n}}function un(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function _l(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function xt(t){return typeof t>"u"}function ct(t,e){return e&&xt(t)?!0:typeof t=="string"&&Boolean(t.trim().length)}function vl(t,e){return e&&xt(t)?!0:typeof t=="number"&&!isNaN(t)}function cv(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let o=!0;return ft(i,n)?(n.forEach(a=>{const{accounts:s,methods:f,events:p,extension:d}=t.namespaces[a],E=Lt(s),T=r[a];(!ft(T.chains,E)||!ft(T.methods,f)||!ft(T.events,p))&&(o=!1),o&&d&&d.forEach(I=>{var x;const{accounts:U,methods:R,events:B}=I,m=Lt(U);(x=T.extension)!=null&&x.find(S=>ft(S.chains,m)&&ft(S.methods,R)&&ft(S.events,B))||(o=!1)})}),o):!1}function Ko(t){return ct(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function uv(t){if(ct(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&Ko(r)}}return!1}function lv(t){if(ct(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}function fv(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function hv(t){return t?.topic}function dv(t,e){let r=null;return ct(t?.publicKey,!1)||(r=se("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function Ho(t,e){let r=null;return xt(t?.extension)||(!un(t.extension)||!t.extension.length)&&(r=se("MISSING_OR_INVALID",`${e} extension should be an array of namespaces, or omitted`)),r}function da(t){let e=!0;return un(t)?t.length&&(e=t.every(r=>ct(r,!1))):e=!1,e}function pa(t,e,r){let n=null;return un(e)?e.forEach(i=>{n||(!Ko(i)||!i.includes(t))&&(n=nt("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):n=nt("UNSUPPORTED_CHAINS",`${r}, chains ${e} should be an array of strings conforming to "namespace:chainId" format`),n}function pv(t,e){let r=null;return Object.entries(t).forEach(([n,i])=>{if(r)return;const o=pa(n,i?.chains,`${e} requiredNamespace`),a=Ho(i,e);o?r=o:a?r=a:i.extension&&i.extension.forEach(s=>{if(r)return;const f=pa(n,s.chains,`${e} extension`);f&&(r=f)})}),r}function ga(t,e){let r=null;return un(t)?t.forEach(n=>{r||uv(n)||(r=nt("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=nt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function gv(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=ga(n?.accounts,`${e} namespace`),o=Ho(n,e);i?r=i:o?r=o:n.extension&&n.extension.forEach(a=>{if(r)return;const s=ga(a.accounts,`${e} extension`);s&&(r=s)})}),r}function _a(t,e){let r=null;return da(t?.methods)?da(t?.events)||(r=nt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=nt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function yl(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=_a(n,`${e}, namespace`),o=Ho(n,e);i?r=i:o?r=o:n.extension&&n.extension.forEach(a=>{if(r)return;const s=_a(a,`${e}, extension`);s&&(r=s)})}),r}function _v(t,e){let r=null;if(t&&_l(t)){const n=yl(t,e);n&&(r=n);const i=pv(t,e);i&&(r=i)}else r=se("MISSING_OR_INVALID",`${e}, requiredNamespaces should be an object with data`);return r}function xi(t,e){let r=null;if(t&&_l(t)){const n=yl(t,e);n&&(r=n);const i=gv(t,e);i&&(r=i)}else r=se("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function ml(t){return ct(t.protocol,!0)}function vv(t,e){let r=!1;return e&&!t?r=!0:t&&un(t)&&t.length&&t.forEach(n=>{r=ml(n)}),r}function yv(t){return typeof t=="number"}function Et(t){return typeof t<"u"&&typeof t!==null}function mv(t){return!(!t||typeof t!="object"||!t.code||!vl(t.code,!1)||!t.message||!ct(t.message,!1))}function wv(t){return!(xt(t)||!ct(t.method,!1))}function bv(t){return!(xt(t)||xt(t.result)&&xt(t.error)||!vl(t.id,!1)||!ct(t.jsonrpc,!1))}function Ev(t){return!(xt(t)||!ct(t.name,!1))}function va(t,e){return!(!Ko(e)||!nv(t).includes(e))}function xv(t,e,r){return ct(r,!1)?iv(t,e).includes(r):!1}function Dv(t,e,r){return ct(r,!1)?ov(t,e).includes(r):!1}function ya(t,e,r){let n=null;const i=Object.keys(t),o=Object.keys(e);return ft(i,o)?i.forEach(a=>{var s;if(n)return;const f=t[a].chains,p=Lt(e[a].accounts);ft(f,p)?ft(t[a].methods,e[a].methods)?ft(t[a].events,e[a].events)?t[a].extension&&!e[a].extension?n=se("NON_CONFORMING_NAMESPACES",`${r} namespaces extension doesn't satisfy requiredNamespaces extension for ${a}`):t[a].extension&&e[a].extension&&((s=t[a].extension)==null||s.forEach(({methods:d,events:E,chains:T})=>{var I;n||(I=e[a].extension)!=null&&I.find(x=>{const U=Lt(x.accounts);return ft(T,U)&&ft(E,x.events)&&ft(d,x.methods)})||(n=se("NON_CONFORMING_NAMESPACES",`${r} namespaces extension doesn't satisfy requiredNamespaces extension for ${a}`))})):n=se("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy requiredNamespaces events for ${a}`):n=se("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy requiredNamespaces methods for ${a}`):n=se("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy requiredNamespaces chains for ${a}`)}):n=se("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces`),n}const Sv="PARSE_ERROR",Cv="INVALID_REQUEST",Av="METHOD_NOT_FOUND",Iv="INVALID_PARAMS",wl="INTERNAL_ERROR",Vo="SERVER_ERROR",Ov=[-32700,-32600,-32601,-32602,-32603],Vr={[Sv]:{code:-32700,message:"Parse error"},[Cv]:{code:-32600,message:"Invalid Request"},[Av]:{code:-32601,message:"Method not found"},[Iv]:{code:-32602,message:"Invalid params"},[wl]:{code:-32603,message:"Internal error"},[Vo]:{code:-32e3,message:"Server error"}},bl=Vo;function Tv(t){return Ov.includes(t)}function ma(t){return Object.keys(Vr).includes(t)?Vr[t]:Vr[bl]}function Nv(t){const e=Object.values(Vr).find(r=>r.code===t);return e||Vr[bl]}function Rv(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var El={},Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.isBrowserCryptoAvailable=Xt.getSubtleCrypto=Xt.getBrowerCrypto=void 0;function qo(){return(ge===null||ge===void 0?void 0:ge.crypto)||(ge===null||ge===void 0?void 0:ge.msCrypto)||{}}Xt.getBrowerCrypto=qo;function xl(){const t=qo();return t.subtle||t.webkitSubtle}Xt.getSubtleCrypto=xl;function Lv(){return!!qo()&&!!xl()}Xt.isBrowserCryptoAvailable=Lv;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.isBrowser=Qt.isNode=Qt.isReactNative=void 0;function Dl(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Qt.isReactNative=Dl;function Sl(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Qt.isNode=Sl;function Pv(){return!Dl()&&!Sl()}Qt.isBrowser=Pv;(function(t){var e=ge&&ge.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=ge&&ge.__exportStar||function(n,i){for(var o in n)o!=="default"&&!i.hasOwnProperty(o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Xt,t),r(Qt,t)})(El);function Fv(){const t=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return t+e}function Wo(t,e,r){return{id:r||Fv(),jsonrpc:"2.0",method:t,params:e}}function Cl(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Al(t,e,r){return{id:t,jsonrpc:"2.0",error:Mv(e,r)}}function Mv(t,e){return typeof t>"u"?ma(wl):(typeof t=="string"&&(t=Object.assign(Object.assign({},ma(Vo)),{message:t})),typeof e<"u"&&(t.data=e),Tv(t.code)&&(t=Nv(t.code)),t)}class Uv{}class Bv extends Uv{constructor(){super()}}class $v extends Bv{constructor(e){super()}}const jv="^wss?:";function zv(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function kv(t,e){const r=zv(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function wa(t){return kv(t,jv)}function Kv(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Il(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function Ol(t){return Il(t)&&"method"in t}function Tl(t){return Il(t)&&(jt(t)||At(t))}function jt(t){return"result"in t}function At(t){return"error"in t}class Hv extends $v{constructor(e){super(e),this.events=new io.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Wo(e.method,e.params||[]),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(o){i(o)}this.events.on(`${e.id}`,o=>{At(o)?i(o.error):n(o.result)});try{await this.connection.send(e,r)}catch(o){i(o)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Tl(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}}const ba=10,Vv=typeof global.WebSocket<"u"?global.WebSocket:require("ws");class qv{constructor(e){if(this.url=e,this.events=new io.exports.EventEmitter,this.registering=!1,!wa(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(typeof this.socket>"u")throw new Error("Connection already closed");this.socket.close(),this.onClose()}async send(e,r){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Bn(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!wa(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),i(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=El.isReactNative()?void 0:{rejectUnauthorized:!Kv(e)},o=new Vv(e,[],i);o.onopen=()=>{this.onOpen(o),r(o)},o.onerror=a=>{const s=this.parseError(a.error);this.events.emit("register_error",s),this.onClose(),n(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=()=>this.onClose(),e.onerror=r=>{const n=this.parseError(r.error);this.events.emit("error",n)},this.socket=e,this.registering=!1,this.events.emit("open")}onClose(){this.socket=void 0,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?lo(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),o=Al(e,i);this.events.emit("payload",o)}parseError(e,r=this.url){return Rv(e,r,"WS")}resetMaxListeners(){this.events.getMaxListeners()>ba&&this.events.setMaxListeners(ba)}}var eo={exports:{}};(function(t,e){var r=200,n="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",f="[object Array]",p="[object AsyncFunction]",d="[object Boolean]",E="[object Date]",T="[object Error]",I="[object Function]",x="[object GeneratorFunction]",U="[object Map]",R="[object Number]",B="[object Null]",m="[object Object]",S="[object Promise]",v="[object Proxy]",D="[object RegExp]",C="[object Set]",c="[object String]",_="[object Symbol]",W="[object Undefined]",V="[object WeakMap]",re="[object ArrayBuffer]",ne="[object DataView]",L="[object Float32Array]",y="[object Float64Array]",A="[object Int8Array]",z="[object Int16Array]",K="[object Int32Array]",F="[object Uint8Array]",k="[object Uint8ClampedArray]",G="[object Uint16Array]",Y="[object Uint32Array]",Q=/[\\^$.*+?()[\]{}|]/g,X=/^\[object .+?Constructor\]$/,he=/^(?:0|[1-9]\d*)$/,ee={};ee[L]=ee[y]=ee[A]=ee[z]=ee[K]=ee[F]=ee[k]=ee[G]=ee[Y]=!0,ee[s]=ee[f]=ee[re]=ee[d]=ee[ne]=ee[E]=ee[T]=ee[I]=ee[U]=ee[R]=ee[m]=ee[D]=ee[C]=ee[c]=ee[V]=!1;var de=typeof ge=="object"&&ge&&ge.Object===Object&&ge,j=typeof self=="object"&&self&&self.Object===Object&&self,$=de||j||Function("return this")(),P=e&&!e.nodeType&&e,u=P&&!0&&t&&!t.nodeType&&t,O=u&&u.exports===P,Z=O&&de.process,te=function(){try{return Z&&Z.binding&&Z.binding("util")}catch{}}(),we=te&&te.isTypedArray;function xe(w,M){for(var J=-1,ue=w==null?0:w.length,Ne=0,me=[];++J<ue;){var Ue=w[J];M(Ue,J,w)&&(me[Ne++]=Ue)}return me}function g(w,M){for(var J=-1,ue=M.length,Ne=w.length;++J<ue;)w[Ne+J]=M[J];return w}function l(w,M){for(var J=-1,ue=w==null?0:w.length;++J<ue;)if(M(w[J],J,w))return!0;return!1}function h(w,M){for(var J=-1,ue=Array(w);++J<w;)ue[J]=M(J);return ue}function b(w){return function(M){return w(M)}}function N(w,M){return w.has(M)}function H(w,M){return w?.[M]}function q(w){var M=-1,J=Array(w.size);return w.forEach(function(ue,Ne){J[++M]=[Ne,ue]}),J}function ie(w,M){return function(J){return w(M(J))}}function ae(w){var M=-1,J=Array(w.size);return w.forEach(function(ue){J[++M]=ue}),J}var le=Array.prototype,fe=Function.prototype,ce=Object.prototype,ye=$["__core-js_shared__"],be=fe.toString,_e=ce.hasOwnProperty,De=function(){var w=/[^.]+$/.exec(ye&&ye.keys&&ye.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),Se=ce.toString,Ae=RegExp("^"+be.call(_e).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ie=O?$.Buffer:void 0,Ce=$.Symbol,Dt=$.Uint8Array,Ot=ce.propertyIsEnumerable,Ht=le.splice,vt=Ce?Ce.toStringTag:void 0,rr=Object.getOwnPropertySymbols,Pr=Ie?Ie.isBuffer:void 0,hn=ie(Object.keys,Object),$e=pr($,"DataView"),Fe=pr($,"Map"),je=pr($,"Promise"),ze=pr($,"Set"),ke=pr($,"WeakMap"),Me=pr(Object,"create"),Ve=ir($e),qe=ir(Fe),We=ir(je),Ge=ir(ze),Ye=ir(ke),He=Ce?Ce.prototype:void 0,Ke=He?He.valueOf:void 0;function Re(w){var M=-1,J=w==null?0:w.length;for(this.clear();++M<J;){var ue=w[M];this.set(ue[0],ue[1])}}function Je(){this.__data__=Me?Me(null):{},this.size=0}function Xe(w){var M=this.has(w)&&delete this.__data__[w];return this.size-=M?1:0,M}function Vl(w){var M=this.__data__;if(Me){var J=M[w];return J===n?void 0:J}return _e.call(M,w)?M[w]:void 0}function ql(w){var M=this.__data__;return Me?M[w]!==void 0:_e.call(M,w)}function Wl(w,M){var J=this.__data__;return this.size+=this.has(w)?0:1,J[w]=Me&&M===void 0?n:M,this}Re.prototype.clear=Je,Re.prototype.delete=Xe,Re.prototype.get=Vl,Re.prototype.has=ql,Re.prototype.set=Wl;function Ft(w){var M=-1,J=w==null?0:w.length;for(this.clear();++M<J;){var ue=w[M];this.set(ue[0],ue[1])}}function Gl(){this.__data__=[],this.size=0}function Yl(w){var M=this.__data__,J=pn(M,w);if(J<0)return!1;var ue=M.length-1;return J==ue?M.pop():Ht.call(M,J,1),--this.size,!0}function Jl(w){var M=this.__data__,J=pn(M,w);return J<0?void 0:M[J][1]}function Xl(w){return pn(this.__data__,w)>-1}function Ql(w,M){var J=this.__data__,ue=pn(J,w);return ue<0?(++this.size,J.push([w,M])):J[ue][1]=M,this}Ft.prototype.clear=Gl,Ft.prototype.delete=Yl,Ft.prototype.get=Jl,Ft.prototype.has=Xl,Ft.prototype.set=Ql;function nr(w){var M=-1,J=w==null?0:w.length;for(this.clear();++M<J;){var ue=w[M];this.set(ue[0],ue[1])}}function Zl(){this.size=0,this.__data__={hash:new Re,map:new(Fe||Ft),string:new Re}}function ef(w){var M=gn(this,w).delete(w);return this.size-=M?1:0,M}function tf(w){return gn(this,w).get(w)}function rf(w){return gn(this,w).has(w)}function nf(w,M){var J=gn(this,w),ue=J.size;return J.set(w,M),this.size+=J.size==ue?0:1,this}nr.prototype.clear=Zl,nr.prototype.delete=ef,nr.prototype.get=tf,nr.prototype.has=rf,nr.prototype.set=nf;function dn(w){var M=-1,J=w==null?0:w.length;for(this.__data__=new nr;++M<J;)this.add(w[M])}function of(w){return this.__data__.set(w,n),this}function sf(w){return this.__data__.has(w)}dn.prototype.add=dn.prototype.push=of,dn.prototype.has=sf;function Vt(w){var M=this.__data__=new Ft(w);this.size=M.size}function af(){this.__data__=new Ft,this.size=0}function cf(w){var M=this.__data__,J=M.delete(w);return this.size=M.size,J}function uf(w){return this.__data__.get(w)}function lf(w){return this.__data__.has(w)}function ff(w,M){var J=this.__data__;if(J instanceof Ft){var ue=J.__data__;if(!Fe||ue.length<r-1)return ue.push([w,M]),this.size=++J.size,this;J=this.__data__=new nr(ue)}return J.set(w,M),this.size=J.size,this}Vt.prototype.clear=af,Vt.prototype.delete=cf,Vt.prototype.get=uf,Vt.prototype.has=lf,Vt.prototype.set=ff;function hf(w,M){var J=_n(w),ue=!J&&Af(w),Ne=!J&&!ue&&li(w),me=!J&&!ue&&!Ne&&as(w),Ue=J||ue||Ne||me,Qe=Ue?h(w.length,String):[],rt=Qe.length;for(var Le in w)(M||_e.call(w,Le))&&!(Ue&&(Le=="length"||Ne&&(Le=="offset"||Le=="parent")||me&&(Le=="buffer"||Le=="byteLength"||Le=="byteOffset")||Ef(Le,rt)))&&Qe.push(Le);return Qe}function pn(w,M){for(var J=w.length;J--;)if(ns(w[J][0],M))return J;return-1}function df(w,M,J){var ue=M(w);return _n(w)?ue:g(ue,J(w))}function Fr(w){return w==null?w===void 0?W:B:vt&&vt in Object(w)?wf(w):Cf(w)}function Zo(w){return Mr(w)&&Fr(w)==s}function es(w,M,J,ue,Ne){return w===M?!0:w==null||M==null||!Mr(w)&&!Mr(M)?w!==w&&M!==M:pf(w,M,J,ue,es,Ne)}function pf(w,M,J,ue,Ne,me){var Ue=_n(w),Qe=_n(M),rt=Ue?f:qt(w),Le=Qe?f:qt(M);rt=rt==s?m:rt,Le=Le==s?m:Le;var yt=rt==m,St=Le==m,st=rt==Le;if(st&&li(w)){if(!li(M))return!1;Ue=!0,yt=!1}if(st&&!yt)return me||(me=new Vt),Ue||as(w)?ts(w,M,J,ue,Ne,me):yf(w,M,rt,J,ue,Ne,me);if(!(J&i)){var wt=yt&&_e.call(w,"__wrapped__"),bt=St&&_e.call(M,"__wrapped__");if(wt||bt){var Wt=wt?w.value():w,Mt=bt?M.value():M;return me||(me=new Vt),Ne(Wt,Mt,J,ue,me)}}return st?(me||(me=new Vt),mf(w,M,J,ue,Ne,me)):!1}function gf(w){if(!ss(w)||Df(w))return!1;var M=is(w)?Ae:X;return M.test(ir(w))}function _f(w){return Mr(w)&&os(w.length)&&!!ee[Fr(w)]}function vf(w){if(!Sf(w))return hn(w);var M=[];for(var J in Object(w))_e.call(w,J)&&J!="constructor"&&M.push(J);return M}function ts(w,M,J,ue,Ne,me){var Ue=J&i,Qe=w.length,rt=M.length;if(Qe!=rt&&!(Ue&&rt>Qe))return!1;var Le=me.get(w);if(Le&&me.get(M))return Le==M;var yt=-1,St=!0,st=J&o?new dn:void 0;for(me.set(w,M),me.set(M,w);++yt<Qe;){var wt=w[yt],bt=M[yt];if(ue)var Wt=Ue?ue(bt,wt,yt,M,w,me):ue(wt,bt,yt,w,M,me);if(Wt!==void 0){if(Wt)continue;St=!1;break}if(st){if(!l(M,function(Mt,or){if(!N(st,or)&&(wt===Mt||Ne(wt,Mt,J,ue,me)))return st.push(or)})){St=!1;break}}else if(!(wt===bt||Ne(wt,bt,J,ue,me))){St=!1;break}}return me.delete(w),me.delete(M),St}function yf(w,M,J,ue,Ne,me,Ue){switch(J){case ne:if(w.byteLength!=M.byteLength||w.byteOffset!=M.byteOffset)return!1;w=w.buffer,M=M.buffer;case re:return!(w.byteLength!=M.byteLength||!me(new Dt(w),new Dt(M)));case d:case E:case R:return ns(+w,+M);case T:return w.name==M.name&&w.message==M.message;case D:case c:return w==M+"";case U:var Qe=q;case C:var rt=ue&i;if(Qe||(Qe=ae),w.size!=M.size&&!rt)return!1;var Le=Ue.get(w);if(Le)return Le==M;ue|=o,Ue.set(w,M);var yt=ts(Qe(w),Qe(M),ue,Ne,me,Ue);return Ue.delete(w),yt;case _:if(Ke)return Ke.call(w)==Ke.call(M)}return!1}function mf(w,M,J,ue,Ne,me){var Ue=J&i,Qe=rs(w),rt=Qe.length,Le=rs(M),yt=Le.length;if(rt!=yt&&!Ue)return!1;for(var St=rt;St--;){var st=Qe[St];if(!(Ue?st in M:_e.call(M,st)))return!1}var wt=me.get(w);if(wt&&me.get(M))return wt==M;var bt=!0;me.set(w,M),me.set(M,w);for(var Wt=Ue;++St<rt;){st=Qe[St];var Mt=w[st],or=M[st];if(ue)var cs=Ue?ue(or,Mt,st,M,w,me):ue(Mt,or,st,w,M,me);if(!(cs===void 0?Mt===or||Ne(Mt,or,J,ue,me):cs)){bt=!1;break}Wt||(Wt=st=="constructor")}if(bt&&!Wt){var vn=w.constructor,yn=M.constructor;vn!=yn&&"constructor"in w&&"constructor"in M&&!(typeof vn=="function"&&vn instanceof vn&&typeof yn=="function"&&yn instanceof yn)&&(bt=!1)}return me.delete(w),me.delete(M),bt}function rs(w){return df(w,Tf,bf)}function gn(w,M){var J=w.__data__;return xf(M)?J[typeof M=="string"?"string":"hash"]:J.map}function pr(w,M){var J=H(w,M);return gf(J)?J:void 0}function wf(w){var M=_e.call(w,vt),J=w[vt];try{w[vt]=void 0;var ue=!0}catch{}var Ne=Se.call(w);return ue&&(M?w[vt]=J:delete w[vt]),Ne}var bf=rr?function(w){return w==null?[]:(w=Object(w),xe(rr(w),function(M){return Ot.call(w,M)}))}:Nf,qt=Fr;($e&&qt(new $e(new ArrayBuffer(1)))!=ne||Fe&&qt(new Fe)!=U||je&&qt(je.resolve())!=S||ze&&qt(new ze)!=C||ke&&qt(new ke)!=V)&&(qt=function(w){var M=Fr(w),J=M==m?w.constructor:void 0,ue=J?ir(J):"";if(ue)switch(ue){case Ve:return ne;case qe:return U;case We:return S;case Ge:return C;case Ye:return V}return M});function Ef(w,M){return M=M??a,!!M&&(typeof w=="number"||he.test(w))&&w>-1&&w%1==0&&w<M}function xf(w){var M=typeof w;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?w!=="__proto__":w===null}function Df(w){return!!De&&De in w}function Sf(w){var M=w&&w.constructor,J=typeof M=="function"&&M.prototype||ce;return w===J}function Cf(w){return Se.call(w)}function ir(w){if(w!=null){try{return be.call(w)}catch{}try{return w+""}catch{}}return""}function ns(w,M){return w===M||w!==w&&M!==M}var Af=Zo(function(){return arguments}())?Zo:function(w){return Mr(w)&&_e.call(w,"callee")&&!Ot.call(w,"callee")},_n=Array.isArray;function If(w){return w!=null&&os(w.length)&&!is(w)}var li=Pr||Rf;function Of(w,M){return es(w,M)}function is(w){if(!ss(w))return!1;var M=Fr(w);return M==I||M==x||M==p||M==v}function os(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=a}function ss(w){var M=typeof w;return w!=null&&(M=="object"||M=="function")}function Mr(w){return w!=null&&typeof w=="object"}var as=we?b(we):_f;function Tf(w){return If(w)?hf(w):vf(w)}function Nf(){return[]}function Rf(){return!1}t.exports=Of})(eo,eo.exports);var Wv=eo.exports;function et(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var ai=et;et.EventEmitter=et,et.prototype._events=void 0,et.prototype._maxListeners=void 0,et.defaultMaxListeners=10,et.prototype.setMaxListeners=function(t){if(!Gv(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},et.prototype.emit=function(t){var e,r,n,i,o,a;if(this._events||(this._events={}),t==="error"&&(!this._events.error||Br(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var s=new Error('Uncaught, unspecified "error" event. ('+e+")");throw s.context=e,s}if(r=this._events[t],Ea(r))return!1;if(Bt(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(Br(r))for(i=Array.prototype.slice.call(arguments,1),a=r.slice(),n=a.length,o=0;o<n;o++)a[o].apply(this,i);return!0},et.prototype.addListener=function(t,e){var r;if(!Bt(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,Bt(e.listener)?e.listener:e),this._events[t]?Br(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,Br(this._events[t])&&!this._events[t].warned&&(Ea(this._maxListeners)?r=et.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),typeof console.trace=="function"&&console.trace())),this},et.prototype.on=et.prototype.addListener,et.prototype.once=function(t,e){if(!Bt(e))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}return n.listener=e,this.on(t,n),this},et.prototype.removeListener=function(t,e){var r,n,i,o;if(!Bt(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],i=r.length,n=-1,r===e||Bt(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(Br(r)){for(o=i;o-- >0;)if(r[o]===e||r[o].listener&&r[o].listener===e){n=o;break}if(n<0)return this;r.length===1?(r.length=0,delete this._events[t]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},et.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[t]&&delete this._events[t],this;if(arguments.length===0){for(e in this._events)e!=="removeListener"&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],Bt(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},et.prototype.listeners=function(t){var e;return!this._events||!this._events[t]?e=[]:Bt(this._events[t])?e=[this._events[t]]:e=this._events[t].slice(),e},et.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(Bt(e))return 1;if(e)return e.length}return 0},et.listenerCount=function(t,e){return t.listenerCount(e)};function Bt(t){return typeof t=="function"}function Gv(t){return typeof t=="number"}function Br(t){return typeof t=="object"&&t!==null}function Ea(t){return t===void 0}function Yv(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=i}var s=t.length,f=t.charAt(0),p=Math.log(s)/Math.log(256),d=Math.log(256)/Math.log(s);function E(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";for(var U=0,R=0,B=0,m=x.length;B!==m&&x[B]===0;)B++,U++;for(var S=(m-B)*d+1>>>0,v=new Uint8Array(S);B!==m;){for(var D=x[B],C=0,c=S-1;(D!==0||C<R)&&c!==-1;c--,C++)D+=256*v[c]>>>0,v[c]=D%s>>>0,D=D/s>>>0;if(D!==0)throw new Error("Non-zero carry");R=C,B++}for(var _=S-R;_!==S&&v[_]===0;)_++;for(var W=f.repeat(U);_<S;++_)W+=t.charAt(v[_]);return W}function T(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;var U=0;if(x[U]!==" "){for(var R=0,B=0;x[U]===f;)R++,U++;for(var m=(x.length-U)*p+1>>>0,S=new Uint8Array(m);x[U];){var v=r[x.charCodeAt(U)];if(v===255)return;for(var D=0,C=m-1;(v!==0||D<B)&&C!==-1;C--,D++)v+=s*S[C]>>>0,S[C]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");B=D,U++}if(x[U]!==" "){for(var c=m-B;c!==m&&S[c]===0;)c++;for(var _=new Uint8Array(R+(m-c)),W=R;c!==m;)_[W++]=S[c++];return _}}}function I(x){var U=T(x);if(U)return U;throw new Error(`Non-${e} character`)}return{encode:E,decodeUnsafe:T,decode:I}}var Jv=Yv,Xv=Jv;const Nl=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Qv=t=>new TextEncoder().encode(t),Zv=t=>new TextDecoder().decode(t);class ey{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ty{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Rl(this,e)}}class ry{constructor(e){this.decoders=e}or(e){return Rl(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Rl=(t,e)=>new ry({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class ny{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new ey(e,r,n),this.decoder=new ty(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ci=({name:t,prefix:e,encode:r,decode:n})=>new ny(t,e,r,n),ln=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Xv(r,e);return ci({prefix:t,name:e,encode:n,decode:o=>Nl(i(o))})},iy=(t,e,r,n)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let o=t.length;for(;t[o-1]==="=";)--o;const a=new Uint8Array(o*r/8|0);let s=0,f=0,p=0;for(let d=0;d<o;++d){const E=i[t[d]];if(E===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|E,s+=r,s>=8&&(s-=8,a[p++]=255&f>>s)}if(s>=r||255&f<<8-s)throw new SyntaxError("Unexpected end of data");return a},oy=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let o="",a=0,s=0;for(let f=0;f<t.length;++f)for(s=s<<8|t[f],a+=8;a>r;)a-=r,o+=e[i&s>>a];if(a&&(o+=e[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},ot=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>ci({prefix:e,name:t,encode(i){return oy(i,n,r)},decode(i){return iy(i,n,r,t)}}),sy=ci({prefix:"\0",name:"identity",encode:t=>Zv(t),decode:t=>Qv(t)});var ay=Object.freeze({__proto__:null,identity:sy});const cy=ot({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var uy=Object.freeze({__proto__:null,base2:cy});const ly=ot({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var fy=Object.freeze({__proto__:null,base8:ly});const hy=ln({prefix:"9",name:"base10",alphabet:"0123456789"});var dy=Object.freeze({__proto__:null,base10:hy});const py=ot({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),gy=ot({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var _y=Object.freeze({__proto__:null,base16:py,base16upper:gy});const vy=ot({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),yy=ot({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),my=ot({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),wy=ot({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),by=ot({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ey=ot({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),xy=ot({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Dy=ot({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Sy=ot({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Cy=Object.freeze({__proto__:null,base32:vy,base32upper:yy,base32pad:my,base32padupper:wy,base32hex:by,base32hexupper:Ey,base32hexpad:xy,base32hexpadupper:Dy,base32z:Sy});const Ay=ln({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Iy=ln({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Oy=Object.freeze({__proto__:null,base36:Ay,base36upper:Iy});const Ty=ln({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ny=ln({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Ry=Object.freeze({__proto__:null,base58btc:Ty,base58flickr:Ny});const Ly=ot({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Py=ot({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Fy=ot({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),My=ot({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Uy=Object.freeze({__proto__:null,base64:Ly,base64pad:Py,base64url:Fy,base64urlpad:My});const Ll=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),By=Ll.reduce((t,e,r)=>(t[r]=e,t),[]),$y=Ll.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function jy(t){return t.reduce((e,r)=>(e+=By[r],e),"")}function zy(t){const e=[];for(const r of t){const n=$y[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const ky=ci({prefix:"\u{1F680}",name:"base256emoji",encode:jy,decode:zy});var Ky=Object.freeze({__proto__:null,base256emoji:ky}),Hy=Pl,xa=128,Vy=127,qy=~Vy,Wy=Math.pow(2,31);function Pl(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Wy;)e[r++]=t&255|xa,t/=128;for(;t&qy;)e[r++]=t&255|xa,t>>>=7;return e[r]=t|0,Pl.bytes=r-n+1,e}var Gy=to,Yy=128,Da=127;function to(t,n){var r=0,n=n||0,i=0,o=n,a,s=t.length;do{if(o>=s)throw to.bytes=0,new RangeError("Could not decode varint");a=t[o++],r+=i<28?(a&Da)<<i:(a&Da)*Math.pow(2,i),i+=7}while(a>=Yy);return to.bytes=o-n,r}var Jy=Math.pow(2,7),Xy=Math.pow(2,14),Qy=Math.pow(2,21),Zy=Math.pow(2,28),em=Math.pow(2,35),tm=Math.pow(2,42),rm=Math.pow(2,49),nm=Math.pow(2,56),im=Math.pow(2,63),om=function(t){return t<Jy?1:t<Xy?2:t<Qy?3:t<Zy?4:t<em?5:t<tm?6:t<rm?7:t<nm?8:t<im?9:10},sm={encode:Hy,decode:Gy,encodingLength:om},Fl=sm;const Sa=(t,e,r=0)=>(Fl.encode(t,e,r),e),Ca=t=>Fl.encodingLength(t),ro=(t,e)=>{const r=e.byteLength,n=Ca(t),i=n+Ca(r),o=new Uint8Array(i+r);return Sa(t,o,0),Sa(r,o,n),o.set(e,i),new am(t,r,e,o)};class am{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const Ml=({name:t,code:e,encode:r})=>new cm(t,e,r);class cm{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?ro(this.code,r):r.then(n=>ro(this.code,n))}else throw Error("Unknown type, must be binary type")}}const Ul=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),um=Ml({name:"sha2-256",code:18,encode:Ul("SHA-256")}),lm=Ml({name:"sha2-512",code:19,encode:Ul("SHA-512")});var fm=Object.freeze({__proto__:null,sha256:um,sha512:lm});const Bl=0,hm="identity",$l=Nl,dm=t=>ro(Bl,$l(t)),pm={code:Bl,name:hm,encode:$l,digest:dm};var gm=Object.freeze({__proto__:null,identity:pm});new TextEncoder,new TextDecoder;const Aa={...ay,...uy,...fy,...dy,..._y,...Cy,...Oy,...Ry,...Uy,...Ky};({...fm,...gm});function _m(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function jl(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Ia=jl("utf8","u",t=>{const e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),Di=jl("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=_m(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),vm={utf8:Ia,"utf-8":Ia,hex:Aa.base16,latin1:Di,ascii:Di,binary:Di,...Aa};function ym(t,e="utf8"){const r=vm[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}const zl="wc",mm=2,Go="core",Qr=`${zl}@${2}:${Go}:`,wm={name:Go,logger:"error"},bm={database:":memory:"},Em="crypto",Oa="client_ed25519_seed",xm=Pe.ONE_DAY,Dm="keychain",Sm="0.3",Cm="messages",Am="0.3",Im=Pe.SIX_HOURS,Om="publisher",Ta="irn",Tm="error",Nm="wss://relay.walletconnect.com",Rm="relayer",zr={message:"relayer_message",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error"},Lm="_subscription",wr={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Pm=Pe.ONE_SECOND,Fm="2.0.0-rc.1",Mm="0.3",cr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync"},Um="subscription",Bm="0.3",$m=Pe.FIVE_SECONDS*1e3;class jm{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=Dm,this.version=Sm,this.initialized=!1,this.storagePrefix=Qr,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:o}=se("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(o)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=Te.generateChildLogger(r,this.name)}get context(){return Te.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,dl(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?pl(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}}class zm{constructor(e,r,n){this.core=e,this.logger=r,this.name=Em,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();const i=await this.getClientSeed(),o=Js(i);return tl(o.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const i=x1();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();const o=await this.getClientSeed(),a=Js(o),s=Xi();return await P_(s,i,xm,a)},this.generateSharedKey=(i,o,a)=>{this.isInitialized();const s=this.getPrivateKey(i),f=D1(s,o);return this.setSymKey(f,a)},this.setSymKey=async(i,o)=>{this.isInitialized();const a=o||S1(i);return await this.keychain.set(a,i),a},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,o,a)=>{this.isInitialized();const s=fl(a),f=Bn(o);if(aa(s)){const T=s.senderPublicKey,I=s.receiverPublicKey;i=await this.generateSharedKey(T,I)}const p=this.getSymKey(i),{type:d,senderPublicKey:E}=s;return A1({type:d,symKey:p,message:f,senderPublicKey:E})},this.decode=async(i,o,a)=>{this.isInitialized();const s=T1(o,a);if(aa(s)){const d=s.receiverPublicKey,E=s.senderPublicKey;i=await this.generateSharedKey(d,E)}const f=this.getSymKey(i),p=I1({symKey:f,encoded:o});return lo(p)},this.core=e,this.logger=Te.generateChildLogger(r,this.name),this.keychain=n||new jm(this.core,this.logger)}get context(){return Te.getLoggerContext(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Oa)}catch{e=Xi(),await this.keychain.set(Oa,e)}return ym(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}}class km extends vp{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=Cm,this.version=Am,this.initialized=!1,this.storagePrefix=Qr,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();const o=Ln(i);let a=this.messages.get(n);return typeof a>"u"&&(a={}),typeof a[o]<"u"||(a[o]=i,this.messages.set(n,a),await this.persist()),o},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();const o=this.get(n),a=Ln(i);return typeof o[a]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=Te.generateChildLogger(e,this.name),this.core=r}get context(){return Te.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,dl(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?pl(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Km extends yp{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new ai.EventEmitter,this.name=Om,this.queue=new Map,this.publish=async(n,i,o)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:o}});try{const a=o?.ttl||Im,s=Qi(o),f=o?.prompt||!1,p=o?.tag||0,d={topic:n,message:i,opts:{ttl:a,relay:s,prompt:f,tag:p}},E=Ln(i);this.queue.set(E,d),await this.rpcPublish(n,i,a,s,f,p),this.onPublish(E,d),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:o}})}catch(a){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(a),a}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=Te.generateChildLogger(r,this.name),this.registerEventListeners()}get context(){return Te.getLoggerContext(this.logger)}rpcPublish(e,r,n,i,o,a){var s,f,p,d;const E={method:Zi(i.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:o,tag:a}};return xt((s=E.params)==null?void 0:s.prompt)&&((f=E.params)==null||delete f.prompt),xt((p=E.params)==null?void 0:p.tag)&&((d=E.params)==null||delete d.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:E}),this.relayer.provider.request(E)}onPublish(e,r){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:r,message:n,opts:{ttl:i,relay:o,prompt:a,tag:s}}=e,f=Ln(n);await this.rpcPublish(r,n,i,o,a,s),this.onPublish(f,e)})}registerEventListeners(){this.relayer.core.heartbeat.on(nn.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()})}}class Hm{constructor(){this.map=new Map,this.set=(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(o=>o!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Vm=Object.defineProperty,qm=Object.defineProperties,Wm=Object.getOwnPropertyDescriptors,Na=Object.getOwnPropertySymbols,Gm=Object.prototype.hasOwnProperty,Ym=Object.prototype.propertyIsEnumerable,Ra=(t,e,r)=>e in t?Vm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,En=(t,e)=>{for(var r in e||(e={}))Gm.call(e,r)&&Ra(t,r,e[r]);if(Na)for(var r of Na(e))Ym.call(e,r)&&Ra(t,r,e[r]);return t},Si=(t,e)=>qm(t,Wm(e));class Jm extends bp{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new Hm,this.events=new ai.EventEmitter,this.name=Um,this.version=Bm,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pendingSubInterval=20,this.storagePrefix=Qr,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),await this.reset(),this.registerEventListeners(),this.onEnable())},this.subscribe=async(n,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const o=Qi(i),a={topic:n,relay:o};this.pending.set(n,a);const s=await this.rpcSubscribe(n,o);return this.onSubscribe(s,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}}),s}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}},this.unsubscribe=async(n,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>this.topics.includes(n)?!0:await new Promise((i,o)=>{const a=new Pe.Watch;a.start(this.pendingSubscriptionWatchLabel);const s=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(s),a.stop(this.pendingSubscriptionWatchLabel),i(!0)),a.elapsed(this.pendingSubscriptionWatchLabel)>=$m&&(clearInterval(s),a.stop(this.pendingSubscriptionWatchLabel),o(!1))},this.pendingSubInterval)}),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=Te.generateChildLogger(r,this.name)}get context(){return Te.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear(),this.initialized=!1}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=Qi(n);await this.rpcUnsubscribe(e,r,i);const o=nt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,o),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r){const n={method:Zi(r.protocol).subscribe,params:{topic:e}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),await this.relayer.provider.request(n)}rpcUnsubscribe(e,r,n){const i={method:Zi(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.provider.request(i)}onSubscribe(e,r){this.setSubscription(e,Si(En({},r),{id:e})),this.pending.delete(r.topic)}onResubscribe(e,r){this.addSubscription(e,Si(En({},r),{id:e})),this.pending.delete(r.topic)}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r))}addSubscription(e,r){this.subscriptions.set(e,En({},r)),this.topicMap.set(r.topic,e),this.events.emit(cr.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(cr.deleted,Si(En({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(cr.sync)}async reset(){!this.cached.length||await Promise.all(this.cached.map(async e=>await this.resubscribe(e)))}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async resubscribe(e){if(!this.ids.includes(e.id)){const{topic:r,relay:n}=e,i={topic:r,relay:n};this.pending.set(i.topic,i);const o=await this.rpcSubscribe(i.topic,i.relay);this.onResubscribe(o,i)}}async onConnect(){await this.reset(),this.onEnable()}onDisconnect(){this.onDisable()}checkPending(){this.pending.forEach(async e=>{const r=await this.rpcSubscribe(e.topic,e.relay);this.onSubscribe(r,e)})}registerEventListeners(){this.relayer.core.heartbeat.on(nn.HEARTBEAT_EVENTS.pulse,()=>{this.checkPending()}),this.relayer.provider.on(wr.connect,async()=>{await this.onConnect()}),this.relayer.provider.on(wr.disconnect,()=>{this.onDisconnect()}),this.events.on(cr.created,async e=>{const r=cr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(cr.deleted,async e=>{const r=cr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Xm=Object.defineProperty,La=Object.getOwnPropertySymbols,Qm=Object.prototype.hasOwnProperty,Zm=Object.prototype.propertyIsEnumerable,Pa=(t,e,r)=>e in t?Xm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ew=(t,e)=>{for(var r in e||(e={}))Qm.call(e,r)&&Pa(t,r,e[r]);if(La)for(var r of La(e))Zm.call(e,r)&&Pa(t,r,e[r]);return t};class tw extends mp{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new ai.EventEmitter,this.name=Rm,this.initialized=!1,this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Te.generateChildLogger(e.logger,this.name):Io(Te.getDefaultLoggerOptions({level:e.logger||Tm})),this.messages=new km(this.logger,e.core),this.subscriber=new Jm(this,this.logger),this.publisher=new Km(this,this.logger),this.relayUrl=e?.relayUrl||Nm,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized");const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=this.createProvider(e),await Promise.all([this.messages.init(),this.provider.connect(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0}get context(){return Te.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r})}async subscribe(e,r){return this.isInitialized(),await this.subscriber.subscribe(e,r)}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}createProvider(e){return new Hv(new qv(H1({sdkVersion:Fm,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e})))}async recordMessageEvent(e){const{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;return await this.subscriber.isSubscribed(r)?this.messages.has(r,n):!0}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Ol(e)){if(!e.method.endsWith(Lm))return;const r=e.params,{topic:n,message:i}=r.data,o={topic:n,message:i};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(ew({type:"event",event:r.id},o)),this.events.emit(r.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(zr.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const r=Cl(e.id,!0);await this.provider.connection.send(r)}registerEventListeners(){this.provider.on(wr.payload,e=>this.onProviderPayload(e)),this.provider.on(wr.connect,()=>{this.events.emit(zr.connect)}),this.provider.on(wr.disconnect,()=>{this.events.emit(zr.disconnect),setTimeout(()=>{this.provider.connect()},Pe.toMiliseconds(Pm))}),this.provider.on(wr.error,e=>this.events.emit(zr.error,e))}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var rw=Object.defineProperty,Fa=Object.getOwnPropertySymbols,nw=Object.prototype.hasOwnProperty,iw=Object.prototype.propertyIsEnumerable,Ma=(t,e,r)=>e in t?rw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ua=(t,e)=>{for(var r in e||(e={}))nw.call(e,r)&&Ma(t,r,e[r]);if(Fa)for(var r of Fa(e))iw.call(e,r)&&Ma(t,r,e[r]);return t};class Yo extends wp{constructor(e,r,n,i=Qr,o=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=Mm,this.cached=[],this.initialized=!1,this.storagePrefix=Qr,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{fv(a)?this.map.set(a.id,a):hv(a)?this.map.set(a.topic,a):this.getKey&&a!==null&&!xt(a)&&this.map.set(this.getKey(a),a)}),this.cached=[],this.initialized=!0)},this.set=async(a,s)=>{this.isInitialized(),this.map.has(a)?await this.update(a,s):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:s}),this.map.set(a,s),await this.persist())},this.get=a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a)),this.getAll=a=>a?this.values.filter(s=>Object.keys(a).every(f=>Wv(s[f],a[f]))):this.values,this.update=async(a,s)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:s});const f=Ua(Ua({},this.getData(a)),s);this.map.set(a,f),await this.persist()},this.delete=async(a,s)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:s}),this.map.delete(a),await this.persist())},this.logger=Te.generateChildLogger(r,this.name),this.storagePrefix=i,this.getKey=o}get context(){return Te.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){const{message:n}=se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var ow=Object.defineProperty,Ba=Object.getOwnPropertySymbols,sw=Object.prototype.hasOwnProperty,aw=Object.prototype.propertyIsEnumerable,$a=(t,e,r)=>e in t?ow(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ja=(t,e)=>{for(var r in e||(e={}))sw.call(e,r)&&$a(t,r,e[r]);if(Ba)for(var r of Ba(e))aw.call(e,r)&&$a(t,r,e[r]);return t};class Jo extends gp{constructor(e){super(e),this.protocol=zl,this.version=mm,this.name=Go,this.events=new ai.EventEmitter,this.initialized=!1,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.projectId=e?.projectId;const r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Io(Te.getDefaultLoggerOptions({level:e?.logger||wm.logger}));this.logger=Te.generateChildLogger(r,this.name),this.heartbeat=new nn.HeartBeat,this.crypto=new zm(this,this.logger,e?.keychain),this.storage=e!=null&&e.storage?e.storage:new ep(ja(ja({},bm),e?.storageOptions)),this.relayer=new tw({core:this,logger:this.logger,relayUrl:e?.relayUrl,projectId:this.projectId})}static async init(e){const r=new Jo(e);return await r.initialize(),r}get context(){return Te.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.relayer.init(),await this.heartbeat.init(),this.initialized=!0,this.logger.info("Core Initilization Success")}catch(e){throw this.logger.info("Core Initilization Failure"),this.logger.error(e.message),e}}}const cw=Jo;function tt(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var ui=tt;tt.EventEmitter=tt,tt.prototype._events=void 0,tt.prototype._maxListeners=void 0,tt.defaultMaxListeners=10,tt.prototype.setMaxListeners=function(t){if(!uw(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},tt.prototype.emit=function(t){var e,r,n,i,o,a;if(this._events||(this._events={}),t==="error"&&(!this._events.error||$r(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var s=new Error('Uncaught, unspecified "error" event. ('+e+")");throw s.context=e,s}if(r=this._events[t],za(r))return!1;if($t(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if($r(r))for(i=Array.prototype.slice.call(arguments,1),a=r.slice(),n=a.length,o=0;o<n;o++)a[o].apply(this,i);return!0},tt.prototype.addListener=function(t,e){var r;if(!$t(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,$t(e.listener)?e.listener:e),this._events[t]?$r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,$r(this._events[t])&&!this._events[t].warned&&(za(this._maxListeners)?r=tt.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),typeof console.trace=="function"&&console.trace())),this},tt.prototype.on=tt.prototype.addListener,tt.prototype.once=function(t,e){if(!$t(e))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}return n.listener=e,this.on(t,n),this},tt.prototype.removeListener=function(t,e){var r,n,i,o;if(!$t(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],i=r.length,n=-1,r===e||$t(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if($r(r)){for(o=i;o-- >0;)if(r[o]===e||r[o].listener&&r[o].listener===e){n=o;break}if(n<0)return this;r.length===1?(r.length=0,delete this._events[t]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},tt.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[t]&&delete this._events[t],this;if(arguments.length===0){for(e in this._events)e!=="removeListener"&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],$t(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},tt.prototype.listeners=function(t){var e;return!this._events||!this._events[t]?e=[]:$t(this._events[t])?e=[this._events[t]]:e=this._events[t].slice(),e},tt.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if($t(e))return 1;if(e)return e.length}return 0},tt.listenerCount=function(t,e){return t.listenerCount(e)};function $t(t){return typeof t=="function"}function uw(t){return typeof t=="number"}function $r(t){return typeof t=="object"&&t!==null}function za(t){return t===void 0}const kl="wc",Kl=2,Hl="client",fn=`${kl}@${Kl}:${Hl}:`,Ci={name:Hl,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},lw="expirer",Ct={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},fw="0.3",Nt={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},hw="history",dw="0.3",pw="pairing",gw="proposal",ka=mr(Pe.THIRTY_DAYS),_w="session",vw=Pe.SEVEN_DAYS,xn=mr(vw),yw="engine",Ai={wc_pairingDelete:{req:{prompt:!1,tag:1e3},res:{prompt:!1,tag:1001}},wc_pairingPing:{req:{prompt:!1,tag:1002},res:{prompt:!1,tag:1003}},wc_sessionPropose:{req:{prompt:!0,tag:1100},res:{prompt:!1,tag:1101}},wc_sessionSettle:{req:{prompt:!1,tag:1102},res:{prompt:!1,tag:1103}},wc_sessionUpdate:{req:{prompt:!1,tag:1104},res:{prompt:!1,tag:1105}},wc_sessionExtend:{req:{prompt:!1,tag:1106},res:{prompt:!1,tag:1107}},wc_sessionRequest:{req:{prompt:!0,tag:1108},res:{prompt:!1,tag:1109}},wc_sessionEvent:{req:{prompt:!0,tag:1110},res:{prompt:!1,tag:1111}},wc_sessionDelete:{req:{prompt:!1,tag:1112},res:{prompt:!1,tag:1113}},wc_sessionPing:{req:{prompt:!1,tag:1114},res:{prompt:!1,tag:1115}}};var mw=Object.defineProperty,ww=Object.defineProperties,bw=Object.getOwnPropertyDescriptors,Ka=Object.getOwnPropertySymbols,Ew=Object.prototype.hasOwnProperty,xw=Object.prototype.propertyIsEnumerable,Ha=(t,e,r)=>e in t?mw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Gt=(t,e)=>{for(var r in e||(e={}))Ew.call(e,r)&&Ha(t,r,e[r]);if(Ka)for(var r of Ka(e))xw.call(e,r)&&Ha(t,r,e[r]);return t},Va=(t,e)=>ww(t,bw(e));class Dw extends Sp{constructor(e){super(e),this.events=new ui,this.initialized=!1,this.name=yw,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0)},this.connect=async r=>{this.isInitialized(),await this.isValidConnect(r);const{pairingTopic:n,requiredNamespaces:i,relays:o}=r;let a=n,s,f=!1;if(a&&(f=this.client.pairing.get(a).active),!a||!f){const{topic:R,uri:B}=await this.createPairing();a=R,s=B}const p=await this.client.core.crypto.generateKeyPair(),d={requiredNamespaces:i,relays:o??[{protocol:Ta}],proposer:{publicKey:p,metadata:this.client.metadata}},{reject:E,resolve:T,done:I}=ar();if(this.events.once(Be("session_connect"),async({error:R,session:B})=>{if(R)E(R);else if(B){B.self.publicKey=p;const m=Va(Gt({},B),{requiredNamespaces:i});await this.client.session.set(B.topic,m),await this.setExpiry(B.topic,B.expiry),a&&await this.client.pairing.update(a,{peerMetadata:B.peer.metadata}),T(m)}}),!a){const{message:R}=se("NO_MATCHING_KEY",`connect() pairing topic: ${a}`);throw new Error(R)}const x=await this.sendRequest(a,"wc_sessionPropose",d),U=mr(Pe.FIVE_MINUTES);return await this.setProposal(x,Gt({id:x,expiry:U},d)),{uri:s,approval:I}},this.pair=async r=>{this.isInitialized(),this.isValidPair(r);const{topic:n,symKey:i,relay:o}=ev(r.uri),a=mr(Pe.FIVE_MINUTES),s={topic:n,relay:o,expiry:a,active:!1};return await this.client.pairing.set(n,s),await this.client.core.crypto.setSymKey(i,n),await this.client.core.relayer.subscribe(n,{relay:o}),await this.setExpiry(n,a),s},this.approve=async r=>{this.isInitialized(),await this.isValidApprove(r);const{id:n,relayProtocol:i,namespaces:o}=r,{pairingTopic:a,proposer:s,requiredNamespaces:f}=this.client.proposal.get(n),p=await this.client.core.crypto.generateKeyPair(),d=s.publicKey,E=await this.client.core.crypto.generateSharedKey(p,d),T={relay:{protocol:i??"irn"},namespaces:o,requiredNamespaces:f,controller:{publicKey:p,metadata:this.client.metadata},expiry:xn};await this.client.core.relayer.subscribe(E);const I=await this.sendRequest(E,"wc_sessionSettle",T),{done:x,resolve:U,reject:R}=ar();this.events.once(Be("session_approve",I),({error:m})=>{m?R(m):U(this.client.session.get(E))});const B=Va(Gt({},T),{topic:E,acknowledged:!1,self:T.controller,peer:{publicKey:s.publicKey,metadata:s.metadata},controller:p});return await this.client.session.set(E,B),await this.setExpiry(E,xn),a&&await this.client.pairing.update(a,{peerMetadata:B.peer.metadata}),a&&n&&(await this.sendResult(n,a,{relay:{protocol:i??"irn"},responderPublicKey:p}),await this.client.proposal.delete(n,nt("USER_DISCONNECTED")),await this.activatePairing(a)),{topic:E,acknowledged:x}},this.reject=async r=>{this.isInitialized(),await this.isValidReject(r);const{id:n,reason:i}=r,{pairingTopic:o}=this.client.proposal.get(n);o&&(await this.sendError(n,o,i),await this.client.proposal.delete(n,nt("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.isValidUpdate(r);const{topic:n,namespaces:i}=r,o=await this.sendRequest(n,"wc_sessionUpdate",{namespaces:i}),{done:a,resolve:s,reject:f}=ar();return this.events.once(Be("session_update",o),({error:p})=>{p?f(p):s()}),await this.client.session.update(n,{namespaces:i}),{acknowledged:a}},this.extend=async r=>{this.isInitialized(),await this.isValidExtend(r);const{topic:n}=r,i=await this.sendRequest(n,"wc_sessionExtend",{}),{done:o,resolve:a,reject:s}=ar();return this.events.once(Be("session_extend",i),({error:f})=>{f?s(f):a()}),await this.setExpiry(n,xn),{acknowledged:o}},this.request=async r=>{this.isInitialized(),await this.isValidRequest(r);const{chainId:n,request:i,topic:o}=r,a=await this.sendRequest(o,"wc_sessionRequest",{request:i,chainId:n}),{done:s,resolve:f,reject:p}=ar();return this.events.once(Be("session_request",a),({error:d,result:E})=>{d?p(d):f(E)}),await s()},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:o}=i;jt(i)?await this.sendResult(o,n,i.result):At(i)&&await this.sendError(o,n,i.error)},this.ping=async r=>{this.isInitialized(),await this.isValidPing(r);const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=await this.sendRequest(n,"wc_sessionPing",{}),{done:o,resolve:a,reject:s}=ar();this.events.once(Be("session_ping",i),({error:f})=>{f?s(f):a()}),await o()}else if(this.client.pairing.keys.includes(n)){const i=await this.sendRequest(n,"wc_pairingPing",{}),{done:o,resolve:a,reject:s}=ar();this.events.once(Be("pairing_ping",i),({error:f})=>{f?s(f):a()}),await o()}},this.emit=async r=>{this.isInitialized(),await this.isValidEmit(r);const{topic:n,event:i,chainId:o}=r;await this.sendRequest(n,"wc_sessionEvent",{event:i,chainId:o})},this.disconnect=async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:n}=r;this.client.session.keys.includes(n)?(await this.sendRequest(n,"wc_sessionDelete",nt("USER_DISCONNECTED")),await this.deleteSession(n)):this.client.pairing.keys.includes(n)&&(await this.sendRequest(n,"wc_pairingDelete",nt("USER_DISCONNECTED")),await this.deletePairing(n))},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>cv(n,r))),this.activatePairing=async r=>{await this.client.pairing.update(r,{active:!0,expiry:ka}),await this.setExpiry(r,ka)},this.deleteSession=async r=>{const{self:n}=this.client.session.get(r);await Promise.all([this.client.core.relayer.unsubscribe(r),this.client.session.delete(r,nt("USER_DISCONNECTED")),this.client.core.crypto.deleteKeyPair(n.publicKey),this.client.core.crypto.deleteSymKey(r),this.client.expirer.del(r)])},this.deletePairing=async r=>{await Promise.all([this.client.core.relayer.unsubscribe(r),this.client.pairing.delete(r,nt("USER_DISCONNECTED")),this.client.core.crypto.deleteSymKey(r),this.client.expirer.del(r)])},this.deleteProposal=async r=>{await Promise.all([this.client.proposal.delete(r,nt("USER_DISCONNECTED")),this.client.expirer.del(r)])},this.setExpiry=async(r,n)=>{this.client.pairing.keys.includes(r)?await this.client.pairing.update(r,{expiry:n}):this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:n}),this.client.expirer.set(r,n)},this.setProposal=async(r,n)=>{await this.client.proposal.set(r,n),this.client.expirer.set(r,n.expiry)},this.sendRequest=async(r,n,i)=>{const o=Wo(n,i),a=await this.client.core.crypto.encode(r,o),s=Ai[n].req;return await this.client.core.relayer.publish(r,a,s),this.client.history.set(r,o),o.id},this.sendResult=async(r,n,i)=>{const o=Cl(r,i),a=await this.client.core.crypto.encode(n,o),s=await this.client.history.get(n,r),f=Ai[s.request.method].res;await this.client.core.relayer.publish(n,a,f),await this.client.history.resolve(o)},this.sendError=async(r,n,i)=>{const o=Al(r,i),a=await this.client.core.crypto.encode(n,o),s=await this.client.history.get(n,r),f=Ai[s.request.method].res;await this.client.core.relayer.publish(n,a,f),await this.client.history.resolve(o)},this.cleanup=async()=>{const r=[],n=[],i=[];this.client.session.getAll().forEach(o=>{sr(o.expiry)&&r.push(o.topic)}),this.client.pairing.getAll().forEach(o=>{sr(o.expiry)&&n.push(o.topic)}),this.client.proposal.getAll().forEach(o=>{sr(o.expiry)&&i.push(o.id)}),await Promise.all([...r.map(this.deleteSession),...n.map(this.deletePairing),...i.map(this.deleteProposal)])},this.onRelayEventRequest=r=>{const{topic:n,payload:i}=r,o=i.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeRequest(n,i);case"wc_sessionSettle":return this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return this.onSessionExtendRequest(n,i);case"wc_sessionPing":return this.onSessionPingRequest(n,i);case"wc_pairingPing":return this.onPairingPingRequest(n,i);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,i);case"wc_pairingDelete":return this.onPairingDeleteRequest(n,i);case"wc_sessionRequest":return this.onSessionRequest(n,i);case"wc_sessionEvent":return this.onSessionEventRequest(n,i);default:return this.client.logger.info(`Unsupported request method ${o}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:i}=r,o=(await this.client.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_pairingPing":return this.onPairingPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}},this.onSessionProposeRequest=async(r,n)=>{const{params:i,id:o}=n;try{this.isValidConnect(Gt({},n.params));const a=mr(Pe.FIVE_MINUTES),s=Gt({id:o,pairingTopic:r,expiry:a},i);await this.setProposal(o,s),this.client.events.emit("session_proposal",{id:o,params:s})}catch(a){await this.sendError(o,r,a),this.client.logger.error(a)}},this.onSessionProposeResponse=async(r,n)=>{const{id:i}=n;if(jt(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const s=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:s});const f=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:f});const p=await this.client.core.crypto.generateSharedKey(s,f);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:p});const d=await this.client.core.relayer.subscribe(p);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.activatePairing(r)}else At(n)&&(await this.client.proposal.delete(i,nt("USER_DISCONNECTED")),this.events.emit(Be("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(r,n)=>{const{id:i,params:o}=n;try{this.isValidSessionSettleRequest(o);const{relay:a,controller:s,expiry:f,namespaces:p}=n.params,d={topic:r,relay:a,expiry:f,namespaces:p,acknowledged:!0,controller:s.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:s.publicKey,metadata:s.metadata}};await this.sendResult(n.id,r,!0),this.events.emit(Be("session_connect"),{session:d})}catch(a){await this.sendError(i,r,a),this.client.logger.error(a)}},this.onSessionSettleResponse=async(r,n)=>{const{id:i}=n;jt(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Be("session_approve",i),{})):At(n)&&(await this.client.session.delete(r,nt("USER_DISCONNECTED")),this.events.emit(Be("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:i,id:o}=n;try{this.isValidUpdate(Gt({topic:r},i)),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult(o,r,!0),this.client.events.emit("session_update",{id:o,topic:r,params:i})}catch(a){await this.sendError(o,r,a),this.client.logger.error(a)}},this.onSessionUpdateResponse=(r,n)=>{const{id:i}=n;jt(n)?this.events.emit(Be("session_update",i),{}):At(n)&&this.events.emit(Be("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,xn),await this.sendResult(i,r,!0),this.client.events.emit("session_extend",{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionExtendResponse=(r,n)=>{const{id:i}=n;jt(n)?this.events.emit(Be("session_extend",i),{}):At(n)&&this.events.emit(Be("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.client.events.emit("session_ping",{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionPingResponse=(r,n)=>{const{id:i}=n;jt(n)?this.events.emit(Be("session_ping",i),{}):At(n)&&this.events.emit(Be("session_ping",i),{error:n.error})},this.onPairingPingRequest=async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.client.events.emit("pairing_ping",{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onPairingPingResponse=(r,n)=>{const{id:i}=n;jt(n)?this.events.emit(Be("pairing_ping",i),{}):At(n)&&this.events.emit(Be("pairing_ping",i),{error:n.error})},this.onSessionDeleteRequest=async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await this.sendResult(i,r,!0),await this.deleteSession(r),this.client.events.emit("session_delete",{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onPairingDeleteRequest=async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await this.sendResult(i,r,!0),await this.deletePairing(r),this.client.events.emit("pairing_delete",{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionRequest=async(r,n)=>{const{id:i,params:o}=n;try{this.isValidRequest(Gt({topic:r},o)),this.client.events.emit("session_request",{id:i,topic:r,params:o})}catch(a){await this.sendError(i,r,a),this.client.logger.error(a)}},this.onSessionRequestResponse=(r,n)=>{const{id:i}=n;jt(n)?this.events.emit(Be("session_request",i),{result:n.result}):At(n)&&this.events.emit(Be("session_request",i),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:i,params:o}=n;try{this.isValidEmit(Gt({topic:r},o)),this.client.events.emit("session_event",{id:i,topic:r,params:o})}catch(a){await this.sendError(i,r,a),this.client.logger.error(a)}},this.isValidConnect=async r=>{if(!Et(r)){const{message:s}=se("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(s)}const{pairingTopic:n,requiredNamespaces:i,relays:o}=r;xt(n)||await this.isValidPairingTopic(n);const a=_v(i,"connect()");if(a)throw new Error(a.message);if(!vv(o,!0)){const{message:s}=se("MISSING_OR_INVALID",`connect() relays: ${o}`);throw new Error(s)}},this.isValidPair=r=>{if(!Et(r)){const{message:n}=se("MISSING_OR_INVALID",`pair() params: ${r}`);throw new Error(n)}if(!lv(r.uri)){const{message:n}=se("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw new Error(n)}},this.isValidApprove=async r=>{if(!Et(r))throw new Error(se("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:o}=r;await this.isValidProposalId(n);const a=this.client.proposal.get(n),s=xi(i,"approve()");if(s)throw new Error(s.message);const f=ya(a.requiredNamespaces,i,"update()");if(f)throw new Error(f.message);if(!ct(o,!0)){const{message:p}=se("MISSING_OR_INVALID",`approve() relayProtocol: ${o}`);throw new Error(p)}},this.isValidReject=async r=>{if(!Et(r)){const{message:o}=se("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(o)}const{id:n,reason:i}=r;if(await this.isValidProposalId(n),!mv(i)){const{message:o}=se("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(o)}},this.isValidSessionSettleRequest=r=>{if(!Et(r)){const{message:p}=se("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(p)}const{relay:n,controller:i,namespaces:o,expiry:a}=r;if(!ml(n)){const{message:p}=se("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(p)}const s=dv(i,"onSessionSettleRequest()");if(s)throw new Error(s.message);const f=xi(o,"onSessionSettleRequest()");if(f)throw new Error(f.message);if(sr(a)){const{message:p}=se("EXPIRED","onSessionSettleRequest()");throw new Error(p)}},this.isValidUpdate=async r=>{if(!Et(r)){const{message:f}=se("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(f)}const{topic:n,namespaces:i}=r;await this.isValidSessionTopic(n);const o=this.client.session.get(n),a=xi(i,"update()");if(a)throw new Error(a.message);const s=ya(o.requiredNamespaces,i,"update()");if(s)throw new Error(s.message)},this.isValidExtend=async r=>{if(!Et(r)){const{message:i}=se("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!Et(r)){const{message:s}=se("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(s)}const{topic:n,request:i,chainId:o}=r;await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!va(a,o)){const{message:s}=se("MISSING_OR_INVALID",`request() chainId: ${o}`);throw new Error(s)}if(!wv(i)){const{message:s}=se("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(s)}if(!xv(a,o,i.method)){const{message:s}=se("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(s)}},this.isValidRespond=async r=>{if(!Et(r)){const{message:o}=se("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:n,response:i}=r;if(await this.isValidSessionTopic(n),!bv(i)){const{message:o}=se("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}},this.isValidPing=async r=>{if(!Et(r)){const{message:i}=se("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!Et(r)){const{message:s}=se("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(s)}const{topic:n,event:i,chainId:o}=r;await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!va(a,o)){const{message:s}=se("MISSING_OR_INVALID",`emit() chainId: ${o}`);throw new Error(s)}if(!Ev(i)){const{message:s}=se("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(s)}if(!Dv(a,o,i.name)){const{message:s}=se("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidDisconnect=async r=>{if(!Et(r)){const{message:i}=se("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}}async createPairing(){const e=Xi(),r=await this.client.core.crypto.setSymKey(e),n=mr(Pe.FIVE_MINUTES),i={protocol:Ta},o={topic:r,expiry:n,relay:i,active:!1},a=rv({protocol:this.client.protocol,version:this.client.version,topic:r,symKey:e,relay:i});return await this.client.pairing.set(r,o),await this.client.core.relayer.subscribe(r),await this.setExpiry(r,n),{topic:r,uri:a}}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(zr.message,async e=>{const{topic:r,message:n}=e,i=await this.client.core.crypto.decode(r,n);Ol(i)?(this.client.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):Tl(i)&&(await this.client.history.resolve(i),this.onRelayEventResponse({topic:r,payload:i}))})}registerExpirerEvents(){this.client.expirer.on(Ct.expired,async e=>{const{topic:r,id:n}=W1(e.target);r?this.client.session.keys.includes(r)?(await this.deleteSession(r),this.client.events.emit("session_expire",{topic:r})):this.client.pairing.keys.includes(r)&&(await this.deletePairing(r),this.client.events.emit("pairing_expire",{topic:r})):n&&await this.deleteProposal(n)})}async isValidPairingTopic(e){if(!ct(e,!1)){const{message:r}=se("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.pairing.keys.includes(e)){const{message:r}=se("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(sr(this.client.pairing.get(e).expiry)){await this.deletePairing(e);const{message:r}=se("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!ct(e,!1)){const{message:r}=se("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(!this.client.session.keys.includes(e)){const{message:r}=se("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(sr(this.client.session.get(e).expiry)){await this.deleteSession(e);const{message:r}=se("EXPIRED",`session topic: ${e}`);throw new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.pairing.keys.includes(e))await this.isValidPairingTopic(e);else if(ct(e,!1)){const{message:r}=se("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=se("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!yv(e)){const{message:r}=se("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=se("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(sr(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);const{message:r}=se("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class Sw extends Cp{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new ui.EventEmitter,this.name=lw,this.version=fw,this.cached=[],this.initialized=!1,this.storagePrefix=fn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();const o=this.formatTarget(n),a={target:o,expiry:i};this.expirations.set(o,a),this.checkExpiry(o,a),this.events.emit(Ct.created,{target:o,expiration:a})},this.get=n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{this.isInitialized();const i=this.formatTarget(n);if(this.has(i)){const o=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Ct.deleted,{target:i,expiration:o})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Te.generateChildLogger(r,this.name)}get context(){return Te.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return V1(e);if(typeof e=="number")return q1(e);const{message:r}=se("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ct.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;Pe.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Ct.expired,{target:e,expiration:r})}checkExpirations(){this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(nn.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Ct.created,e=>{const r=Ct.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Ct.expired,e=>{const r=Ct.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Ct.deleted,e=>{const r=Ct.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Cw extends _p{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new ui.EventEmitter,this.name=hw,this.version=dw,this.cached=[],this.initialized=!1,this.storagePrefix=fn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,o)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:o}),this.records.has(i.id))return;const a={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:o};this.records.set(a.id,a),this.events.emit(Nt.created,a)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=At(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.events.emit(Nt.updated,i))},this.get=async(n,i)=>{this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i});const o=await this.getRecord(i);if(o.topic!==n){const{message:a}=se("MISMATCHED_TOPIC",`${this.name}, ${i}`);throw this.logger.error(a),new Error(a)}return o},this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(o=>{if(o.topic===n){if(typeof i<"u"&&o.id!==i)return;this.records.delete(o.id),this.events.emit(Nt.deleted,o)}})},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Te.generateChildLogger(r,this.name)}get context(){return Te.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Wo(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Nt.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Nt.created,e=>{const r=Nt.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(Nt.updated,e=>{const r=Nt.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(Nt.deleted,e=>{const r=Nt.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Aw extends Yo{constructor(e,r){super(e,r,pw,fn),this.core=e,this.logger=r}}class Iw extends Yo{constructor(e,r){super(e,r,gw,fn),this.core=e,this.logger=r}}class Ow extends Yo{constructor(e,r){super(e,r,_w,fn),this.core=e,this.logger=r}}class Xo extends Dp{constructor(e){super(e),this.protocol=kl,this.version=Kl,this.name=Ci.name,this.events=new ui.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.name=e?.name||Ci.name,this.metadata=e?.metadata||j1();const r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Io(Te.getDefaultLoggerOptions({level:e?.logger||Ci.logger}));this.core=e?.core||new cw(e),this.logger=Te.generateChildLogger(r,this.name),this.pairing=new Aw(this.core,this.logger),this.session=new Ow(this.core,this.logger),this.proposal=new Iw(this.core,this.logger),this.history=new Cw(this.core,this.logger),this.expirer=new Sw(this.core,this.logger),this.engine=new Dw(this)}static async init(e){const r=new Xo(e);return await r.initialize(),r}get context(){return Te.getLoggerContext(this.logger)}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.pairing.init(),await this.session.init(),await this.proposal.init(),await this.history.init(),await this.expirer.init(),await this.engine.init(),this.logger.info("SignClient Initilization Success")}catch(e){throw this.logger.info("SignClient Initilization Failure"),this.logger.error(e.message),e}}}class ur extends Error{constructor(){super(),Object.setPrototypeOf(this,ur.prototype)}}class Qo extends Error{constructor(){super(),Object.setPrototypeOf(this,Qo.prototype)}}var qa;(function(t){t.Mainnet="solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ",t.Devnet="solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"})(qa||(qa={}));var Tr;(function(t){t.signTransaction="solana_signTransaction",t.signMessage="solana_signMessage"})(Tr||(Tr={}));const Wa=(t,e)=>({requiredNamespaces:{solana:{chains:[t],methods:[Tr.signTransaction,Tr.signMessage],events:[]}},pairingTopic:e});class Lw{constructor(e){this._options=e.options,this._network=e.network}async connect(){const e=this._client??await Xo.init(this._options),r=e.find(Wa(this._network)).filter(n=>n.acknowledged);if(r.length)return this._session=r[r.length-1],this._client=e,{publicKey:this.publicKey};{const{uri:n,approval:i}=await e.connect(Wa(this._network));return new Promise((o,a)=>{n&&Bs.open(n,()=>{a(new Qo)}),i().then(s=>{this._session=s,this._client=e,o({publicKey:this.publicKey})}).catch(a).finally(()=>{Bs.close()})})}}async disconnect(){if(this._client&&this._session)await this._client.disconnect({topic:this._session.topic,reason:nt("USER_DISCONNECTED")}),this._session=void 0;else throw new ur}get client(){if(this._client)return Object.assign({},this._client,{off:this._client.removeListener});throw new ur}get publicKey(){if(this._client&&this._session){const{address:e}=b1(this._session.namespaces.solana.accounts[0]);return new Ff(e)}else throw new ur}async signTransaction(e){if(this._client&&this._session){const{signature:r}=await this._client.request({chainId:this._network,topic:this._session.topic,request:{method:Tr.signTransaction,params:{...e}}});return e.addSignature(this.publicKey,Buffer.from(fi.decode(r))),e}else throw new ur}async signMessage(e){if(this._client&&this._session){const{signature:r}=await this._client.request({chainId:this._network,topic:this._session.topic,request:{method:Tr.signMessage,params:{pubkey:this.publicKey.toString(),message:fi.encode(e)}}});return fi.decode(r)}else throw new ur}}export{ur as ClientNotInitializedError,Qo as QRCodeModalError,qa as WalletConnectChainID,Xo as WalletConnectClient,Tr as WalletConnectRPCMethods,Lw as WalletConnectWallet};
